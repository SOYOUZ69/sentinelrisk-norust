import{a as he,b as xe,e as ve}from"./chunk-HVRW7A2E.js";import{a as q}from"./chunk-2SE4V6IW.js";import{a as fe,b as ue,c as ge}from"./chunk-UXRNQJZH.js";import{a as pe}from"./chunk-IJZ36ROY.js";import{a as Ce,b as _e,c as Ee,d as Me}from"./chunk-YGNCV335.js";import{a as K}from"./chunk-ID73RLEV.js";import{a as _t,b as Et,c as Mt,d as ht,f as xt,h as vt}from"./chunk-Y6CVK3JV.js";import{a as Q}from"./chunk-KBSDRDR5.js";import{B as ae,C as ce,E as le,F as se,G as me,H as de,a as Vt,b as qt,c as jt,d as Bt,e as Yt,f as zt,g as Ht,h as Ut,i as $t,j as Gt,l as Qt,n as V,o as Kt,p as Wt,q as Jt,r as G,s as Xt,t as Zt,u as te,v as ee,w as ne,x as oe,y as ie,z as re}from"./chunk-VEQFYUJL.js";import{A as U,B as Pt,Q as $,R as bt,T as St,V as T,X as Tt,Y as It,aa as yt,ba as Dt,ca as kt,da as Ft,ea as wt,fa as Nt,ga as Rt,ha as Lt,ja as At}from"./chunk-SJ23VTXR.js";import{a as A,b as Ot}from"./chunk-YKJTYXXW.js";import{a as L,b as H,c as Ct}from"./chunk-YNDG7QUW.js";import{$ as lt,$b as pt,$c as gt,Ba as m,Da as s,Ea as st,Ga as O,H as F,Hb as B,Ib as R,Lb as Y,Ma as o,Na as n,Oa as E,Pa as b,Pb as mt,Qa as S,Sa as y,Sc as ut,T as ct,Va as h,Xa as f,Zb as dt,_ as w,ac as z,ca as x,cb as N,cc as ft,da as v,db as r,eb as M,fb as g,nb as J,ob as j,pa as c,qa as u,rb as D,tb as k,vb as X,w as at}from"./chunk-Z6XCGGPI.js";var C=function(t){return t.PREVENTIVE="PREVENTIVE",t.DETECTIVE="DETECTIVE",t.CORRECTIVE="CORRECTIVE",t.DIRECTIVE="DIRECTIVE",t}(C||{}),p=function(t){return t.PLANNED="PLANNED",t.IMPLEMENTED="IMPLEMENTED",t.TESTED="TESTED",t.INEFFECTIVE="INEFFECTIVE",t.EFFECTIVE="EFFECTIVE",t.DEPRECATED="DEPRECATED",t}(p||{}),d=function(t){return t.CONTINUOUS="CONTINUOUS",t.DAILY="DAILY",t.WEEKLY="WEEKLY",t.MONTHLY="MONTHLY",t.QUARTERLY="QUARTERLY",t.ANNUALLY="ANNUALLY",t.ON_DEMAND="ON_DEMAND",t}(d||{});function we(t,l){t&1&&(o(0,"mat-error"),r(1," Le nom est requis "),n())}function Ne(t,l){t&1&&(o(0,"mat-error"),r(1," Le nom ne doit pas d\xE9passer 100 caract\xE8res "),n())}function Re(t,l){t&1&&(o(0,"mat-error"),r(1," La description ne doit pas d\xE9passer 1000 caract\xE8res "),n())}function Le(t,l){if(t&1&&(o(0,"mat-option",15),r(1),n()),t&2){let e=l.$implicit,a=f();s("value",e),c(),g(" ",a.typeTranslations[e]," ")}}function Ae(t,l){t&1&&(o(0,"mat-error"),r(1," Le type est requis "),n())}function Ve(t,l){if(t&1&&(o(0,"mat-option",15),r(1),n()),t&2){let e=l.$implicit,a=f();s("value",e),c(),g(" ",a.statusTranslations[e]," ")}}function qe(t,l){t&1&&(o(0,"mat-error"),r(1," Le statut est requis "),n())}function je(t,l){if(t&1&&(o(0,"mat-option",15),r(1),n()),t&2){let e=l.$implicit,a=f();s("value",e),c(),g(" ",a.frequencyTranslations[e]," ")}}function Be(t,l){t&1&&(o(0,"mat-error"),r(1," Le score doit \xEAtre sup\xE9rieur ou \xE9gal \xE0 0 "),n())}function Ye(t,l){t&1&&(o(0,"mat-error"),r(1," Le score doit \xEAtre inf\xE9rieur ou \xE9gal \xE0 100 "),n())}function ze(t,l){t&1&&(o(0,"mat-option",27),r(1,"Chargement des risques..."),n())}function He(t,l){if(t&1&&(o(0,"mat-option",15),r(1),n()),t&2){let e=l.$implicit;s("value",e.id),c(),g(" ",e.name," ")}}function Ue(t,l){t&1&&(o(0,"span"),E(1,"mat-spinner",28),n())}var W=(()=>{class t{constructor(e,a,i,_,P,I){this.fb=e,this.controlService=a,this.riskService=i,this.snackBar=_,this.dialogRef=P,this.data=I,this.isSubmitting=!1,this.isLoadingRisks=!1,this.risks=[],this.controlTypes=Object.values(C),this.controlStatuses=Object.values(p),this.controlFrequencies=Object.values(d),this.typeTranslations={[C.PREVENTIVE]:"Pr\xE9ventif",[C.DETECTIVE]:"D\xE9tectif",[C.CORRECTIVE]:"Correctif",[C.DIRECTIVE]:"Directif"},this.statusTranslations={[p.PLANNED]:"Planifi\xE9",[p.IMPLEMENTED]:"Impl\xE9ment\xE9",[p.TESTED]:"Test\xE9",[p.INEFFECTIVE]:"Inefficace",[p.EFFECTIVE]:"Efficace",[p.DEPRECATED]:"Obsol\xE8te"},this.frequencyTranslations={[d.CONTINUOUS]:"Continu",[d.DAILY]:"Quotidien",[d.WEEKLY]:"Hebdomadaire",[d.MONTHLY]:"Mensuel",[d.QUARTERLY]:"Trimestriel",[d.ANNUALLY]:"Annuel",[d.ON_DEMAND]:"Sur demande"},this.isEditing=!!I.control,this.controlForm=this.createForm()}ngOnInit(){this.loadRisks(),this.isEditing&&this.data.control&&this.controlForm.patchValue(this.data.control)}loadRisks(){this.isLoadingRisks=!0,this.riskService.getRisks().pipe(F(()=>this.isLoadingRisks=!1)).subscribe({next:e=>{this.risks=e,console.log("Risques charg\xE9s:",e)},error:e=>{console.error("Erreur lors du chargement des risques:",e),this.snackBar.open("Erreur lors du chargement des risques","Fermer",{duration:5e3})}})}createForm(){return this.fb.group({name:["",[T.required,T.maxLength(100)]],description:["",T.maxLength(1e3)],type:[C.PREVENTIVE,T.required],status:[p.PLANNED,T.required],frequency:[null],owner:[""],implementationDate:[null],lastTestedDate:[null],effectivenessScore:[null,[T.min(0),T.max(100)]],documentation:[""],riskIds:[[]]})}onSubmit(){if(this.controlForm.invalid){this.markFormGroupTouched(this.controlForm);return}this.isSubmitting=!0;let e=this.controlForm.value;this.isEditing&&this.data.control?this.controlService.updateControl(this.data.control.id,e).subscribe({next:a=>{this.snackBar.open("Contr\xF4le mis \xE0 jour avec succ\xE8s","Fermer",{duration:3e3}),this.dialogRef.close(a)},error:a=>{console.error("Erreur lors de la mise \xE0 jour du contr\xF4le:",a),this.snackBar.open("Erreur lors de la mise \xE0 jour du contr\xF4le","Fermer",{duration:5e3}),this.isSubmitting=!1}}):this.controlService.createControl(e).subscribe({next:a=>{this.snackBar.open("Contr\xF4le cr\xE9\xE9 avec succ\xE8s","Fermer",{duration:3e3}),this.dialogRef.close(a)},error:a=>{console.error("Erreur lors de la cr\xE9ation du contr\xF4le:",a),this.snackBar.open("Erreur lors de la cr\xE9ation du contr\xF4le","Fermer",{duration:5e3}),this.isSubmitting=!1}})}onCancel(){this.dialogRef.close()}markFormGroupTouched(e){Object.values(e.controls).forEach(a=>{a.markAsTouched(),a.controls&&this.markFormGroupTouched(a)})}static{this.\u0275fac=function(a){return new(a||t)(u(Lt),u(q),u(K),u(V),u(Wt),u(Jt))}}static{this.\u0275cmp=w({type:t,selectors:[["app-control-form-dialog"]],decls:80,vars:23,consts:[["implementationPicker",""],["testPicker",""],["mat-dialog-title",""],[3,"ngSubmit","formGroup"],[1,"form-container"],["appearance","outline",1,"full-width"],["matInput","","formControlName","name","placeholder","Nom du contr\xF4le","required",""],[4,"ngIf"],["matInput","","formControlName","description","placeholder","Description du contr\xF4le","rows","3"],[1,"form-row"],["appearance","outline"],["formControlName","type","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","status","required",""],["formControlName","frequency"],[3,"value"],["matInput","","formControlName","owner","placeholder","Responsable du contr\xF4le"],["matInput","","formControlName","implementationDate",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","lastTestedDate",3,"matDatepicker"],["matInput","","type","number","formControlName","effectivenessScore","min","0","max","100","placeholder","Score entre 0 et 100"],["matInput","","formControlName","documentation","placeholder","Lien ou r\xE9f\xE9rence vers la documentation","rows","2"],["formControlName","riskIds","multiple",""],["disabled","",4,"ngIf"],["align","end"],["mat-button","","type","button",3,"click","disabled"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["disabled",""],["diameter","20",2,"display","inline-block","margin-right","8px"]],template:function(a,i){if(a&1){let _=y();o(0,"h2",2),r(1),n(),o(2,"form",3),h("ngSubmit",function(){return x(_),v(i.onSubmit())}),o(3,"mat-dialog-content")(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),r(7,"Nom"),n(),E(8,"input",6),m(9,we,2,0,"mat-error",7)(10,Ne,2,0,"mat-error",7),n(),o(11,"mat-form-field",5)(12,"mat-label"),r(13,"Description"),n(),E(14,"textarea",8),m(15,Re,2,0,"mat-error",7),n(),o(16,"div",9)(17,"mat-form-field",10)(18,"mat-label"),r(19,"Type"),n(),o(20,"mat-select",11),m(21,Le,2,2,"mat-option",12),n(),m(22,Ae,2,0,"mat-error",7),n(),o(23,"mat-form-field",10)(24,"mat-label"),r(25,"Statut"),n(),o(26,"mat-select",13),m(27,Ve,2,2,"mat-option",12),n(),m(28,qe,2,0,"mat-error",7),n()(),o(29,"div",9)(30,"mat-form-field",10)(31,"mat-label"),r(32,"Fr\xE9quence"),n(),o(33,"mat-select",14)(34,"mat-option",15),r(35,"Non applicable"),n(),m(36,je,2,2,"mat-option",12),n()(),o(37,"mat-form-field",10)(38,"mat-label"),r(39,"Propri\xE9taire"),n(),E(40,"input",16),n()(),o(41,"div",9)(42,"mat-form-field",10)(43,"mat-label"),r(44,"Date d'impl\xE9mentation"),n(),E(45,"input",17)(46,"mat-datepicker-toggle",18)(47,"mat-datepicker",null,0),n(),o(49,"mat-form-field",10)(50,"mat-label"),r(51,"Date du dernier test"),n(),E(52,"input",19)(53,"mat-datepicker-toggle",18)(54,"mat-datepicker",null,1),n()(),o(56,"mat-form-field",5)(57,"mat-label"),r(58,"Score d'efficacit\xE9 (%)"),n(),E(59,"input",20),m(60,Be,2,0,"mat-error",7)(61,Ye,2,0,"mat-error",7),n(),o(62,"mat-form-field",5)(63,"mat-label"),r(64,"Documentation"),n(),E(65,"textarea",21),n(),o(66,"mat-form-field",5)(67,"mat-label"),r(68,"Risques associ\xE9s"),n(),o(69,"mat-select",22),m(70,ze,2,0,"mat-option",23)(71,He,2,2,"mat-option",12),n(),o(72,"mat-hint"),r(73,"S\xE9lectionnez les risques g\xE9r\xE9s par ce contr\xF4le"),n()()()(),o(74,"mat-dialog-actions",24)(75,"button",25),h("click",function(){return x(_),v(i.onCancel())}),r(76,"Annuler"),n(),o(77,"button",26),m(78,Ue,2,0,"span",7),r(79),n()()()}if(a&2){let _,P,I,tt,et,nt,ot,it=N(48),rt=N(55);c(),M(i.isEditing?"Modifier le contr\xF4le":"Nouveau contr\xF4le"),c(),s("formGroup",i.controlForm),c(7),s("ngIf",(_=i.controlForm.get("name"))==null?null:_.hasError("required")),c(),s("ngIf",(P=i.controlForm.get("name"))==null?null:P.hasError("maxlength")),c(5),s("ngIf",(I=i.controlForm.get("description"))==null?null:I.hasError("maxlength")),c(6),s("ngForOf",i.controlTypes),c(),s("ngIf",(tt=i.controlForm.get("type"))==null?null:tt.hasError("required")),c(5),s("ngForOf",i.controlStatuses),c(),s("ngIf",(et=i.controlForm.get("status"))==null?null:et.hasError("required")),c(6),s("value",null),c(2),s("ngForOf",i.controlFrequencies),c(9),s("matDatepicker",it),c(),s("for",it),c(6),s("matDatepicker",rt),c(),s("for",rt),c(7),s("ngIf",(nt=i.controlForm.get("effectivenessScore"))==null?null:nt.hasError("min")),c(),s("ngIf",(ot=i.controlForm.get("effectivenessScore"))==null?null:ot.hasError("max")),c(9),s("ngIf",i.isLoadingRisks),c(),s("ngForOf",i.risks),c(4),s("disabled",i.isSubmitting),c(2),s("disabled",i.isSubmitting),c(),s("ngIf",i.isSubmitting),c(),g(" ",i.isEditing?"Mettre \xE0 jour":"Cr\xE9er"," ")}},dependencies:[B,R,yt,St,Dt,Tt,It,Rt,Nt,wt,kt,Ft,L,ae,ne,ie,oe,re,le,me,gt,Ce,_e,Ee,A,Xt,te,Zt],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:500px;max-width:800px;padding:0 10px}.full-width[_ngcontent-%COMP%]{width:100%}.form-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}mat-dialog-content[_ngcontent-%COMP%]{max-height:70vh;padding-top:10px}"]})}}return t})();var Ke=t=>["/controls",t];function We(t,l){t&1&&(o(0,"div",18),E(1,"mat-progress-spinner",19),n())}function Je(t,l){t&1&&(o(0,"th",20),r(1,"Nom"),n())}function Xe(t,l){if(t&1&&(o(0,"td",21),r(1),n()),t&2){let e=l.$implicit;c(),M(e.name)}}function Ze(t,l){t&1&&(o(0,"th",20),r(1,"Type"),n())}function tn(t,l){if(t&1&&(o(0,"td",21)(1,"span",22),r(2),n()()),t&2){let e=l.$implicit,a=f();c(),O(a.getTypeClass(e.type)),c(),g(" ",a.typeTranslations[e.type]," ")}}function en(t,l){t&1&&(o(0,"th",20),r(1,"Statut"),n())}function nn(t,l){if(t&1&&(o(0,"td",21)(1,"span",23),r(2),n()()),t&2){let e=l.$implicit,a=f();c(),O(a.getStatusClass(e.status)),c(),g(" ",a.statusTranslations[e.status]," ")}}function on(t,l){t&1&&(o(0,"th",20),r(1,"Fr\xE9quence"),n())}function rn(t,l){if(t&1&&(o(0,"td",21),r(1),n()),t&2){let e=l.$implicit,a=f();c(),g(" ",e.frequency?a.frequencyTranslations[e.frequency]:"N/A"," ")}}function an(t,l){t&1&&(o(0,"th",20),r(1,"Efficacit\xE9"),n())}function cn(t,l){if(t&1&&(o(0,"span",26),r(1),n()),t&2){let e=f().$implicit,a=f();O(a.getEffectivenessClass(e.effectivenessScore)),c(),g(" ",e.effectivenessScore," % ")}}function ln(t,l){t&1&&(o(0,"span"),r(1,"Non \xE9valu\xE9"),n())}function sn(t,l){if(t&1&&(o(0,"td",21),m(1,cn,2,3,"span",24)(2,ln,2,0,"span",25),n()),t&2){let e=l.$implicit;c(),s("ngIf",e.effectivenessScore!==void 0),c(),s("ngIf",e.effectivenessScore===void 0)}}function mn(t,l){t&1&&(o(0,"th",20),r(1,"Date de cr\xE9ation"),n())}function dn(t,l){if(t&1&&(o(0,"td",21),r(1),D(2,"date"),n()),t&2){let e=l.$implicit;c(),M(k(2,1,e.createdAt,"dd/MM/yyyy"))}}function pn(t,l){t&1&&(o(0,"th",20),r(1,"Actions"),n())}function fn(t,l){if(t&1){let e=y();o(0,"td",21)(1,"button",27)(2,"mat-icon"),r(3,"visibility"),n()(),o(4,"button",28),h("click",function(){let i=x(e).$implicit,_=f();return v(_.openControlForm(i))}),o(5,"mat-icon"),r(6,"edit"),n()(),o(7,"button",29),h("click",function(){let i=x(e).$implicit,_=f();return v(_.deleteControl(i))}),o(8,"mat-icon"),r(9,"delete"),n()()()}if(t&2){let e=l.$implicit;c(),s("routerLink",j(1,Ke,e.id))}}function un(t,l){t&1&&E(0,"tr",30)}function gn(t,l){t&1&&E(0,"tr",31)}function Cn(t,l){if(t&1){let e=y();o(0,"div",32)(1,"p"),r(2,"Aucun contr\xF4le trouv\xE9"),n(),o(3,"button",2),h("click",function(){x(e);let i=f();return v(i.openControlForm())}),r(4," Ajouter un contr\xF4le "),n()()}}var ye=(()=>{class t{constructor(e,a,i){this.controlService=e,this.dialog=a,this.snackBar=i,this.controls=[],this.displayedColumns=["name","type","status","frequency","effectivenessScore","createdAt","actions"],this.isLoading=!1,this.typeTranslations={[C.PREVENTIVE]:"Pr\xE9ventif",[C.DETECTIVE]:"D\xE9tectif",[C.CORRECTIVE]:"Correctif",[C.DIRECTIVE]:"Directif"},this.statusTranslations={[p.PLANNED]:"Planifi\xE9",[p.IMPLEMENTED]:"Impl\xE9ment\xE9",[p.TESTED]:"Test\xE9",[p.INEFFECTIVE]:"Inefficace",[p.EFFECTIVE]:"Efficace",[p.DEPRECATED]:"Obsol\xE8te"},this.frequencyTranslations={[d.CONTINUOUS]:"Continu",[d.DAILY]:"Quotidien",[d.WEEKLY]:"Hebdomadaire",[d.MONTHLY]:"Mensuel",[d.QUARTERLY]:"Trimestriel",[d.ANNUALLY]:"Annuel",[d.ON_DEMAND]:"Sur demande"}}ngOnInit(){this.loadControls()}loadControls(){this.isLoading=!0,this.controlService.getControls().subscribe({next:e=>{console.log("Contr\xF4les r\xE9cup\xE9r\xE9s:",e),this.controls=e,this.isLoading=!1},error:e=>{console.error("Erreur lors du chargement des contr\xF4les:",e),this.showError("Erreur lors du chargement des contr\xF4les"),this.isLoading=!1}})}openControlForm(e){this.dialog.open(W,{width:"600px",data:{control:e}}).afterClosed().subscribe(i=>{i&&this.loadControls()})}deleteControl(e){this.dialog.open(Q,{width:"400px",data:{title:"Supprimer le contr\xF4le",message:`\xCAtes-vous s\xFBr de vouloir supprimer le contr\xF4le "${e.name}" ?`,confirmText:"Supprimer",cancelText:"Annuler"}}).afterClosed().subscribe(i=>{i&&(this.isLoading=!0,this.controlService.deleteControl(e.id).subscribe({next:()=>{this.snackBar.open("Contr\xF4le supprim\xE9 avec succ\xE8s","Fermer",{duration:3e3}),this.loadControls()},error:_=>{console.error("Erreur lors de la suppression du contr\xF4le:",_),this.showError("Erreur lors de la suppression du contr\xF4le"),this.isLoading=!1}}))})}getTypeClass(e){return e.toLowerCase()}getStatusClass(e){return e.toLowerCase()}getEffectivenessClass(e){return!e&&e!==0?"":e>=80?"high":e>=50?"medium":"low"}showError(e){this.snackBar.open(e,"Fermer",{duration:5e3,panelClass:["error-snackbar"]})}static{this.\u0275fac=function(a){return new(a||t)(u(q),u(G),u(V))}}static{this.\u0275cmp=w({type:t,selectors:[["app-controls"]],decls:35,vars:5,consts:[[1,"controls-container"],[1,"header"],["mat-raised-button","","color","primary",3,"click"],[1,"table-container"],["class","loading-shade",4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","status"],["matColumnDef","frequency"],["matColumnDef","effectivenessScore"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data",4,"ngIf"],[1,"loading-shade"],["mode","indeterminate","diameter","50"],["mat-header-cell",""],["mat-cell",""],[1,"type-badge"],[1,"status-badge"],["class","effectiveness-badge",3,"class",4,"ngIf"],[4,"ngIf"],[1,"effectiveness-badge"],["mat-icon-button","","color","primary","matTooltip","D\xE9tails",3,"routerLink"],["mat-icon-button","","color","accent","matTooltip","Modifier",3,"click"],["mat-icon-button","","color","warn","matTooltip","Supprimer",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-data"]],template:function(a,i){a&1&&(o(0,"div",0)(1,"div",1)(2,"h1"),r(3,"Gestion des contr\xF4les"),n(),o(4,"button",2),h("click",function(){return i.openControlForm()}),o(5,"mat-icon"),r(6,"add"),n(),r(7," Nouveau contr\xF4le "),n()(),o(8,"div",3),m(9,We,2,0,"div",4),o(10,"table",5),b(11,6),m(12,Je,2,0,"th",7)(13,Xe,2,1,"td",8),S(),b(14,9),m(15,Ze,2,0,"th",7)(16,tn,3,3,"td",8),S(),b(17,10),m(18,en,2,0,"th",7)(19,nn,3,3,"td",8),S(),b(20,11),m(21,on,2,0,"th",7)(22,rn,2,1,"td",8),S(),b(23,12),m(24,an,2,0,"th",7)(25,sn,3,2,"td",8),S(),b(26,13),m(27,mn,2,0,"th",7)(28,dn,3,4,"td",8),S(),b(29,14),m(30,pn,2,0,"th",7)(31,fn,10,3,"td",8),S(),m(32,un,1,0,"tr",15)(33,gn,1,0,"tr",16),n(),m(34,Cn,5,0,"div",17),n()()),a&2&&(c(9),s("ngIf",i.isLoading),c(),s("dataSource",i.controls),c(22),s("matHeaderRowDef",i.displayedColumns),c(),s("matRowDefColumns",i.displayedColumns),c(),s("ngIf",!i.isLoading&&i.controls.length===0))},dependencies:[R,z,Vt,jt,Ht,Bt,qt,Ut,Yt,zt,$t,Gt,L,H,U,A,$,Y],styles:[".controls-container[_ngcontent-%COMP%]{padding:20px}.controls-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.controls-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:500}.controls-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.controls-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000001a;z-index:1;display:flex;align-items:center;justify-content:center}.controls-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.controls-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]{width:120px;text-align:center}.controls-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-type[_ngcontent-%COMP%], .controls-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-status[_ngcontent-%COMP%], .controls-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-frequency[_ngcontent-%COMP%], .controls-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-effectivenessScore[_ngcontent-%COMP%]{width:150px}.controls-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;text-align:center}.controls-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;color:#666;font-size:16px}.controls-container[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500;text-transform:uppercase}.controls-container[_ngcontent-%COMP%]   .type-badge.preventive[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.controls-container[_ngcontent-%COMP%]   .type-badge.detective[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#388e3c}.controls-container[_ngcontent-%COMP%]   .type-badge.corrective[_ngcontent-%COMP%]{background-color:#fff8e1;color:#ffa000}.controls-container[_ngcontent-%COMP%]   .type-badge.directive[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.controls-container[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500;text-transform:uppercase}.controls-container[_ngcontent-%COMP%]   .status-badge.planned[_ngcontent-%COMP%]{background-color:#e0f7fa;color:#0097a7}.controls-container[_ngcontent-%COMP%]   .status-badge.implemented[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#388e3c}.controls-container[_ngcontent-%COMP%]   .status-badge.tested[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.controls-container[_ngcontent-%COMP%]   .status-badge.ineffective[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.controls-container[_ngcontent-%COMP%]   .status-badge.effective[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#388e3c}.controls-container[_ngcontent-%COMP%]   .status-badge.deprecated[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#616161}.controls-container[_ngcontent-%COMP%]   .effectiveness-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500}.controls-container[_ngcontent-%COMP%]   .effectiveness-badge.high[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#388e3c}.controls-container[_ngcontent-%COMP%]   .effectiveness-badge.medium[_ngcontent-%COMP%]{background-color:#fff8e1;color:#ffa000}.controls-container[_ngcontent-%COMP%]   .effectiveness-badge.low[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}"]})}}return t})();var De=()=>["/controls"],_n=t=>["/risks",t];function En(t,l){t&1&&(o(0,"div",10),E(1,"mat-progress-spinner",11),n())}function Mn(t,l){if(t&1){let e=y();o(0,"div",12)(1,"button",13),h("click",function(){x(e);let i=f();return v(i.editControl())}),o(2,"mat-icon"),r(3,"edit"),n(),r(4," Modifier "),n(),o(5,"button",14),h("click",function(){x(e);let i=f();return v(i.deleteControl())}),o(6,"mat-icon"),r(7,"delete"),n(),r(8," Supprimer "),n()()}}function hn(t,l){if(t&1&&(o(0,"div",28)(1,"div",29),E(2,"div",30),n(),o(3,"span",31),r(4),n()()),t&2){let e=f(2);c(2),O(e.getEffectivenessClass(e.control.effectivenessScore)),st("width",e.control.effectivenessScore,"%"),c(),O(e.getEffectivenessClass(e.control.effectivenessScore)),c(),g(" ",e.control.effectivenessScore,"% ")}}function xn(t,l){t&1&&(o(0,"p"),r(1,"L'efficacit\xE9 de ce contr\xF4le n'a pas encore \xE9t\xE9 \xE9valu\xE9e."),n())}function vn(t,l){if(t&1&&(o(0,"div",20)(1,"h2"),r(2,"Documentation"),n(),o(3,"p"),r(4),n()()),t&2){let e=f(2);c(4),M(e.control.documentation)}}function On(t,l){if(t&1&&(o(0,"mat-chip",34),r(1),n()),t&2){let e=l.$implicit;s("routerLink",j(2,_n,e.id)),c(),g(" ",e.name," ")}}function Pn(t,l){if(t&1&&(o(0,"div",32)(1,"h2"),r(2,"Risques g\xE9r\xE9s par ce contr\xF4le"),n(),o(3,"mat-chip-set"),m(4,On,2,4,"mat-chip",33),n()()),t&2){let e=f(2);c(4),s("ngForOf",e.associatedRisks)}}function bn(t,l){t&1&&(o(0,"p"),r(1,"Ce contr\xF4le n'est associ\xE9 \xE0 aucun risque pour le moment."),n())}function Sn(t,l){if(t&1&&(o(0,"mat-card",15)(1,"mat-card-header")(2,"mat-card-title"),r(3),n(),o(4,"mat-card-subtitle")(5,"span",16),r(6),n(),o(7,"span",17),r(8),n()()(),o(9,"mat-card-content")(10,"mat-tab-group")(11,"mat-tab",18)(12,"div",19)(13,"div",20)(14,"h2"),r(15,"Description"),n(),o(16,"p"),r(17),n()(),o(18,"div",21)(19,"div",22)(20,"h3"),r(21,"Type"),n(),o(22,"p"),r(23),n()(),o(24,"div",22)(25,"h3"),r(26,"Statut"),n(),o(27,"p"),r(28),n()(),o(29,"div",22)(30,"h3"),r(31,"Fr\xE9quence"),n(),o(32,"p"),r(33),n()()(),o(34,"div",21)(35,"div",22)(36,"h3"),r(37,"Responsable"),n(),o(38,"p"),r(39),n()(),o(40,"div",22)(41,"h3"),r(42,"Date d'impl\xE9mentation"),n(),o(43,"p"),r(44),D(45,"date"),n()(),o(46,"div",22)(47,"h3"),r(48,"Dernier test"),n(),o(49,"p"),r(50),D(51,"date"),n()()(),o(52,"div",20)(53,"h2"),r(54,"Efficacit\xE9"),n(),m(55,hn,5,7,"div",23)(56,xn,2,0,"ng-template",null,0,X),n(),m(58,vn,5,1,"div",24),o(59,"div",25)(60,"p")(61,"strong"),r(62,"Cr\xE9\xE9 le:"),n(),r(63),D(64,"date"),n(),o(65,"p")(66,"strong"),r(67,"Derni\xE8re mise \xE0 jour:"),n(),r(68),D(69,"date"),n()()()(),o(70,"mat-tab",26)(71,"div",19),m(72,Pn,5,1,"div",27)(73,bn,2,0,"ng-template",null,1,X),n()()()()()),t&2){let e=N(57),a=N(74),i=f();c(3),M(i.control.name),c(2),O(i.getTypeClass(i.control.type)),c(),g(" ",i.typeTranslations[i.control.type]," "),c(),O(i.getStatusClass(i.control.status)),c(),g(" ",i.statusTranslations[i.control.status]," "),c(9),M(i.control.description||"Aucune description fournie"),c(6),M(i.typeTranslations[i.control.type]),c(5),M(i.statusTranslations[i.control.status]),c(5),M(i.control.frequency?i.frequencyTranslations[i.control.frequency]:"Non applicable"),c(6),M(i.control.owner||"Non assign\xE9"),c(5),M(i.control.implementationDate?k(45,21,i.control.implementationDate,"dd/MM/yyyy"):"Non d\xE9finie"),c(6),M(i.control.lastTestedDate?k(51,24,i.control.lastTestedDate,"dd/MM/yyyy"):"Non test\xE9"),c(5),s("ngIf",i.control.effectivenessScore!==void 0)("ngIfElse",e),c(3),s("ngIf",i.control.documentation),c(5),g(" ",k(64,27,i.control.createdAt,"dd/MM/yyyy HH:mm"),""),c(5),g(" ",k(69,30,i.control.updatedAt,"dd/MM/yyyy HH:mm"),""),c(4),s("ngIf",i.associatedRisks&&i.associatedRisks.length>0)("ngIfElse",a)}}function Tn(t,l){t&1&&(o(0,"div",35)(1,"mat-icon"),r(2,"error_outline"),n(),o(3,"h2"),r(4,"Contr\xF4le non trouv\xE9"),n(),o(5,"p"),r(6,"Le contr\xF4le demand\xE9 n'existe pas ou a \xE9t\xE9 supprim\xE9."),n(),o(7,"button",36),r(8," Retour \xE0 la liste "),n()()),t&2&&(c(7),s("routerLink",J(1,De)))}var ke=(()=>{class t{constructor(e,a,i,_,P,I){this.route=e,this.router=a,this.controlService=i,this.riskService=_,this.dialog=P,this.snackBar=I,this.control=null,this.isLoading=!1,this.associatedRisks=[],this.typeTranslations={[C.PREVENTIVE]:"Pr\xE9ventif",[C.DETECTIVE]:"D\xE9tectif",[C.CORRECTIVE]:"Correctif",[C.DIRECTIVE]:"Directif"},this.statusTranslations={[p.PLANNED]:"Planifi\xE9",[p.IMPLEMENTED]:"Impl\xE9ment\xE9",[p.TESTED]:"Test\xE9",[p.INEFFECTIVE]:"Inefficace",[p.EFFECTIVE]:"Efficace",[p.DEPRECATED]:"Obsol\xE8te"},this.frequencyTranslations={[d.CONTINUOUS]:"Continu",[d.DAILY]:"Quotidien",[d.WEEKLY]:"Hebdomadaire",[d.MONTHLY]:"Mensuel",[d.QUARTERLY]:"Trimestriel",[d.ANNUALLY]:"Annuel",[d.ON_DEMAND]:"Sur demande"}}ngOnInit(){this.loadControlDetails()}loadControlDetails(){this.isLoading=!0;let e=this.route.snapshot.paramMap.get("id");if(!e){this.showError("Identifiant de contr\xF4le non valide"),this.router.navigate(["/controls"]);return}this.controlService.getControl(e).pipe(F(()=>this.isLoading=!1)).subscribe({next:a=>{this.control=a,a.riskIds&&a.riskIds.length>0&&this.loadAssociatedRisks(a.riskIds)},error:a=>{console.error(`Erreur lors du chargement du contr\xF4le ${e}:`,a),this.showError("Impossible de charger les d\xE9tails du contr\xF4le"),this.router.navigate(["/controls"])}})}loadAssociatedRisks(e){this.isLoading=!0;let a=e.map(i=>this.riskService.getRisk(i));if(a.length===0){this.isLoading=!1;return}at(a).pipe(F(()=>this.isLoading=!1)).subscribe({next:i=>{this.associatedRisks=i,console.log("Risques associ\xE9s charg\xE9s:",i)},error:i=>{console.error("Erreur lors du chargement des risques associ\xE9s:",i),this.showError("Impossible de charger les d\xE9tails des risques associ\xE9s")}})}editControl(){if(!this.control)return;this.dialog.open(W,{width:"600px",data:{control:this.control}}).afterClosed().subscribe(a=>{a&&(this.control=a,a.riskIds&&a.riskIds.length>0?this.loadAssociatedRisks(a.riskIds):this.associatedRisks=[])})}deleteControl(){if(!this.control)return;this.dialog.open(Q,{width:"400px",data:{title:"Supprimer le contr\xF4le",message:`\xCAtes-vous s\xFBr de vouloir supprimer le contr\xF4le "${this.control.name}" ?`,confirmText:"Supprimer",cancelText:"Annuler"}}).afterClosed().subscribe(a=>{a&&this.control&&(this.isLoading=!0,this.controlService.deleteControl(this.control.id).pipe(F(()=>this.isLoading=!1)).subscribe({next:()=>{this.snackBar.open("Contr\xF4le supprim\xE9 avec succ\xE8s","Fermer",{duration:3e3}),this.router.navigate(["/controls"])},error:i=>{console.error("Erreur lors de la suppression du contr\xF4le:",i),this.showError("Erreur lors de la suppression du contr\xF4le")}}))})}getTypeClass(e){return e.toLowerCase()}getStatusClass(e){return e.toLowerCase()}getEffectivenessClass(e){return!e&&e!==0?"":e>=80?"high":e>=50?"medium":"low"}showError(e){this.snackBar.open(e,"Fermer",{duration:5e3,panelClass:["error-snackbar"]})}static{this.\u0275fac=function(a){return new(a||t)(u(dt),u(pt),u(q),u(K),u(G),u(V))}}static{this.\u0275cmp=w({type:t,selectors:[["app-control-detail"]],decls:12,vars:6,consts:[["noScore",""],["noRisks",""],[1,"control-detail-container"],["class","loading-shade",4,"ngIf"],[1,"header"],[1,"header-title"],["mat-icon-button","","matTooltip","Retour \xE0 la liste",3,"routerLink"],["class","header-actions",4,"ngIf"],["class","control-card",4,"ngIf"],["class","not-found",4,"ngIf"],[1,"loading-shade"],["mode","indeterminate","diameter","50"],[1,"header-actions"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"control-card"],[1,"type-badge"],[1,"status-badge"],["label","Informations g\xE9n\xE9rales"],[1,"tab-content"],[1,"info-section"],[1,"info-row"],[1,"info-group"],["class","effectiveness-container",4,"ngIf","ngIfElse"],["class","info-section",4,"ngIf"],[1,"info-section","dates"],["label","Risques associ\xE9s"],["class","risks-section",4,"ngIf","ngIfElse"],[1,"effectiveness-container"],[1,"effectiveness-gauge"],[1,"gauge-value"],[1,"effectiveness-score"],[1,"risks-section"],["color","primary","selected","",3,"routerLink",4,"ngFor","ngForOf"],["color","primary","selected","",3,"routerLink"],[1,"not-found"],["mat-raised-button","","color","primary",3,"routerLink"]],template:function(a,i){a&1&&(o(0,"div",2),m(1,En,2,0,"div",3),o(2,"div",4)(3,"div",5)(4,"button",6)(5,"mat-icon"),r(6,"arrow_back"),n()(),o(7,"h1"),r(8,"D\xE9tails du contr\xF4le"),n()(),m(9,Mn,9,0,"div",7),n(),m(10,Sn,75,33,"mat-card",8)(11,Tn,9,2,"div",9),n()),a&2&&(c(),s("ngIf",i.isLoading),c(3),s("routerLink",J(5,De)),c(5),s("ngIf",i.control),c(),s("ngIf",i.control),c(),s("ngIf",!i.control&&!i.isLoading))},dependencies:[B,R,z,_t,Mt,xt,ht,Et,L,H,U,A,$,fe,ue,he,xe,Y],styles:[".control-detail-container[_ngcontent-%COMP%]{padding:20px;position:relative;min-height:400px}.control-detail-container[_ngcontent-%COMP%]   .loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000001a;z-index:10;display:flex;align-items:center;justify-content:center}.control-detail-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.control-detail-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{display:flex;align-items:center}.control-detail-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 0 10px;font-size:24px;font-weight:500}.control-detail-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]{margin-bottom:20px}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:15px}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:22px;margin-bottom:10px}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{display:flex;gap:10px}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:20px 0}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{margin-bottom:25px}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-bottom:10px;color:#333}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.5}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .info-section.dates[_ngcontent-%COMP%]{margin-top:30px;font-size:14px;color:#666}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .info-section.dates[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:5px}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:30px;margin-bottom:25px}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-group[_ngcontent-%COMP%]{flex:1;min-width:200px}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin-bottom:5px;color:#555}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .effectiveness-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .effectiveness-container[_ngcontent-%COMP%]   .effectiveness-gauge[_ngcontent-%COMP%]{width:70%;height:20px;background-color:#eee;border-radius:10px;overflow:hidden;margin-right:15px}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .effectiveness-container[_ngcontent-%COMP%]   .effectiveness-gauge[_ngcontent-%COMP%]   .gauge-value[_ngcontent-%COMP%]{height:100%;border-radius:10px}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .effectiveness-container[_ngcontent-%COMP%]   .effectiveness-gauge[_ngcontent-%COMP%]   .gauge-value.high[_ngcontent-%COMP%]{background-color:#4caf50}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .effectiveness-container[_ngcontent-%COMP%]   .effectiveness-gauge[_ngcontent-%COMP%]   .gauge-value.medium[_ngcontent-%COMP%]{background-color:#ffc107}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .effectiveness-container[_ngcontent-%COMP%]   .effectiveness-gauge[_ngcontent-%COMP%]   .gauge-value.low[_ngcontent-%COMP%]{background-color:#f44336}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .effectiveness-container[_ngcontent-%COMP%]   .effectiveness-score[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .effectiveness-container[_ngcontent-%COMP%]   .effectiveness-score.high[_ngcontent-%COMP%]{color:#388e3c}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .effectiveness-container[_ngcontent-%COMP%]   .effectiveness-score.medium[_ngcontent-%COMP%]{color:#ffa000}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .effectiveness-container[_ngcontent-%COMP%]   .effectiveness-score.low[_ngcontent-%COMP%]{color:#d32f2f}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .risks-section[_ngcontent-%COMP%]   mat-chip-list[_ngcontent-%COMP%]{margin-top:10px}.control-detail-container[_ngcontent-%COMP%]   .control-card[_ngcontent-%COMP%]   .risks-section[_ngcontent-%COMP%]   mat-chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{cursor:pointer}.control-detail-container[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;text-align:center}.control-detail-container[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;height:64px;width:64px;color:#f44336;margin-bottom:20px}.control-detail-container[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.control-detail-container[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:20px}.type-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500;text-transform:uppercase}.type-badge.preventive[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.type-badge.detective[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#388e3c}.type-badge.corrective[_ngcontent-%COMP%]{background-color:#fff8e1;color:#ffa000}.type-badge.directive[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500;text-transform:uppercase}.status-badge.planned[_ngcontent-%COMP%]{background-color:#e0f7fa;color:#0097a7}.status-badge.implemented[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#388e3c}.status-badge.tested[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.status-badge.ineffective[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.status-badge.effective[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#388e3c}.status-badge.deprecated[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#616161}@media (max-width: 768px){.control-detail-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.control-detail-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{margin-top:15px}.control-detail-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:0;margin-right:10px}.control-detail-container[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.control-detail-container[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-group[_ngcontent-%COMP%]{min-width:100%}}"]})}}return t})();var In=[{path:"",component:ye},{path:":id",component:ke}],bo=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=lt({type:t})}static{this.\u0275inj=ct({imports:[mt,ft.forChild(In),At,Qt,vt,Ct,Pt,ce,se,de,Me,ut,Ot,ee,Kt,bt,ge,ve,pe]})}}return t})();export{bo as ControlsModule};
