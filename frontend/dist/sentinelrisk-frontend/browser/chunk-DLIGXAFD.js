import {
  MatCheckboxModule
} from "./chunk-O3JNOZJZ.js";
import {
  RiskComplianceMappingService
} from "./chunk-T72NNIHB.js";
import {
  MatListModule
} from "./chunk-COXUJSGP.js";
import {
  MatSlideToggleModule
} from "./chunk-QHGPCEHR.js";
import {
  MatProgressBar,
  MatProgressBarModule
} from "./chunk-HBLWIS6E.js";
import {
  HasRoleDirective,
  MatDividerModule,
  MatExpansionModule,
  SharedModule
} from "./chunk-I6ULFAVE.js";
import {
  KeycloakService2 as KeycloakService
} from "./chunk-YZOLHLAY.js";
import {
  MatTabLink,
  MatTabNav,
  MatTabsModule
} from "./chunk-DUOP6AJ7.js";
import {
  MatChipsModule
} from "./chunk-3PN52UW6.js";
import {
  MatPaginator,
  MatPaginatorModule,
  MatSort,
  MatSortHeader,
  MatSortModule
} from "./chunk-2ESS6S3M.js";
import {
  MatCard,
  MatCardActions,
  MatCardContent,
  MatCardHeader,
  MatCardModule,
  MatCardTitle
} from "./chunk-R2B4LHFC.js";
import {
  ApiService
} from "./chunk-PMRQPNHV.js";
import {
  MAT_DIALOG_DATA,
  MAT_FORM_FIELD,
  MatCell,
  MatCellDef,
  MatColumnDef,
  MatDialog,
  MatDialogActions,
  MatDialogContent,
  MatDialogModule,
  MatDialogRef,
  MatDialogTitle,
  MatError,
  MatFormField,
  MatFormFieldModule,
  MatHeaderCell,
  MatHeaderCellDef,
  MatHeaderRow,
  MatHeaderRowDef,
  MatInput,
  MatInputModule,
  MatLabel,
  MatNoDataRow,
  MatRow,
  MatRowDef,
  MatSelect,
  MatSelectModule,
  MatSnackBar,
  MatSnackBarModule,
  MatSuffix,
  MatTable,
  MatTableDataSource,
  MatTableModule
} from "./chunk-PKA5PYFO.js";
import {
  CdkScrollableModule,
  DefaultValueAccessor,
  FormBuilder,
  FormControlName,
  FormGroupDirective,
  FormsModule,
  MatIcon,
  MatIconModule,
  MatTooltip,
  MatTooltipModule,
  NG_VALUE_ACCESSOR,
  NgControlStatus,
  NgControlStatusGroup,
  Overlay,
  OverlayConfig,
  OverlayModule,
  ReactiveFormsModule,
  RequiredValidator,
  TemplatePortal,
  UniqueSelectionDispatcher,
  Validators,
  ViewportRuler,
  animate,
  group,
  state,
  style,
  transition,
  trigger,
  ɵNgNoValidate
} from "./chunk-X5WSOYDN.js";
import {
  MatProgressSpinner,
  MatProgressSpinnerModule
} from "./chunk-N47WCMZ2.js";
import {
  MatButton,
  MatButtonModule,
  MatIconButton
} from "./chunk-SOQ7WNQA.js";
import {
  ANIMATION_MODULE_TYPE,
  ActivatedRoute,
  ActiveDescendantKeyManager,
  Attribute,
  ChangeDetectionStrategy,
  ChangeDetectorRef,
  CommonModule,
  Component,
  ContentChildren,
  DOCUMENT,
  DOWN_ARROW,
  DecimalPipe,
  Directionality,
  Directive,
  ENTER,
  ESCAPE,
  ElementRef,
  EventEmitter,
  FocusMonitor,
  Host,
  Inject,
  InjectionToken,
  Input,
  InputFlags,
  MAT_OPTGROUP,
  MAT_OPTION_PARENT_COMPONENT,
  MatCommonModule,
  MatOption,
  MatOptionModule,
  MatOptionSelectionChange,
  MatRipple,
  MatRippleModule,
  NgClass,
  NgForOf,
  NgIf,
  NgModule,
  NgZone,
  Optional,
  Output,
  Platform,
  Router,
  RouterLink,
  RouterLinkActive,
  RouterModule,
  RouterOutlet,
  SlicePipe,
  Subject,
  Subscription,
  TAB,
  TemplateRef,
  UP_ARROW,
  ViewChild,
  ViewContainerRef,
  ViewEncapsulation$1,
  _MatInternalFormField,
  __spreadValues,
  _countGroupLabelsBeforeOption,
  _getEventTarget,
  _getOptionScrollPosition,
  addAriaReferencedId,
  booleanAttribute,
  catchError,
  defer,
  delay,
  filter,
  finalize,
  forkJoin,
  forwardRef,
  fromEvent,
  hasModifierKey,
  inject,
  map,
  merge,
  numberAttribute,
  of,
  removeAriaReferencedId,
  setClassMetadata,
  startWith,
  switchMap,
  take,
  tap,
  throwError,
  ɵsetClassDebugInfo,
  ɵɵInputTransformsFeature,
  ɵɵNgOnChangesFeature,
  ɵɵProvidersFeature,
  ɵɵStandaloneFeature,
  ɵɵadvance,
  ɵɵattribute,
  ɵɵclassMap,
  ɵɵclassProp,
  ɵɵcontentQuery,
  ɵɵdefineComponent,
  ɵɵdefineDirective,
  ɵɵdefineInjectable,
  ɵɵdefineInjector,
  ɵɵdefineNgModule,
  ɵɵdirectiveInject,
  ɵɵelement,
  ɵɵelementContainerEnd,
  ɵɵelementContainerStart,
  ɵɵelementEnd,
  ɵɵelementStart,
  ɵɵgetCurrentView,
  ɵɵinject,
  ɵɵinjectAttribute,
  ɵɵlistener,
  ɵɵloadQuery,
  ɵɵnextContext,
  ɵɵpipe,
  ɵɵpipeBind2,
  ɵɵpipeBind3,
  ɵɵprojection,
  ɵɵprojectionDef,
  ɵɵproperty,
  ɵɵpureFunction0,
  ɵɵpureFunction1,
  ɵɵqueryRefresh,
  ɵɵreference,
  ɵɵresetView,
  ɵɵrestoreView,
  ɵɵtemplate,
  ɵɵtemplateRefExtractor,
  ɵɵtext,
  ɵɵtextInterpolate,
  ɵɵtextInterpolate1,
  ɵɵtextInterpolate2,
  ɵɵtextInterpolate3,
  ɵɵtwoWayBindingSet,
  ɵɵtwoWayListener,
  ɵɵtwoWayProperty,
  ɵɵviewQuery
} from "./chunk-N6MSFXF2.js";

// node_modules/@angular/material/fesm2022/radio.mjs
var _c0 = ["input"];
var _c1 = ["formField"];
var _c2 = ["*"];
var nextUniqueId = 0;
var MatRadioChange = class {
  constructor(source, value) {
    this.source = source;
    this.value = value;
  }
};
var MAT_RADIO_GROUP_CONTROL_VALUE_ACCESSOR = {
  provide: NG_VALUE_ACCESSOR,
  useExisting: forwardRef(() => MatRadioGroup),
  multi: true
};
var MAT_RADIO_GROUP = new InjectionToken("MatRadioGroup");
var MAT_RADIO_DEFAULT_OPTIONS = new InjectionToken("mat-radio-default-options", {
  providedIn: "root",
  factory: MAT_RADIO_DEFAULT_OPTIONS_FACTORY
});
function MAT_RADIO_DEFAULT_OPTIONS_FACTORY() {
  return {
    color: "accent"
  };
}
var MatRadioGroup = class _MatRadioGroup {
  /** Name of the radio button group. All radio buttons inside this group will use this name. */
  get name() {
    return this._name;
  }
  set name(value) {
    this._name = value;
    this._updateRadioButtonNames();
  }
  /** Whether the labels should appear after or before the radio-buttons. Defaults to 'after' */
  get labelPosition() {
    return this._labelPosition;
  }
  set labelPosition(v) {
    this._labelPosition = v === "before" ? "before" : "after";
    this._markRadiosForCheck();
  }
  /**
   * Value for the radio-group. Should equal the value of the selected radio button if there is
   * a corresponding radio button with a matching value. If there is not such a corresponding
   * radio button, this value persists to be applied in case a new radio button is added with a
   * matching value.
   */
  get value() {
    return this._value;
  }
  set value(newValue) {
    if (this._value !== newValue) {
      this._value = newValue;
      this._updateSelectedRadioFromValue();
      this._checkSelectedRadioButton();
    }
  }
  _checkSelectedRadioButton() {
    if (this._selected && !this._selected.checked) {
      this._selected.checked = true;
    }
  }
  /**
   * The currently selected radio button. If set to a new radio button, the radio group value
   * will be updated to match the new selected button.
   */
  get selected() {
    return this._selected;
  }
  set selected(selected) {
    this._selected = selected;
    this.value = selected ? selected.value : null;
    this._checkSelectedRadioButton();
  }
  /** Whether the radio group is disabled */
  get disabled() {
    return this._disabled;
  }
  set disabled(value) {
    this._disabled = value;
    this._markRadiosForCheck();
  }
  /** Whether the radio group is required */
  get required() {
    return this._required;
  }
  set required(value) {
    this._required = value;
    this._markRadiosForCheck();
  }
  constructor(_changeDetector) {
    this._changeDetector = _changeDetector;
    this._value = null;
    this._name = `mat-radio-group-${nextUniqueId++}`;
    this._selected = null;
    this._isInitialized = false;
    this._labelPosition = "after";
    this._disabled = false;
    this._required = false;
    this._controlValueAccessorChangeFn = () => {
    };
    this.onTouched = () => {
    };
    this.change = new EventEmitter();
  }
  /**
   * Initialize properties once content children are available.
   * This allows us to propagate relevant attributes to associated buttons.
   */
  ngAfterContentInit() {
    this._isInitialized = true;
    this._buttonChanges = this._radios.changes.subscribe(() => {
      if (this.selected && !this._radios.find((radio) => radio === this.selected)) {
        this._selected = null;
      }
    });
  }
  ngOnDestroy() {
    this._buttonChanges?.unsubscribe();
  }
  /**
   * Mark this group as being "touched" (for ngModel). Meant to be called by the contained
   * radio buttons upon their blur.
   */
  _touch() {
    if (this.onTouched) {
      this.onTouched();
    }
  }
  _updateRadioButtonNames() {
    if (this._radios) {
      this._radios.forEach((radio) => {
        radio.name = this.name;
        radio._markForCheck();
      });
    }
  }
  /** Updates the `selected` radio button from the internal _value state. */
  _updateSelectedRadioFromValue() {
    const isAlreadySelected = this._selected !== null && this._selected.value === this._value;
    if (this._radios && !isAlreadySelected) {
      this._selected = null;
      this._radios.forEach((radio) => {
        radio.checked = this.value === radio.value;
        if (radio.checked) {
          this._selected = radio;
        }
      });
    }
  }
  /** Dispatch change event with current selection and group value. */
  _emitChangeEvent() {
    if (this._isInitialized) {
      this.change.emit(new MatRadioChange(this._selected, this._value));
    }
  }
  _markRadiosForCheck() {
    if (this._radios) {
      this._radios.forEach((radio) => radio._markForCheck());
    }
  }
  /**
   * Sets the model value. Implemented as part of ControlValueAccessor.
   * @param value
   */
  writeValue(value) {
    this.value = value;
    this._changeDetector.markForCheck();
  }
  /**
   * Registers a callback to be triggered when the model value changes.
   * Implemented as part of ControlValueAccessor.
   * @param fn Callback to be registered.
   */
  registerOnChange(fn) {
    this._controlValueAccessorChangeFn = fn;
  }
  /**
   * Registers a callback to be triggered when the control is touched.
   * Implemented as part of ControlValueAccessor.
   * @param fn Callback to be registered.
   */
  registerOnTouched(fn) {
    this.onTouched = fn;
  }
  /**
   * Sets the disabled state of the control. Implemented as a part of ControlValueAccessor.
   * @param isDisabled Whether the control should be disabled.
   */
  setDisabledState(isDisabled) {
    this.disabled = isDisabled;
    this._changeDetector.markForCheck();
  }
  static {
    this.\u0275fac = function MatRadioGroup_Factory(t) {
      return new (t || _MatRadioGroup)(\u0275\u0275directiveInject(ChangeDetectorRef));
    };
  }
  static {
    this.\u0275dir = /* @__PURE__ */ \u0275\u0275defineDirective({
      type: _MatRadioGroup,
      selectors: [["mat-radio-group"]],
      contentQueries: function MatRadioGroup_ContentQueries(rf, ctx, dirIndex) {
        if (rf & 1) {
          \u0275\u0275contentQuery(dirIndex, MatRadioButton, 5);
        }
        if (rf & 2) {
          let _t;
          \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx._radios = _t);
        }
      },
      hostAttrs: ["role", "radiogroup", 1, "mat-mdc-radio-group"],
      inputs: {
        color: "color",
        name: "name",
        labelPosition: "labelPosition",
        value: "value",
        selected: "selected",
        disabled: [InputFlags.HasDecoratorInputTransform, "disabled", "disabled", booleanAttribute],
        required: [InputFlags.HasDecoratorInputTransform, "required", "required", booleanAttribute]
      },
      outputs: {
        change: "change"
      },
      exportAs: ["matRadioGroup"],
      standalone: true,
      features: [\u0275\u0275ProvidersFeature([MAT_RADIO_GROUP_CONTROL_VALUE_ACCESSOR, {
        provide: MAT_RADIO_GROUP,
        useExisting: _MatRadioGroup
      }]), \u0275\u0275InputTransformsFeature]
    });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(MatRadioGroup, [{
    type: Directive,
    args: [{
      selector: "mat-radio-group",
      exportAs: "matRadioGroup",
      providers: [MAT_RADIO_GROUP_CONTROL_VALUE_ACCESSOR, {
        provide: MAT_RADIO_GROUP,
        useExisting: MatRadioGroup
      }],
      host: {
        "role": "radiogroup",
        "class": "mat-mdc-radio-group"
      },
      standalone: true
    }]
  }], () => [{
    type: ChangeDetectorRef
  }], {
    change: [{
      type: Output
    }],
    _radios: [{
      type: ContentChildren,
      args: [forwardRef(() => MatRadioButton), {
        descendants: true
      }]
    }],
    color: [{
      type: Input
    }],
    name: [{
      type: Input
    }],
    labelPosition: [{
      type: Input
    }],
    value: [{
      type: Input
    }],
    selected: [{
      type: Input
    }],
    disabled: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    required: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }]
  });
})();
var MatRadioButton = class _MatRadioButton {
  /** Whether this radio button is checked. */
  get checked() {
    return this._checked;
  }
  set checked(value) {
    if (this._checked !== value) {
      this._checked = value;
      if (value && this.radioGroup && this.radioGroup.value !== this.value) {
        this.radioGroup.selected = this;
      } else if (!value && this.radioGroup && this.radioGroup.value === this.value) {
        this.radioGroup.selected = null;
      }
      if (value) {
        this._radioDispatcher.notify(this.id, this.name);
      }
      this._changeDetector.markForCheck();
    }
  }
  /** The value of this radio button. */
  get value() {
    return this._value;
  }
  set value(value) {
    if (this._value !== value) {
      this._value = value;
      if (this.radioGroup !== null) {
        if (!this.checked) {
          this.checked = this.radioGroup.value === value;
        }
        if (this.checked) {
          this.radioGroup.selected = this;
        }
      }
    }
  }
  /** Whether the label should appear after or before the radio button. Defaults to 'after' */
  get labelPosition() {
    return this._labelPosition || this.radioGroup && this.radioGroup.labelPosition || "after";
  }
  set labelPosition(value) {
    this._labelPosition = value;
  }
  /** Whether the radio button is disabled. */
  get disabled() {
    return this._disabled || this.radioGroup !== null && this.radioGroup.disabled;
  }
  set disabled(value) {
    this._setDisabled(value);
  }
  /** Whether the radio button is required. */
  get required() {
    return this._required || this.radioGroup && this.radioGroup.required;
  }
  set required(value) {
    this._required = value;
  }
  /** Theme color of the radio button. */
  get color() {
    return this._color || this.radioGroup && this.radioGroup.color || this._providerOverride && this._providerOverride.color || "accent";
  }
  set color(newValue) {
    this._color = newValue;
  }
  /** ID of the native input element inside `<mat-radio-button>` */
  get inputId() {
    return `${this.id || this._uniqueId}-input`;
  }
  constructor(radioGroup, _elementRef, _changeDetector, _focusMonitor, _radioDispatcher, animationMode, _providerOverride, tabIndex) {
    this._elementRef = _elementRef;
    this._changeDetector = _changeDetector;
    this._focusMonitor = _focusMonitor;
    this._radioDispatcher = _radioDispatcher;
    this._providerOverride = _providerOverride;
    this._uniqueId = `mat-radio-${++nextUniqueId}`;
    this.id = this._uniqueId;
    this.disableRipple = false;
    this.tabIndex = 0;
    this.change = new EventEmitter();
    this._checked = false;
    this._value = null;
    this._removeUniqueSelectionListener = () => {
    };
    this.radioGroup = radioGroup;
    this._noopAnimations = animationMode === "NoopAnimations";
    if (tabIndex) {
      this.tabIndex = numberAttribute(tabIndex, 0);
    }
  }
  /** Focuses the radio button. */
  focus(options, origin) {
    if (origin) {
      this._focusMonitor.focusVia(this._inputElement, origin, options);
    } else {
      this._inputElement.nativeElement.focus(options);
    }
  }
  /**
   * Marks the radio button as needing checking for change detection.
   * This method is exposed because the parent radio group will directly
   * update bound properties of the radio button.
   */
  _markForCheck() {
    this._changeDetector.markForCheck();
  }
  ngOnInit() {
    if (this.radioGroup) {
      this.checked = this.radioGroup.value === this._value;
      if (this.checked) {
        this.radioGroup.selected = this;
      }
      this.name = this.radioGroup.name;
    }
    this._removeUniqueSelectionListener = this._radioDispatcher.listen((id, name) => {
      if (id !== this.id && name === this.name) {
        this.checked = false;
      }
    });
  }
  ngDoCheck() {
    this._updateTabIndex();
  }
  ngAfterViewInit() {
    this._updateTabIndex();
    this._focusMonitor.monitor(this._elementRef, true).subscribe((focusOrigin) => {
      if (!focusOrigin && this.radioGroup) {
        this.radioGroup._touch();
      }
    });
  }
  ngOnDestroy() {
    this._focusMonitor.stopMonitoring(this._elementRef);
    this._removeUniqueSelectionListener();
  }
  /** Dispatch change event with current value. */
  _emitChangeEvent() {
    this.change.emit(new MatRadioChange(this, this._value));
  }
  _isRippleDisabled() {
    return this.disableRipple || this.disabled;
  }
  _onInputClick(event) {
    event.stopPropagation();
  }
  /** Triggered when the radio button receives an interaction from the user. */
  _onInputInteraction(event) {
    event.stopPropagation();
    if (!this.checked && !this.disabled) {
      const groupValueChanged = this.radioGroup && this.value !== this.radioGroup.value;
      this.checked = true;
      this._emitChangeEvent();
      if (this.radioGroup) {
        this.radioGroup._controlValueAccessorChangeFn(this.value);
        if (groupValueChanged) {
          this.radioGroup._emitChangeEvent();
        }
      }
    }
  }
  /** Triggered when the user clicks on the touch target. */
  _onTouchTargetClick(event) {
    this._onInputInteraction(event);
    if (!this.disabled) {
      this._inputElement.nativeElement.focus();
    }
  }
  /** Sets the disabled state and marks for check if a change occurred. */
  _setDisabled(value) {
    if (this._disabled !== value) {
      this._disabled = value;
      this._changeDetector.markForCheck();
    }
  }
  /** Gets the tabindex for the underlying input element. */
  _updateTabIndex() {
    const group2 = this.radioGroup;
    let value;
    if (!group2 || !group2.selected || this.disabled) {
      value = this.tabIndex;
    } else {
      value = group2.selected === this ? this.tabIndex : -1;
    }
    if (value !== this._previousTabIndex) {
      const input = this._inputElement?.nativeElement;
      if (input) {
        input.setAttribute("tabindex", value + "");
        this._previousTabIndex = value;
      }
    }
  }
  static {
    this.\u0275fac = function MatRadioButton_Factory(t) {
      return new (t || _MatRadioButton)(\u0275\u0275directiveInject(MAT_RADIO_GROUP, 8), \u0275\u0275directiveInject(ElementRef), \u0275\u0275directiveInject(ChangeDetectorRef), \u0275\u0275directiveInject(FocusMonitor), \u0275\u0275directiveInject(UniqueSelectionDispatcher), \u0275\u0275directiveInject(ANIMATION_MODULE_TYPE, 8), \u0275\u0275directiveInject(MAT_RADIO_DEFAULT_OPTIONS, 8), \u0275\u0275injectAttribute("tabindex"));
    };
  }
  static {
    this.\u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({
      type: _MatRadioButton,
      selectors: [["mat-radio-button"]],
      viewQuery: function MatRadioButton_Query(rf, ctx) {
        if (rf & 1) {
          \u0275\u0275viewQuery(_c0, 5);
          \u0275\u0275viewQuery(_c1, 7, ElementRef);
        }
        if (rf & 2) {
          let _t;
          \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx._inputElement = _t.first);
          \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx._rippleTrigger = _t.first);
        }
      },
      hostAttrs: [1, "mat-mdc-radio-button"],
      hostVars: 15,
      hostBindings: function MatRadioButton_HostBindings(rf, ctx) {
        if (rf & 1) {
          \u0275\u0275listener("focus", function MatRadioButton_focus_HostBindingHandler() {
            return ctx._inputElement.nativeElement.focus();
          });
        }
        if (rf & 2) {
          \u0275\u0275attribute("id", ctx.id)("tabindex", null)("aria-label", null)("aria-labelledby", null)("aria-describedby", null);
          \u0275\u0275classProp("mat-primary", ctx.color === "primary")("mat-accent", ctx.color === "accent")("mat-warn", ctx.color === "warn")("mat-mdc-radio-checked", ctx.checked)("_mat-animation-noopable", ctx._noopAnimations);
        }
      },
      inputs: {
        id: "id",
        name: "name",
        ariaLabel: [InputFlags.None, "aria-label", "ariaLabel"],
        ariaLabelledby: [InputFlags.None, "aria-labelledby", "ariaLabelledby"],
        ariaDescribedby: [InputFlags.None, "aria-describedby", "ariaDescribedby"],
        disableRipple: [InputFlags.HasDecoratorInputTransform, "disableRipple", "disableRipple", booleanAttribute],
        tabIndex: [InputFlags.HasDecoratorInputTransform, "tabIndex", "tabIndex", (value) => value == null ? 0 : numberAttribute(value)],
        checked: [InputFlags.HasDecoratorInputTransform, "checked", "checked", booleanAttribute],
        value: "value",
        labelPosition: "labelPosition",
        disabled: [InputFlags.HasDecoratorInputTransform, "disabled", "disabled", booleanAttribute],
        required: [InputFlags.HasDecoratorInputTransform, "required", "required", booleanAttribute],
        color: "color"
      },
      outputs: {
        change: "change"
      },
      exportAs: ["matRadioButton"],
      standalone: true,
      features: [\u0275\u0275InputTransformsFeature, \u0275\u0275StandaloneFeature],
      ngContentSelectors: _c2,
      decls: 13,
      vars: 16,
      consts: [["formField", ""], ["input", ""], ["mat-internal-form-field", "", 3, "labelPosition"], [1, "mdc-radio"], [1, "mat-mdc-radio-touch-target", 3, "click"], ["type", "radio", 1, "mdc-radio__native-control", 3, "change", "id", "checked", "disabled", "required"], [1, "mdc-radio__background"], [1, "mdc-radio__outer-circle"], [1, "mdc-radio__inner-circle"], ["mat-ripple", "", 1, "mat-radio-ripple", "mat-mdc-focus-indicator", 3, "matRippleTrigger", "matRippleDisabled", "matRippleCentered"], [1, "mat-ripple-element", "mat-radio-persistent-ripple"], [1, "mdc-label", 3, "for"]],
      template: function MatRadioButton_Template(rf, ctx) {
        if (rf & 1) {
          const _r1 = \u0275\u0275getCurrentView();
          \u0275\u0275projectionDef();
          \u0275\u0275elementStart(0, "div", 2, 0)(2, "div", 3)(3, "div", 4);
          \u0275\u0275listener("click", function MatRadioButton_Template_div_click_3_listener($event) {
            \u0275\u0275restoreView(_r1);
            return \u0275\u0275resetView(ctx._onTouchTargetClick($event));
          });
          \u0275\u0275elementEnd();
          \u0275\u0275elementStart(4, "input", 5, 1);
          \u0275\u0275listener("change", function MatRadioButton_Template_input_change_4_listener($event) {
            \u0275\u0275restoreView(_r1);
            return \u0275\u0275resetView(ctx._onInputInteraction($event));
          });
          \u0275\u0275elementEnd();
          \u0275\u0275elementStart(6, "div", 6);
          \u0275\u0275element(7, "div", 7)(8, "div", 8);
          \u0275\u0275elementEnd();
          \u0275\u0275elementStart(9, "div", 9);
          \u0275\u0275element(10, "div", 10);
          \u0275\u0275elementEnd()();
          \u0275\u0275elementStart(11, "label", 11);
          \u0275\u0275projection(12);
          \u0275\u0275elementEnd()();
        }
        if (rf & 2) {
          \u0275\u0275property("labelPosition", ctx.labelPosition);
          \u0275\u0275advance(2);
          \u0275\u0275classProp("mdc-radio--disabled", ctx.disabled);
          \u0275\u0275advance(2);
          \u0275\u0275property("id", ctx.inputId)("checked", ctx.checked)("disabled", ctx.disabled)("required", ctx.required);
          \u0275\u0275attribute("name", ctx.name)("value", ctx.value)("aria-label", ctx.ariaLabel)("aria-labelledby", ctx.ariaLabelledby)("aria-describedby", ctx.ariaDescribedby);
          \u0275\u0275advance(5);
          \u0275\u0275property("matRippleTrigger", ctx._rippleTrigger.nativeElement)("matRippleDisabled", ctx._isRippleDisabled())("matRippleCentered", true);
          \u0275\u0275advance(2);
          \u0275\u0275property("for", ctx.inputId);
        }
      },
      dependencies: [MatRipple, _MatInternalFormField],
      styles: ['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],
      encapsulation: 2,
      changeDetection: 0
    });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(MatRadioButton, [{
    type: Component,
    args: [{
      selector: "mat-radio-button",
      host: {
        "class": "mat-mdc-radio-button",
        "[attr.id]": "id",
        "[class.mat-primary]": 'color === "primary"',
        "[class.mat-accent]": 'color === "accent"',
        "[class.mat-warn]": 'color === "warn"',
        "[class.mat-mdc-radio-checked]": "checked",
        "[class._mat-animation-noopable]": "_noopAnimations",
        // Needs to be removed since it causes some a11y issues (see #21266).
        "[attr.tabindex]": "null",
        "[attr.aria-label]": "null",
        "[attr.aria-labelledby]": "null",
        "[attr.aria-describedby]": "null",
        // Note: under normal conditions focus shouldn't land on this element, however it may be
        // programmatically set, for example inside of a focus trap, in this case we want to forward
        // the focus to the native element.
        "(focus)": "_inputElement.nativeElement.focus()"
      },
      exportAs: "matRadioButton",
      encapsulation: ViewEncapsulation$1.None,
      changeDetection: ChangeDetectionStrategy.OnPush,
      standalone: true,
      imports: [MatRipple, _MatInternalFormField],
      template: '<div mat-internal-form-field [labelPosition]="labelPosition" #formField>\n  <div class="mdc-radio" [class.mdc-radio--disabled]="disabled">\n    <!-- Render this element first so the input is on top. -->\n    <div class="mat-mdc-radio-touch-target" (click)="_onTouchTargetClick($event)"></div>\n    <input #input class="mdc-radio__native-control" type="radio"\n           [id]="inputId"\n           [checked]="checked"\n           [disabled]="disabled"\n           [attr.name]="name"\n           [attr.value]="value"\n           [required]="required"\n           [attr.aria-label]="ariaLabel"\n           [attr.aria-labelledby]="ariaLabelledby"\n           [attr.aria-describedby]="ariaDescribedby"\n           (change)="_onInputInteraction($event)">\n    <div class="mdc-radio__background">\n      <div class="mdc-radio__outer-circle"></div>\n      <div class="mdc-radio__inner-circle"></div>\n    </div>\n    <div mat-ripple class="mat-radio-ripple mat-mdc-focus-indicator"\n         [matRippleTrigger]="_rippleTrigger.nativeElement"\n         [matRippleDisabled]="_isRippleDisabled()"\n         [matRippleCentered]="true">\n      <div class="mat-ripple-element mat-radio-persistent-ripple"></div>\n    </div>\n  </div>\n  <label class="mdc-label" [for]="inputId">\n    <ng-content></ng-content>\n  </label>\n</div>\n',
      styles: ['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}']
    }]
  }], () => [{
    type: MatRadioGroup,
    decorators: [{
      type: Optional
    }, {
      type: Inject,
      args: [MAT_RADIO_GROUP]
    }]
  }, {
    type: ElementRef
  }, {
    type: ChangeDetectorRef
  }, {
    type: FocusMonitor
  }, {
    type: UniqueSelectionDispatcher
  }, {
    type: void 0,
    decorators: [{
      type: Optional
    }, {
      type: Inject,
      args: [ANIMATION_MODULE_TYPE]
    }]
  }, {
    type: void 0,
    decorators: [{
      type: Optional
    }, {
      type: Inject,
      args: [MAT_RADIO_DEFAULT_OPTIONS]
    }]
  }, {
    type: void 0,
    decorators: [{
      type: Attribute,
      args: ["tabindex"]
    }]
  }], {
    id: [{
      type: Input
    }],
    name: [{
      type: Input
    }],
    ariaLabel: [{
      type: Input,
      args: ["aria-label"]
    }],
    ariaLabelledby: [{
      type: Input,
      args: ["aria-labelledby"]
    }],
    ariaDescribedby: [{
      type: Input,
      args: ["aria-describedby"]
    }],
    disableRipple: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    tabIndex: [{
      type: Input,
      args: [{
        transform: (value) => value == null ? 0 : numberAttribute(value)
      }]
    }],
    checked: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    value: [{
      type: Input
    }],
    labelPosition: [{
      type: Input
    }],
    disabled: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    required: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    color: [{
      type: Input
    }],
    change: [{
      type: Output
    }],
    _inputElement: [{
      type: ViewChild,
      args: ["input"]
    }],
    _rippleTrigger: [{
      type: ViewChild,
      args: ["formField", {
        read: ElementRef,
        static: true
      }]
    }]
  });
})();
var MatRadioModule = class _MatRadioModule {
  static {
    this.\u0275fac = function MatRadioModule_Factory(t) {
      return new (t || _MatRadioModule)();
    };
  }
  static {
    this.\u0275mod = /* @__PURE__ */ \u0275\u0275defineNgModule({
      type: _MatRadioModule
    });
  }
  static {
    this.\u0275inj = /* @__PURE__ */ \u0275\u0275defineInjector({
      imports: [MatCommonModule, CommonModule, MatRippleModule, MatRadioButton, MatCommonModule]
    });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(MatRadioModule, [{
    type: NgModule,
    args: [{
      imports: [MatCommonModule, CommonModule, MatRippleModule, MatRadioGroup, MatRadioButton],
      exports: [MatCommonModule, MatRadioGroup, MatRadioButton]
    }]
  }], null, null);
})();

// node_modules/@angular/material/fesm2022/autocomplete.mjs
var _c02 = ["panel"];
var _c12 = ["*"];
function MatAutocomplete_ng_template_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 1, 0);
    \u0275\u0275listener("@panelAnimation.done", function MatAutocomplete_ng_template_0_Template_div_animation_panelAnimation_done_0_listener($event) {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1._animationDone.next($event));
    });
    \u0275\u0275projection(2);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const formFieldId_r3 = ctx.id;
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275classMap(ctx_r1._classList);
    \u0275\u0275classProp("mat-mdc-autocomplete-visible", ctx_r1.showPanel)("mat-mdc-autocomplete-hidden", !ctx_r1.showPanel)("mat-primary", ctx_r1._color === "primary")("mat-accent", ctx_r1._color === "accent")("mat-warn", ctx_r1._color === "warn");
    \u0275\u0275property("id", ctx_r1.id)("@panelAnimation", ctx_r1.isOpen ? "visible" : "hidden");
    \u0275\u0275attribute("aria-label", ctx_r1.ariaLabel || null)("aria-labelledby", ctx_r1._getPanelAriaLabelledby(formFieldId_r3));
  }
}
var panelAnimation = trigger("panelAnimation", [state("void, hidden", style({
  opacity: 0,
  transform: "scaleY(0.8)"
})), transition(":enter, hidden => visible", [group([animate("0.03s linear", style({
  opacity: 1
})), animate("0.12s cubic-bezier(0, 0, 0.2, 1)", style({
  transform: "scaleY(1)"
}))])]), transition(":leave, visible => hidden", [animate("0.075s linear", style({
  opacity: 0
}))])]);
var _uniqueAutocompleteIdCounter = 0;
var MatAutocompleteSelectedEvent = class {
  constructor(source, option) {
    this.source = source;
    this.option = option;
  }
};
var MAT_AUTOCOMPLETE_DEFAULT_OPTIONS = new InjectionToken("mat-autocomplete-default-options", {
  providedIn: "root",
  factory: MAT_AUTOCOMPLETE_DEFAULT_OPTIONS_FACTORY
});
function MAT_AUTOCOMPLETE_DEFAULT_OPTIONS_FACTORY() {
  return {
    autoActiveFirstOption: false,
    autoSelectActiveOption: false,
    hideSingleSelectionIndicator: false,
    requireSelection: false
  };
}
var MatAutocomplete = class _MatAutocomplete {
  /** Whether the autocomplete panel is open. */
  get isOpen() {
    return this._isOpen && this.showPanel;
  }
  /** @docs-private Sets the theme color of the panel. */
  _setColor(value) {
    this._color = value;
    this._changeDetectorRef.markForCheck();
  }
  /**
   * Takes classes set on the host mat-autocomplete element and applies them to the panel
   * inside the overlay container to allow for easy styling.
   */
  set classList(value) {
    this._classList = value;
    this._elementRef.nativeElement.className = "";
  }
  /** Whether checkmark indicator for single-selection options is hidden. */
  get hideSingleSelectionIndicator() {
    return this._hideSingleSelectionIndicator;
  }
  set hideSingleSelectionIndicator(value) {
    this._hideSingleSelectionIndicator = value;
    this._syncParentProperties();
  }
  /** Syncs the parent state with the individual options. */
  _syncParentProperties() {
    if (this.options) {
      for (const option of this.options) {
        option._changeDetectorRef.markForCheck();
      }
    }
  }
  constructor(_changeDetectorRef, _elementRef, _defaults, platform) {
    this._changeDetectorRef = _changeDetectorRef;
    this._elementRef = _elementRef;
    this._defaults = _defaults;
    this._activeOptionChanges = Subscription.EMPTY;
    this._animationDone = new EventEmitter();
    this.showPanel = false;
    this._isOpen = false;
    this.displayWith = null;
    this.optionSelected = new EventEmitter();
    this.opened = new EventEmitter();
    this.closed = new EventEmitter();
    this.optionActivated = new EventEmitter();
    this.id = `mat-autocomplete-${_uniqueAutocompleteIdCounter++}`;
    this.inertGroups = platform?.SAFARI || false;
    this.autoActiveFirstOption = !!_defaults.autoActiveFirstOption;
    this.autoSelectActiveOption = !!_defaults.autoSelectActiveOption;
    this.requireSelection = !!_defaults.requireSelection;
    this._hideSingleSelectionIndicator = this._defaults.hideSingleSelectionIndicator ?? false;
  }
  ngAfterContentInit() {
    this._keyManager = new ActiveDescendantKeyManager(this.options).withWrap().skipPredicate(this._skipPredicate);
    this._activeOptionChanges = this._keyManager.change.subscribe((index) => {
      if (this.isOpen) {
        this.optionActivated.emit({
          source: this,
          option: this.options.toArray()[index] || null
        });
      }
    });
    this._setVisibility();
  }
  ngOnDestroy() {
    this._keyManager?.destroy();
    this._activeOptionChanges.unsubscribe();
    this._animationDone.complete();
  }
  /**
   * Sets the panel scrollTop. This allows us to manually scroll to display options
   * above or below the fold, as they are not actually being focused when active.
   */
  _setScrollTop(scrollTop) {
    if (this.panel) {
      this.panel.nativeElement.scrollTop = scrollTop;
    }
  }
  /** Returns the panel's scrollTop. */
  _getScrollTop() {
    return this.panel ? this.panel.nativeElement.scrollTop : 0;
  }
  /** Panel should hide itself when the option list is empty. */
  _setVisibility() {
    this.showPanel = !!this.options.length;
    this._changeDetectorRef.markForCheck();
  }
  /** Emits the `select` event. */
  _emitSelectEvent(option) {
    const event = new MatAutocompleteSelectedEvent(this, option);
    this.optionSelected.emit(event);
  }
  /** Gets the aria-labelledby for the autocomplete panel. */
  _getPanelAriaLabelledby(labelId) {
    if (this.ariaLabel) {
      return null;
    }
    const labelExpression = labelId ? labelId + " " : "";
    return this.ariaLabelledby ? labelExpression + this.ariaLabelledby : labelId;
  }
  // `skipPredicate` determines if key manager should avoid putting a given option in the tab
  // order. Allow disabled list items to receive focus via keyboard to align with WAI ARIA
  // recommendation.
  //
  // Normally WAI ARIA's instructions are to exclude disabled items from the tab order, but it
  // makes a few exceptions for compound widgets.
  //
  // From [Developing a Keyboard Interface](
  // https://www.w3.org/WAI/ARIA/apg/practices/keyboard-interface/):
  //   "For the following composite widget elements, keep them focusable when disabled: Options in a
  //   Listbox..."
  //
  // The user can focus disabled options using the keyboard, but the user cannot click disabled
  // options.
  _skipPredicate() {
    return false;
  }
  static {
    this.\u0275fac = function MatAutocomplete_Factory(t) {
      return new (t || _MatAutocomplete)(\u0275\u0275directiveInject(ChangeDetectorRef), \u0275\u0275directiveInject(ElementRef), \u0275\u0275directiveInject(MAT_AUTOCOMPLETE_DEFAULT_OPTIONS), \u0275\u0275directiveInject(Platform));
    };
  }
  static {
    this.\u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({
      type: _MatAutocomplete,
      selectors: [["mat-autocomplete"]],
      contentQueries: function MatAutocomplete_ContentQueries(rf, ctx, dirIndex) {
        if (rf & 1) {
          \u0275\u0275contentQuery(dirIndex, MatOption, 5);
          \u0275\u0275contentQuery(dirIndex, MAT_OPTGROUP, 5);
        }
        if (rf & 2) {
          let _t;
          \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.options = _t);
          \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.optionGroups = _t);
        }
      },
      viewQuery: function MatAutocomplete_Query(rf, ctx) {
        if (rf & 1) {
          \u0275\u0275viewQuery(TemplateRef, 7);
          \u0275\u0275viewQuery(_c02, 5);
        }
        if (rf & 2) {
          let _t;
          \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.template = _t.first);
          \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.panel = _t.first);
        }
      },
      hostAttrs: [1, "mat-mdc-autocomplete"],
      inputs: {
        ariaLabel: [InputFlags.None, "aria-label", "ariaLabel"],
        ariaLabelledby: [InputFlags.None, "aria-labelledby", "ariaLabelledby"],
        displayWith: "displayWith",
        autoActiveFirstOption: [InputFlags.HasDecoratorInputTransform, "autoActiveFirstOption", "autoActiveFirstOption", booleanAttribute],
        autoSelectActiveOption: [InputFlags.HasDecoratorInputTransform, "autoSelectActiveOption", "autoSelectActiveOption", booleanAttribute],
        requireSelection: [InputFlags.HasDecoratorInputTransform, "requireSelection", "requireSelection", booleanAttribute],
        panelWidth: "panelWidth",
        disableRipple: [InputFlags.HasDecoratorInputTransform, "disableRipple", "disableRipple", booleanAttribute],
        classList: [InputFlags.None, "class", "classList"],
        hideSingleSelectionIndicator: [InputFlags.HasDecoratorInputTransform, "hideSingleSelectionIndicator", "hideSingleSelectionIndicator", booleanAttribute]
      },
      outputs: {
        optionSelected: "optionSelected",
        opened: "opened",
        closed: "closed",
        optionActivated: "optionActivated"
      },
      exportAs: ["matAutocomplete"],
      standalone: true,
      features: [\u0275\u0275ProvidersFeature([{
        provide: MAT_OPTION_PARENT_COMPONENT,
        useExisting: _MatAutocomplete
      }]), \u0275\u0275InputTransformsFeature, \u0275\u0275StandaloneFeature],
      ngContentSelectors: _c12,
      decls: 1,
      vars: 0,
      consts: [["panel", ""], ["role", "listbox", 1, "mat-mdc-autocomplete-panel", "mdc-menu-surface", "mdc-menu-surface--open", 3, "id"]],
      template: function MatAutocomplete_Template(rf, ctx) {
        if (rf & 1) {
          \u0275\u0275projectionDef();
          \u0275\u0275template(0, MatAutocomplete_ng_template_0_Template, 3, 16, "ng-template");
        }
      },
      styles: ["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],
      encapsulation: 2,
      data: {
        animation: [panelAnimation]
      },
      changeDetection: 0
    });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(MatAutocomplete, [{
    type: Component,
    args: [{
      selector: "mat-autocomplete",
      encapsulation: ViewEncapsulation$1.None,
      changeDetection: ChangeDetectionStrategy.OnPush,
      exportAs: "matAutocomplete",
      host: {
        "class": "mat-mdc-autocomplete"
      },
      providers: [{
        provide: MAT_OPTION_PARENT_COMPONENT,
        useExisting: MatAutocomplete
      }],
      animations: [panelAnimation],
      standalone: true,
      template: `<ng-template let-formFieldId="id">
  <div
    class="mat-mdc-autocomplete-panel mdc-menu-surface mdc-menu-surface--open"
    role="listbox"
    [id]="id"
    [class]="_classList"
    [class.mat-mdc-autocomplete-visible]="showPanel"
    [class.mat-mdc-autocomplete-hidden]="!showPanel"
    [class.mat-primary]="_color === 'primary'"
    [class.mat-accent]="_color === 'accent'"
    [class.mat-warn]="_color === 'warn'"
    [attr.aria-label]="ariaLabel || null"
    [attr.aria-labelledby]="_getPanelAriaLabelledby(formFieldId)"
    [@panelAnimation]="isOpen ? 'visible' : 'hidden'"
    (@panelAnimation.done)="_animationDone.next($event)"
    #panel>
    <ng-content></ng-content>
  </div>
</ng-template>
`,
      styles: ["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"]
    }]
  }], () => [{
    type: ChangeDetectorRef
  }, {
    type: ElementRef
  }, {
    type: void 0,
    decorators: [{
      type: Inject,
      args: [MAT_AUTOCOMPLETE_DEFAULT_OPTIONS]
    }]
  }, {
    type: Platform
  }], {
    template: [{
      type: ViewChild,
      args: [TemplateRef, {
        static: true
      }]
    }],
    panel: [{
      type: ViewChild,
      args: ["panel"]
    }],
    options: [{
      type: ContentChildren,
      args: [MatOption, {
        descendants: true
      }]
    }],
    optionGroups: [{
      type: ContentChildren,
      args: [MAT_OPTGROUP, {
        descendants: true
      }]
    }],
    ariaLabel: [{
      type: Input,
      args: ["aria-label"]
    }],
    ariaLabelledby: [{
      type: Input,
      args: ["aria-labelledby"]
    }],
    displayWith: [{
      type: Input
    }],
    autoActiveFirstOption: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    autoSelectActiveOption: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    requireSelection: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    panelWidth: [{
      type: Input
    }],
    disableRipple: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    optionSelected: [{
      type: Output
    }],
    opened: [{
      type: Output
    }],
    closed: [{
      type: Output
    }],
    optionActivated: [{
      type: Output
    }],
    classList: [{
      type: Input,
      args: ["class"]
    }],
    hideSingleSelectionIndicator: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }]
  });
})();
var MatAutocompleteOrigin = class _MatAutocompleteOrigin {
  constructor(elementRef) {
    this.elementRef = elementRef;
  }
  static {
    this.\u0275fac = function MatAutocompleteOrigin_Factory(t) {
      return new (t || _MatAutocompleteOrigin)(\u0275\u0275directiveInject(ElementRef));
    };
  }
  static {
    this.\u0275dir = /* @__PURE__ */ \u0275\u0275defineDirective({
      type: _MatAutocompleteOrigin,
      selectors: [["", "matAutocompleteOrigin", ""]],
      exportAs: ["matAutocompleteOrigin"],
      standalone: true
    });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(MatAutocompleteOrigin, [{
    type: Directive,
    args: [{
      selector: "[matAutocompleteOrigin]",
      exportAs: "matAutocompleteOrigin",
      standalone: true
    }]
  }], () => [{
    type: ElementRef
  }], null);
})();
var MAT_AUTOCOMPLETE_VALUE_ACCESSOR = {
  provide: NG_VALUE_ACCESSOR,
  useExisting: forwardRef(() => MatAutocompleteTrigger),
  multi: true
};
function getMatAutocompleteMissingPanelError() {
  return Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.");
}
var MAT_AUTOCOMPLETE_SCROLL_STRATEGY = new InjectionToken("mat-autocomplete-scroll-strategy", {
  providedIn: "root",
  factory: () => {
    const overlay = inject(Overlay);
    return () => overlay.scrollStrategies.reposition();
  }
});
function MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY(overlay) {
  return () => overlay.scrollStrategies.reposition();
}
var MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY_PROVIDER = {
  provide: MAT_AUTOCOMPLETE_SCROLL_STRATEGY,
  deps: [Overlay],
  useFactory: MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY
};
var MatAutocompleteTrigger = class _MatAutocompleteTrigger {
  constructor(_element, _overlay, _viewContainerRef, _zone, _changeDetectorRef, scrollStrategy, _dir, _formField, _document, _viewportRuler, _defaults) {
    this._element = _element;
    this._overlay = _overlay;
    this._viewContainerRef = _viewContainerRef;
    this._zone = _zone;
    this._changeDetectorRef = _changeDetectorRef;
    this._dir = _dir;
    this._formField = _formField;
    this._document = _document;
    this._viewportRuler = _viewportRuler;
    this._defaults = _defaults;
    this._componentDestroyed = false;
    this._manuallyFloatingLabel = false;
    this._viewportSubscription = Subscription.EMPTY;
    this._canOpenOnNextFocus = true;
    this._closeKeyEventStream = new Subject();
    this._windowBlurHandler = () => {
      this._canOpenOnNextFocus = this._document.activeElement !== this._element.nativeElement || this.panelOpen;
    };
    this._onChange = () => {
    };
    this._onTouched = () => {
    };
    this.position = "auto";
    this.autocompleteAttribute = "off";
    this._aboveClass = "mat-mdc-autocomplete-panel-above";
    this._overlayAttached = false;
    this.optionSelections = defer(() => {
      const options = this.autocomplete ? this.autocomplete.options : null;
      if (options) {
        return options.changes.pipe(startWith(options), switchMap(() => merge(...options.map((option) => option.onSelectionChange))));
      }
      return this._zone.onStable.pipe(take(1), switchMap(() => this.optionSelections));
    });
    this._handlePanelKeydown = (event) => {
      if (event.keyCode === ESCAPE && !hasModifierKey(event) || event.keyCode === UP_ARROW && hasModifierKey(event, "altKey")) {
        if (this._pendingAutoselectedOption) {
          this._updateNativeInputValue(this._valueBeforeAutoSelection ?? "");
          this._pendingAutoselectedOption = null;
        }
        this._closeKeyEventStream.next();
        this._resetActiveItem();
        event.stopPropagation();
        event.preventDefault();
      }
    };
    this._trackedModal = null;
    this._scrollStrategy = scrollStrategy;
  }
  ngAfterViewInit() {
    const window2 = this._getWindow();
    if (typeof window2 !== "undefined") {
      this._zone.runOutsideAngular(() => window2.addEventListener("blur", this._windowBlurHandler));
    }
  }
  ngOnChanges(changes) {
    if (changes["position"] && this._positionStrategy) {
      this._setStrategyPositions(this._positionStrategy);
      if (this.panelOpen) {
        this._overlayRef.updatePosition();
      }
    }
  }
  ngOnDestroy() {
    const window2 = this._getWindow();
    if (typeof window2 !== "undefined") {
      window2.removeEventListener("blur", this._windowBlurHandler);
    }
    this._viewportSubscription.unsubscribe();
    this._componentDestroyed = true;
    this._destroyPanel();
    this._closeKeyEventStream.complete();
    this._clearFromModal();
  }
  /** Whether or not the autocomplete panel is open. */
  get panelOpen() {
    return this._overlayAttached && this.autocomplete.showPanel;
  }
  /** Opens the autocomplete suggestion panel. */
  openPanel() {
    this._openPanelInternal();
  }
  /** Closes the autocomplete suggestion panel. */
  closePanel() {
    this._resetLabel();
    if (!this._overlayAttached) {
      return;
    }
    if (this.panelOpen) {
      this._zone.run(() => {
        this.autocomplete.closed.emit();
      });
    }
    if (this.autocomplete._latestOpeningTrigger === this) {
      this.autocomplete._isOpen = false;
      this.autocomplete._latestOpeningTrigger = null;
    }
    this._overlayAttached = false;
    this._pendingAutoselectedOption = null;
    if (this._overlayRef && this._overlayRef.hasAttached()) {
      this._overlayRef.detach();
      this._closingActionsSubscription.unsubscribe();
    }
    this._updatePanelState();
    if (!this._componentDestroyed) {
      this._changeDetectorRef.detectChanges();
    }
    if (this._trackedModal) {
      removeAriaReferencedId(this._trackedModal, "aria-owns", this.autocomplete.id);
    }
  }
  /**
   * Updates the position of the autocomplete suggestion panel to ensure that it fits all options
   * within the viewport.
   */
  updatePosition() {
    if (this._overlayAttached) {
      this._overlayRef.updatePosition();
    }
  }
  /**
   * A stream of actions that should close the autocomplete panel, including
   * when an option is selected, on blur, and when TAB is pressed.
   */
  get panelClosingActions() {
    return merge(this.optionSelections, this.autocomplete._keyManager.tabOut.pipe(filter(() => this._overlayAttached)), this._closeKeyEventStream, this._getOutsideClickStream(), this._overlayRef ? this._overlayRef.detachments().pipe(filter(() => this._overlayAttached)) : of()).pipe(
      // Normalize the output so we return a consistent type.
      map((event) => event instanceof MatOptionSelectionChange ? event : null)
    );
  }
  /** The currently active option, coerced to MatOption type. */
  get activeOption() {
    if (this.autocomplete && this.autocomplete._keyManager) {
      return this.autocomplete._keyManager.activeItem;
    }
    return null;
  }
  /** Stream of clicks outside of the autocomplete panel. */
  _getOutsideClickStream() {
    return merge(fromEvent(this._document, "click"), fromEvent(this._document, "auxclick"), fromEvent(this._document, "touchend")).pipe(filter((event) => {
      const clickTarget = _getEventTarget(event);
      const formField = this._formField ? this._formField.getConnectedOverlayOrigin().nativeElement : null;
      const customOrigin = this.connectedTo ? this.connectedTo.elementRef.nativeElement : null;
      return this._overlayAttached && clickTarget !== this._element.nativeElement && // Normally focus moves inside `mousedown` so this condition will almost always be
      // true. Its main purpose is to handle the case where the input is focused from an
      // outside click which propagates up to the `body` listener within the same sequence
      // and causes the panel to close immediately (see #3106).
      this._document.activeElement !== this._element.nativeElement && (!formField || !formField.contains(clickTarget)) && (!customOrigin || !customOrigin.contains(clickTarget)) && !!this._overlayRef && !this._overlayRef.overlayElement.contains(clickTarget);
    }));
  }
  // Implemented as part of ControlValueAccessor.
  writeValue(value) {
    Promise.resolve(null).then(() => this._assignOptionValue(value));
  }
  // Implemented as part of ControlValueAccessor.
  registerOnChange(fn) {
    this._onChange = fn;
  }
  // Implemented as part of ControlValueAccessor.
  registerOnTouched(fn) {
    this._onTouched = fn;
  }
  // Implemented as part of ControlValueAccessor.
  setDisabledState(isDisabled) {
    this._element.nativeElement.disabled = isDisabled;
  }
  _handleKeydown(event) {
    const keyCode = event.keyCode;
    const hasModifier = hasModifierKey(event);
    if (keyCode === ESCAPE && !hasModifier) {
      event.preventDefault();
    }
    this._valueOnLastKeydown = this._element.nativeElement.value;
    if (this.activeOption && keyCode === ENTER && this.panelOpen && !hasModifier) {
      this.activeOption._selectViaInteraction();
      this._resetActiveItem();
      event.preventDefault();
    } else if (this.autocomplete) {
      const prevActiveItem = this.autocomplete._keyManager.activeItem;
      const isArrowKey = keyCode === UP_ARROW || keyCode === DOWN_ARROW;
      if (keyCode === TAB || isArrowKey && !hasModifier && this.panelOpen) {
        this.autocomplete._keyManager.onKeydown(event);
      } else if (isArrowKey && this._canOpen()) {
        this._openPanelInternal(this._valueOnLastKeydown);
      }
      if (isArrowKey || this.autocomplete._keyManager.activeItem !== prevActiveItem) {
        this._scrollToOption(this.autocomplete._keyManager.activeItemIndex || 0);
        if (this.autocomplete.autoSelectActiveOption && this.activeOption) {
          if (!this._pendingAutoselectedOption) {
            this._valueBeforeAutoSelection = this._valueOnLastKeydown;
          }
          this._pendingAutoselectedOption = this.activeOption;
          this._assignOptionValue(this.activeOption.value);
        }
      }
    }
  }
  _handleInput(event) {
    let target = event.target;
    let value = target.value;
    if (target.type === "number") {
      value = value == "" ? null : parseFloat(value);
    }
    if (this._previousValue !== value) {
      this._previousValue = value;
      this._pendingAutoselectedOption = null;
      if (!this.autocomplete || !this.autocomplete.requireSelection) {
        this._onChange(value);
      }
      if (!value) {
        this._clearPreviousSelectedOption(null, false);
      } else if (this.panelOpen && !this.autocomplete.requireSelection) {
        const selectedOption = this.autocomplete.options?.find((option) => option.selected);
        if (selectedOption) {
          const display = this._getDisplayValue(selectedOption.value);
          if (value !== display) {
            selectedOption.deselect(false);
          }
        }
      }
      if (this._canOpen() && this._document.activeElement === event.target) {
        const valueOnAttach = this._valueOnLastKeydown ?? this._element.nativeElement.value;
        this._valueOnLastKeydown = null;
        this._openPanelInternal(valueOnAttach);
      }
    }
  }
  _handleFocus() {
    if (!this._canOpenOnNextFocus) {
      this._canOpenOnNextFocus = true;
    } else if (this._canOpen()) {
      this._previousValue = this._element.nativeElement.value;
      this._attachOverlay(this._previousValue);
      this._floatLabel(true);
    }
  }
  _handleClick() {
    if (this._canOpen() && !this.panelOpen) {
      this._openPanelInternal();
    }
  }
  /**
   * In "auto" mode, the label will animate down as soon as focus is lost.
   * This causes the value to jump when selecting an option with the mouse.
   * This method manually floats the label until the panel can be closed.
   * @param shouldAnimate Whether the label should be animated when it is floated.
   */
  _floatLabel(shouldAnimate = false) {
    if (this._formField && this._formField.floatLabel === "auto") {
      if (shouldAnimate) {
        this._formField._animateAndLockLabel();
      } else {
        this._formField.floatLabel = "always";
      }
      this._manuallyFloatingLabel = true;
    }
  }
  /** If the label has been manually elevated, return it to its normal state. */
  _resetLabel() {
    if (this._manuallyFloatingLabel) {
      if (this._formField) {
        this._formField.floatLabel = "auto";
      }
      this._manuallyFloatingLabel = false;
    }
  }
  /**
   * This method listens to a stream of panel closing actions and resets the
   * stream every time the option list changes.
   */
  _subscribeToClosingActions() {
    const firstStable = this._zone.onStable.pipe(take(1));
    const optionChanges = this.autocomplete.options.changes.pipe(
      tap(() => this._positionStrategy.reapplyLastPosition()),
      // Defer emitting to the stream until the next tick, because changing
      // bindings in here will cause "changed after checked" errors.
      delay(0)
    );
    return merge(firstStable, optionChanges).pipe(
      // create a new stream of panelClosingActions, replacing any previous streams
      // that were created, and flatten it so our stream only emits closing events...
      switchMap(() => {
        this._zone.run(() => {
          const wasOpen = this.panelOpen;
          this._resetActiveItem();
          this._updatePanelState();
          this._changeDetectorRef.detectChanges();
          if (this.panelOpen) {
            this._overlayRef.updatePosition();
          }
          if (wasOpen !== this.panelOpen) {
            if (this.panelOpen) {
              this._emitOpened();
            } else {
              this.autocomplete.closed.emit();
            }
          }
        });
        return this.panelClosingActions;
      }),
      // when the first closing event occurs...
      take(1)
    ).subscribe((event) => this._setValueAndClose(event));
  }
  /**
   * Emits the opened event once it's known that the panel will be shown and stores
   * the state of the trigger right before the opening sequence was finished.
   */
  _emitOpened() {
    this.autocomplete.opened.emit();
  }
  /** Destroys the autocomplete suggestion panel. */
  _destroyPanel() {
    if (this._overlayRef) {
      this.closePanel();
      this._overlayRef.dispose();
      this._overlayRef = null;
    }
  }
  /** Given a value, returns the string that should be shown within the input. */
  _getDisplayValue(value) {
    const autocomplete = this.autocomplete;
    return autocomplete && autocomplete.displayWith ? autocomplete.displayWith(value) : value;
  }
  _assignOptionValue(value) {
    const toDisplay = this._getDisplayValue(value);
    if (value == null) {
      this._clearPreviousSelectedOption(null, false);
    }
    this._updateNativeInputValue(toDisplay != null ? toDisplay : "");
  }
  _updateNativeInputValue(value) {
    if (this._formField) {
      this._formField._control.value = value;
    } else {
      this._element.nativeElement.value = value;
    }
    this._previousValue = value;
  }
  /**
   * This method closes the panel, and if a value is specified, also sets the associated
   * control to that value. It will also mark the control as dirty if this interaction
   * stemmed from the user.
   */
  _setValueAndClose(event) {
    const panel = this.autocomplete;
    const toSelect = event ? event.source : this._pendingAutoselectedOption;
    if (toSelect) {
      this._clearPreviousSelectedOption(toSelect);
      this._assignOptionValue(toSelect.value);
      this._onChange(toSelect.value);
      panel._emitSelectEvent(toSelect);
      this._element.nativeElement.focus();
    } else if (panel.requireSelection && this._element.nativeElement.value !== this._valueOnAttach) {
      this._clearPreviousSelectedOption(null);
      this._assignOptionValue(null);
      if (panel._animationDone) {
        panel._animationDone.pipe(take(1)).subscribe(() => this._onChange(null));
      } else {
        this._onChange(null);
      }
    }
    this.closePanel();
  }
  /**
   * Clear any previous selected option and emit a selection change event for this option
   */
  _clearPreviousSelectedOption(skip, emitEvent) {
    this.autocomplete?.options?.forEach((option) => {
      if (option !== skip && option.selected) {
        option.deselect(emitEvent);
      }
    });
  }
  _openPanelInternal(valueOnAttach = this._element.nativeElement.value) {
    this._attachOverlay(valueOnAttach);
    this._floatLabel();
    if (this._trackedModal) {
      const panelId = this.autocomplete.id;
      addAriaReferencedId(this._trackedModal, "aria-owns", panelId);
    }
  }
  _attachOverlay(valueOnAttach) {
    if (!this.autocomplete && (typeof ngDevMode === "undefined" || ngDevMode)) {
      throw getMatAutocompleteMissingPanelError();
    }
    let overlayRef = this._overlayRef;
    if (!overlayRef) {
      this._portal = new TemplatePortal(this.autocomplete.template, this._viewContainerRef, {
        id: this._formField?.getLabelId()
      });
      overlayRef = this._overlay.create(this._getOverlayConfig());
      this._overlayRef = overlayRef;
      this._viewportSubscription = this._viewportRuler.change().subscribe(() => {
        if (this.panelOpen && overlayRef) {
          overlayRef.updateSize({
            width: this._getPanelWidth()
          });
        }
      });
    } else {
      this._positionStrategy.setOrigin(this._getConnectedElement());
      overlayRef.updateSize({
        width: this._getPanelWidth()
      });
    }
    if (overlayRef && !overlayRef.hasAttached()) {
      overlayRef.attach(this._portal);
      this._valueOnAttach = valueOnAttach;
      this._valueOnLastKeydown = null;
      this._closingActionsSubscription = this._subscribeToClosingActions();
    }
    const wasOpen = this.panelOpen;
    this.autocomplete._isOpen = this._overlayAttached = true;
    this.autocomplete._latestOpeningTrigger = this;
    this.autocomplete._setColor(this._formField?.color);
    this._updatePanelState();
    this._applyModalPanelOwnership();
    if (this.panelOpen && wasOpen !== this.panelOpen) {
      this._emitOpened();
    }
  }
  /** Updates the panel's visibility state and any trigger state tied to id. */
  _updatePanelState() {
    this.autocomplete._setVisibility();
    if (this.panelOpen) {
      const overlayRef = this._overlayRef;
      if (!this._keydownSubscription) {
        this._keydownSubscription = overlayRef.keydownEvents().subscribe(this._handlePanelKeydown);
      }
      if (!this._outsideClickSubscription) {
        this._outsideClickSubscription = overlayRef.outsidePointerEvents().subscribe();
      }
    } else {
      this._keydownSubscription?.unsubscribe();
      this._outsideClickSubscription?.unsubscribe();
      this._keydownSubscription = this._outsideClickSubscription = null;
    }
  }
  _getOverlayConfig() {
    return new OverlayConfig({
      positionStrategy: this._getOverlayPosition(),
      scrollStrategy: this._scrollStrategy(),
      width: this._getPanelWidth(),
      direction: this._dir ?? void 0,
      panelClass: this._defaults?.overlayPanelClass
    });
  }
  _getOverlayPosition() {
    const strategy = this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(false).withPush(false);
    this._setStrategyPositions(strategy);
    this._positionStrategy = strategy;
    return strategy;
  }
  /** Sets the positions on a position strategy based on the directive's input state. */
  _setStrategyPositions(positionStrategy) {
    const belowPositions = [{
      originX: "start",
      originY: "bottom",
      overlayX: "start",
      overlayY: "top"
    }, {
      originX: "end",
      originY: "bottom",
      overlayX: "end",
      overlayY: "top"
    }];
    const panelClass = this._aboveClass;
    const abovePositions = [{
      originX: "start",
      originY: "top",
      overlayX: "start",
      overlayY: "bottom",
      panelClass
    }, {
      originX: "end",
      originY: "top",
      overlayX: "end",
      overlayY: "bottom",
      panelClass
    }];
    let positions;
    if (this.position === "above") {
      positions = abovePositions;
    } else if (this.position === "below") {
      positions = belowPositions;
    } else {
      positions = [...belowPositions, ...abovePositions];
    }
    positionStrategy.withPositions(positions);
  }
  _getConnectedElement() {
    if (this.connectedTo) {
      return this.connectedTo.elementRef;
    }
    return this._formField ? this._formField.getConnectedOverlayOrigin() : this._element;
  }
  _getPanelWidth() {
    return this.autocomplete.panelWidth || this._getHostWidth();
  }
  /** Returns the width of the input element, so the panel width can match it. */
  _getHostWidth() {
    return this._getConnectedElement().nativeElement.getBoundingClientRect().width;
  }
  /**
   * Reset the active item to -1. This is so that pressing arrow keys will activate the correct
   * option.
   *
   * If the consumer opted-in to automatically activatating the first option, activate the first
   * *enabled* option.
   */
  _resetActiveItem() {
    const autocomplete = this.autocomplete;
    if (autocomplete.autoActiveFirstOption) {
      let firstEnabledOptionIndex = -1;
      for (let index = 0; index < autocomplete.options.length; index++) {
        const option = autocomplete.options.get(index);
        if (!option.disabled) {
          firstEnabledOptionIndex = index;
          break;
        }
      }
      autocomplete._keyManager.setActiveItem(firstEnabledOptionIndex);
    } else {
      autocomplete._keyManager.setActiveItem(-1);
    }
  }
  /** Determines whether the panel can be opened. */
  _canOpen() {
    const element = this._element.nativeElement;
    return !element.readOnly && !element.disabled && !this.autocompleteDisabled;
  }
  /** Use defaultView of injected document if available or fallback to global window reference */
  _getWindow() {
    return this._document?.defaultView || window;
  }
  /** Scrolls to a particular option in the list. */
  _scrollToOption(index) {
    const autocomplete = this.autocomplete;
    const labelCount = _countGroupLabelsBeforeOption(index, autocomplete.options, autocomplete.optionGroups);
    if (index === 0 && labelCount === 1) {
      autocomplete._setScrollTop(0);
    } else if (autocomplete.panel) {
      const option = autocomplete.options.toArray()[index];
      if (option) {
        const element = option._getHostElement();
        const newScrollPosition = _getOptionScrollPosition(element.offsetTop, element.offsetHeight, autocomplete._getScrollTop(), autocomplete.panel.nativeElement.offsetHeight);
        autocomplete._setScrollTop(newScrollPosition);
      }
    }
  }
  /**
   * If the autocomplete trigger is inside of an `aria-modal` element, connect
   * that modal to the options panel with `aria-owns`.
   *
   * For some browser + screen reader combinations, when navigation is inside
   * of an `aria-modal` element, the screen reader treats everything outside
   * of that modal as hidden or invisible.
   *
   * This causes a problem when the combobox trigger is _inside_ of a modal, because the
   * options panel is rendered _outside_ of that modal, preventing screen reader navigation
   * from reaching the panel.
   *
   * We can work around this issue by applying `aria-owns` to the modal with the `id` of
   * the options panel. This effectively communicates to assistive technology that the
   * options panel is part of the same interaction as the modal.
   *
   * At time of this writing, this issue is present in VoiceOver.
   * See https://github.com/angular/components/issues/20694
   */
  _applyModalPanelOwnership() {
    const modal = this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');
    if (!modal) {
      return;
    }
    const panelId = this.autocomplete.id;
    if (this._trackedModal) {
      removeAriaReferencedId(this._trackedModal, "aria-owns", panelId);
    }
    addAriaReferencedId(modal, "aria-owns", panelId);
    this._trackedModal = modal;
  }
  /** Clears the references to the listbox overlay element from the modal it was added to. */
  _clearFromModal() {
    if (this._trackedModal) {
      const panelId = this.autocomplete.id;
      removeAriaReferencedId(this._trackedModal, "aria-owns", panelId);
      this._trackedModal = null;
    }
  }
  static {
    this.\u0275fac = function MatAutocompleteTrigger_Factory(t) {
      return new (t || _MatAutocompleteTrigger)(\u0275\u0275directiveInject(ElementRef), \u0275\u0275directiveInject(Overlay), \u0275\u0275directiveInject(ViewContainerRef), \u0275\u0275directiveInject(NgZone), \u0275\u0275directiveInject(ChangeDetectorRef), \u0275\u0275directiveInject(MAT_AUTOCOMPLETE_SCROLL_STRATEGY), \u0275\u0275directiveInject(Directionality, 8), \u0275\u0275directiveInject(MAT_FORM_FIELD, 9), \u0275\u0275directiveInject(DOCUMENT, 8), \u0275\u0275directiveInject(ViewportRuler), \u0275\u0275directiveInject(MAT_AUTOCOMPLETE_DEFAULT_OPTIONS, 8));
    };
  }
  static {
    this.\u0275dir = /* @__PURE__ */ \u0275\u0275defineDirective({
      type: _MatAutocompleteTrigger,
      selectors: [["input", "matAutocomplete", ""], ["textarea", "matAutocomplete", ""]],
      hostAttrs: [1, "mat-mdc-autocomplete-trigger"],
      hostVars: 7,
      hostBindings: function MatAutocompleteTrigger_HostBindings(rf, ctx) {
        if (rf & 1) {
          \u0275\u0275listener("focusin", function MatAutocompleteTrigger_focusin_HostBindingHandler() {
            return ctx._handleFocus();
          })("blur", function MatAutocompleteTrigger_blur_HostBindingHandler() {
            return ctx._onTouched();
          })("input", function MatAutocompleteTrigger_input_HostBindingHandler($event) {
            return ctx._handleInput($event);
          })("keydown", function MatAutocompleteTrigger_keydown_HostBindingHandler($event) {
            return ctx._handleKeydown($event);
          })("click", function MatAutocompleteTrigger_click_HostBindingHandler() {
            return ctx._handleClick();
          });
        }
        if (rf & 2) {
          \u0275\u0275attribute("autocomplete", ctx.autocompleteAttribute)("role", ctx.autocompleteDisabled ? null : "combobox")("aria-autocomplete", ctx.autocompleteDisabled ? null : "list")("aria-activedescendant", ctx.panelOpen && ctx.activeOption ? ctx.activeOption.id : null)("aria-expanded", ctx.autocompleteDisabled ? null : ctx.panelOpen.toString())("aria-controls", ctx.autocompleteDisabled || !ctx.panelOpen ? null : ctx.autocomplete == null ? null : ctx.autocomplete.id)("aria-haspopup", ctx.autocompleteDisabled ? null : "listbox");
        }
      },
      inputs: {
        autocomplete: [InputFlags.None, "matAutocomplete", "autocomplete"],
        position: [InputFlags.None, "matAutocompletePosition", "position"],
        connectedTo: [InputFlags.None, "matAutocompleteConnectedTo", "connectedTo"],
        autocompleteAttribute: [InputFlags.None, "autocomplete", "autocompleteAttribute"],
        autocompleteDisabled: [InputFlags.HasDecoratorInputTransform, "matAutocompleteDisabled", "autocompleteDisabled", booleanAttribute]
      },
      exportAs: ["matAutocompleteTrigger"],
      standalone: true,
      features: [\u0275\u0275ProvidersFeature([MAT_AUTOCOMPLETE_VALUE_ACCESSOR]), \u0275\u0275InputTransformsFeature, \u0275\u0275NgOnChangesFeature]
    });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(MatAutocompleteTrigger, [{
    type: Directive,
    args: [{
      selector: `input[matAutocomplete], textarea[matAutocomplete]`,
      host: {
        "class": "mat-mdc-autocomplete-trigger",
        "[attr.autocomplete]": "autocompleteAttribute",
        "[attr.role]": 'autocompleteDisabled ? null : "combobox"',
        "[attr.aria-autocomplete]": 'autocompleteDisabled ? null : "list"',
        "[attr.aria-activedescendant]": "(panelOpen && activeOption) ? activeOption.id : null",
        "[attr.aria-expanded]": "autocompleteDisabled ? null : panelOpen.toString()",
        "[attr.aria-controls]": "(autocompleteDisabled || !panelOpen) ? null : autocomplete?.id",
        "[attr.aria-haspopup]": 'autocompleteDisabled ? null : "listbox"',
        // Note: we use `focusin`, as opposed to `focus`, in order to open the panel
        // a little earlier. This avoids issues where IE delays the focusing of the input.
        "(focusin)": "_handleFocus()",
        "(blur)": "_onTouched()",
        "(input)": "_handleInput($event)",
        "(keydown)": "_handleKeydown($event)",
        "(click)": "_handleClick()"
      },
      exportAs: "matAutocompleteTrigger",
      providers: [MAT_AUTOCOMPLETE_VALUE_ACCESSOR],
      standalone: true
    }]
  }], () => [{
    type: ElementRef
  }, {
    type: Overlay
  }, {
    type: ViewContainerRef
  }, {
    type: NgZone
  }, {
    type: ChangeDetectorRef
  }, {
    type: void 0,
    decorators: [{
      type: Inject,
      args: [MAT_AUTOCOMPLETE_SCROLL_STRATEGY]
    }]
  }, {
    type: Directionality,
    decorators: [{
      type: Optional
    }]
  }, {
    type: MatFormField,
    decorators: [{
      type: Optional
    }, {
      type: Inject,
      args: [MAT_FORM_FIELD]
    }, {
      type: Host
    }]
  }, {
    type: void 0,
    decorators: [{
      type: Optional
    }, {
      type: Inject,
      args: [DOCUMENT]
    }]
  }, {
    type: ViewportRuler
  }, {
    type: void 0,
    decorators: [{
      type: Optional
    }, {
      type: Inject,
      args: [MAT_AUTOCOMPLETE_DEFAULT_OPTIONS]
    }]
  }], {
    autocomplete: [{
      type: Input,
      args: ["matAutocomplete"]
    }],
    position: [{
      type: Input,
      args: ["matAutocompletePosition"]
    }],
    connectedTo: [{
      type: Input,
      args: ["matAutocompleteConnectedTo"]
    }],
    autocompleteAttribute: [{
      type: Input,
      args: ["autocomplete"]
    }],
    autocompleteDisabled: [{
      type: Input,
      args: [{
        alias: "matAutocompleteDisabled",
        transform: booleanAttribute
      }]
    }]
  });
})();
var MatAutocompleteModule = class _MatAutocompleteModule {
  static {
    this.\u0275fac = function MatAutocompleteModule_Factory(t) {
      return new (t || _MatAutocompleteModule)();
    };
  }
  static {
    this.\u0275mod = /* @__PURE__ */ \u0275\u0275defineNgModule({
      type: _MatAutocompleteModule
    });
  }
  static {
    this.\u0275inj = /* @__PURE__ */ \u0275\u0275defineInjector({
      providers: [MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY_PROVIDER],
      imports: [OverlayModule, MatOptionModule, MatCommonModule, CommonModule, CdkScrollableModule, MatOptionModule, MatCommonModule]
    });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(MatAutocompleteModule, [{
    type: NgModule,
    args: [{
      imports: [OverlayModule, MatOptionModule, MatCommonModule, CommonModule, MatAutocomplete, MatAutocompleteTrigger, MatAutocompleteOrigin],
      exports: [CdkScrollableModule, MatAutocomplete, MatOptionModule, MatCommonModule, MatAutocompleteTrigger, MatAutocompleteOrigin],
      providers: [MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY_PROVIDER]
    }]
  }], null, null);
})();

// src/app/core/guards/admin.guard.ts
var AdminGuard = class _AdminGuard {
  constructor(keycloakService, router) {
    this.keycloakService = keycloakService;
    this.router = router;
  }
  canActivate(route, state2) {
    if (this.keycloakService.isLoggedIn() && this.keycloakService.hasRole("admin")) {
      console.log("AdminGuard: Acc\xE8s autoris\xE9 - r\xF4le admin d\xE9tect\xE9");
      return true;
    }
    console.log("AdminGuard: Acc\xE8s refus\xE9 - r\xF4le admin requis");
    return this.router.createUrlTree(["/compliance/frameworks"]);
  }
  static {
    this.\u0275fac = function AdminGuard_Factory(t) {
      return new (t || _AdminGuard)(\u0275\u0275inject(KeycloakService), \u0275\u0275inject(Router));
    };
  }
  static {
    this.\u0275prov = /* @__PURE__ */ \u0275\u0275defineInjectable({ token: _AdminGuard, factory: _AdminGuard.\u0275fac, providedIn: "root" });
  }
};

// src/app/features/compliance/compliance.component.ts
var ComplianceComponent = class _ComplianceComponent {
  constructor() {
  }
  ngOnInit() {
  }
  static {
    this.\u0275fac = function ComplianceComponent_Factory(t) {
      return new (t || _ComplianceComponent)();
    };
  }
  static {
    this.\u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _ComplianceComponent, selectors: [["app-compliance"]], decls: 29, vars: 4, consts: [["rlFrameworks", "routerLinkActive"], ["rlRequirements", "routerLinkActive"], ["rlMapping", "routerLinkActive"], ["rlGap", "routerLinkActive"], [1, "compliance-container"], [1, "page-header"], [1, "subtitle"], ["mat-tab-nav-bar", "", 1, "compliance-nav"], ["mat-tab-link", "", "routerLink", "frameworks", "routerLinkActive", "", 3, "active"], ["mat-tab-link", "", "routerLink", "requirements", "routerLinkActive", "", 3, "active"], ["mat-tab-link", "", "routerLink", "mappings", "routerLinkActive", "", 3, "active"], ["mat-tab-link", "", "routerLink", "gap-analysis", "routerLinkActive", "", 3, "active"], [1, "compliance-content"]], template: function ComplianceComponent_Template(rf, ctx) {
      if (rf & 1) {
        \u0275\u0275elementStart(0, "div", 4)(1, "div", 5)(2, "h1");
        \u0275\u0275text(3, "Gestion de la Conformit\xE9");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(4, "p", 6);
        \u0275\u0275text(5, "G\xE9rez les r\xE9f\xE9rentiels normatifs et les mappings avec les risques");
        \u0275\u0275elementEnd()();
        \u0275\u0275elementStart(6, "nav", 7)(7, "a", 8, 0)(9, "mat-icon");
        \u0275\u0275text(10, "library_books");
        \u0275\u0275elementEnd();
        \u0275\u0275text(11, " R\xE9f\xE9rentiels Normatifs ");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(12, "a", 9, 1)(14, "mat-icon");
        \u0275\u0275text(15, "assignment");
        \u0275\u0275elementEnd();
        \u0275\u0275text(16, " Exigences ");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(17, "a", 10, 2)(19, "mat-icon");
        \u0275\u0275text(20, "link");
        \u0275\u0275elementEnd();
        \u0275\u0275text(21, " Mappings Risques-Conformit\xE9 ");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(22, "a", 11, 3)(24, "mat-icon");
        \u0275\u0275text(25, "analytics");
        \u0275\u0275elementEnd();
        \u0275\u0275text(26, " Analyse d'\xC9carts ");
        \u0275\u0275elementEnd()();
        \u0275\u0275elementStart(27, "div", 12);
        \u0275\u0275element(28, "router-outlet");
        \u0275\u0275elementEnd()();
      }
      if (rf & 2) {
        const rlFrameworks_r1 = \u0275\u0275reference(8);
        const rlRequirements_r2 = \u0275\u0275reference(13);
        const rlMapping_r3 = \u0275\u0275reference(18);
        const rlGap_r4 = \u0275\u0275reference(23);
        \u0275\u0275advance(7);
        \u0275\u0275property("active", rlFrameworks_r1.isActive);
        \u0275\u0275advance(5);
        \u0275\u0275property("active", rlRequirements_r2.isActive);
        \u0275\u0275advance(5);
        \u0275\u0275property("active", rlMapping_r3.isActive);
        \u0275\u0275advance(5);
        \u0275\u0275property("active", rlGap_r4.isActive);
      }
    }, dependencies: [RouterOutlet, RouterLink, RouterLinkActive, MatIcon, MatTabNav, MatTabLink], styles: ["\n\n.compliance-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding: 20px;\n}\n.page-header[_ngcontent-%COMP%] {\n  margin-bottom: 20px;\n}\n.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\n  font-size: 24px;\n  font-weight: 500;\n  margin-bottom: 8px;\n  color: #333;\n}\n.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%] {\n  color: #666;\n  font-size: 14px;\n  margin: 0;\n}\n.compliance-nav[_ngcontent-%COMP%] {\n  margin-bottom: 20px;\n  background-color: #f5f5f5;\n  border-radius: 4px;\n}\n.compliance-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  padding: 12px 16px;\n  color: #555;\n  text-decoration: none;\n}\n.compliance-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n.compliance-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%] {\n  color: #3f51b5;\n  font-weight: 500;\n}\n.compliance-content[_ngcontent-%COMP%] {\n  flex: 1;\n  overflow: auto;\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  padding: 20px;\n}\n/*# sourceMappingURL=compliance.component.css.map */"] });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(ComplianceComponent, { className: "ComplianceComponent" });
})();

// src/app/features/compliance/frameworks/framework-form-dialog/framework-form-dialog.component.ts
function FrameworkFormDialogComponent_mat_error_10_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " Le nom est obligatoire ");
    \u0275\u0275elementEnd();
  }
}
function FrameworkFormDialogComponent_mat_error_11_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " Le nom ne doit pas d\xE9passer 100 caract\xE8res ");
    \u0275\u0275elementEnd();
  }
}
function FrameworkFormDialogComponent_mat_error_16_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " La version est obligatoire ");
    \u0275\u0275elementEnd();
  }
}
function FrameworkFormDialogComponent_mat_error_17_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " La version ne doit pas d\xE9passer 20 caract\xE8res ");
    \u0275\u0275elementEnd();
  }
}
function FrameworkFormDialogComponent_mat_error_22_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " La description ne doit pas d\xE9passer 500 caract\xE8res ");
    \u0275\u0275elementEnd();
  }
}
var FrameworkFormDialogComponent = class _FrameworkFormDialogComponent {
  constructor(fb, dialogRef, data) {
    this.fb = fb;
    this.dialogRef = dialogRef;
    this.data = data;
    this.isEditMode = false;
    this.dialogTitle = "Cr\xE9er un R\xE9f\xE9rentiel Normatif";
  }
  ngOnInit() {
    this.isEditMode = !!this.data.id;
    if (this.isEditMode) {
      this.dialogTitle = "Modifier le R\xE9f\xE9rentiel Normatif";
    }
    this.initForm();
  }
  initForm() {
    this.frameworkForm = this.fb.group({
      id: [this.data.id],
      name: [this.data.name || "", [Validators.required, Validators.maxLength(100)]],
      version: [this.data.version || "", [Validators.required, Validators.maxLength(20)]],
      description: [this.data.description || "", Validators.maxLength(500)]
    });
  }
  onSubmit() {
    if (this.frameworkForm.valid) {
      this.dialogRef.close(this.frameworkForm.value);
    }
  }
  onCancel() {
    this.dialogRef.close();
  }
  static {
    this.\u0275fac = function FrameworkFormDialogComponent_Factory(t) {
      return new (t || _FrameworkFormDialogComponent)(\u0275\u0275directiveInject(FormBuilder), \u0275\u0275directiveInject(MatDialogRef), \u0275\u0275directiveInject(MAT_DIALOG_DATA));
    };
  }
  static {
    this.\u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _FrameworkFormDialogComponent, selectors: [["app-framework-form-dialog"]], decls: 28, vars: 9, consts: [["mat-dialog-title", ""], [3, "ngSubmit", "formGroup"], [1, "form-fields"], ["type", "hidden", "formControlName", "id"], ["appearance", "outline", 1, "full-width"], ["matInput", "", "formControlName", "name", "placeholder", "Ex. ISO 27001", "required", ""], [4, "ngIf"], ["matInput", "", "formControlName", "version", "placeholder", "Ex. 2022", "required", ""], ["matInput", "", "formControlName", "description", "placeholder", "Description du r\xE9f\xE9rentiel normatif", "rows", "4"], ["align", "end"], ["mat-button", "", "type", "button", 3, "click"], ["mat-raised-button", "", "color", "primary", "type", "submit", 3, "disabled"]], template: function FrameworkFormDialogComponent_Template(rf, ctx) {
      if (rf & 1) {
        \u0275\u0275elementStart(0, "h2", 0);
        \u0275\u0275text(1);
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(2, "form", 1);
        \u0275\u0275listener("ngSubmit", function FrameworkFormDialogComponent_Template_form_ngSubmit_2_listener() {
          return ctx.onSubmit();
        });
        \u0275\u0275elementStart(3, "mat-dialog-content")(4, "div", 2);
        \u0275\u0275element(5, "input", 3);
        \u0275\u0275elementStart(6, "mat-form-field", 4)(7, "mat-label");
        \u0275\u0275text(8, "Nom");
        \u0275\u0275elementEnd();
        \u0275\u0275element(9, "input", 5);
        \u0275\u0275template(10, FrameworkFormDialogComponent_mat_error_10_Template, 2, 0, "mat-error", 6)(11, FrameworkFormDialogComponent_mat_error_11_Template, 2, 0, "mat-error", 6);
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(12, "mat-form-field", 4)(13, "mat-label");
        \u0275\u0275text(14, "Version");
        \u0275\u0275elementEnd();
        \u0275\u0275element(15, "input", 7);
        \u0275\u0275template(16, FrameworkFormDialogComponent_mat_error_16_Template, 2, 0, "mat-error", 6)(17, FrameworkFormDialogComponent_mat_error_17_Template, 2, 0, "mat-error", 6);
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(18, "mat-form-field", 4)(19, "mat-label");
        \u0275\u0275text(20, "Description");
        \u0275\u0275elementEnd();
        \u0275\u0275element(21, "textarea", 8);
        \u0275\u0275template(22, FrameworkFormDialogComponent_mat_error_22_Template, 2, 0, "mat-error", 6);
        \u0275\u0275elementEnd()()();
        \u0275\u0275elementStart(23, "mat-dialog-actions", 9)(24, "button", 10);
        \u0275\u0275listener("click", function FrameworkFormDialogComponent_Template_button_click_24_listener() {
          return ctx.onCancel();
        });
        \u0275\u0275text(25, "Annuler");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(26, "button", 11);
        \u0275\u0275text(27);
        \u0275\u0275elementEnd()()();
      }
      if (rf & 2) {
        let tmp_2_0;
        let tmp_3_0;
        let tmp_4_0;
        let tmp_5_0;
        let tmp_6_0;
        \u0275\u0275advance();
        \u0275\u0275textInterpolate(ctx.dialogTitle);
        \u0275\u0275advance();
        \u0275\u0275property("formGroup", ctx.frameworkForm);
        \u0275\u0275advance(8);
        \u0275\u0275property("ngIf", (tmp_2_0 = ctx.frameworkForm.get("name")) == null ? null : tmp_2_0.hasError("required"));
        \u0275\u0275advance();
        \u0275\u0275property("ngIf", (tmp_3_0 = ctx.frameworkForm.get("name")) == null ? null : tmp_3_0.hasError("maxlength"));
        \u0275\u0275advance(5);
        \u0275\u0275property("ngIf", (tmp_4_0 = ctx.frameworkForm.get("version")) == null ? null : tmp_4_0.hasError("required"));
        \u0275\u0275advance();
        \u0275\u0275property("ngIf", (tmp_5_0 = ctx.frameworkForm.get("version")) == null ? null : tmp_5_0.hasError("maxlength"));
        \u0275\u0275advance(5);
        \u0275\u0275property("ngIf", (tmp_6_0 = ctx.frameworkForm.get("description")) == null ? null : tmp_6_0.hasError("maxlength"));
        \u0275\u0275advance(4);
        \u0275\u0275property("disabled", ctx.frameworkForm.invalid);
        \u0275\u0275advance();
        \u0275\u0275textInterpolate1(" ", ctx.isEditMode ? "Mettre \xE0 jour" : "Cr\xE9er", " ");
      }
    }, dependencies: [NgIf, \u0275NgNoValidate, DefaultValueAccessor, NgControlStatus, NgControlStatusGroup, RequiredValidator, FormGroupDirective, FormControlName, MatButton, MatDialogTitle, MatDialogActions, MatDialogContent, MatFormField, MatLabel, MatError, MatInput], styles: ["\n\n.form-fields[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: 8px 0;\n}\n.full-width[_ngcontent-%COMP%] {\n  width: 100%;\n}\nmat-dialog-content[_ngcontent-%COMP%] {\n  min-width: 400px;\n}\nmat-dialog-actions[_ngcontent-%COMP%] {\n  padding: 16px 0 8px;\n}\n/*# sourceMappingURL=framework-form-dialog.component.css.map */"] });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(FrameworkFormDialogComponent, { className: "FrameworkFormDialogComponent" });
})();

// src/app/features/compliance/services/compliance-framework.service.ts
var ComplianceFrameworkService = class _ComplianceFrameworkService {
  constructor(apiService) {
    this.apiService = apiService;
    this.basePath = "/compliance-frameworks";
  }
  /**
   * Récupère la liste de tous les frameworks de conformité
   * @returns Observable contenant un tableau de frameworks
   */
  getFrameworks() {
    return this.apiService.get(this.basePath).pipe(catchError((error) => {
      console.error("Erreur lors de la r\xE9cup\xE9ration des frameworks de conformit\xE9", error);
      return throwError(() => new Error("Impossible de r\xE9cup\xE9rer la liste des frameworks de conformit\xE9. Veuillez r\xE9essayer."));
    }));
  }
  /**
   * Récupère un framework de conformité par son identifiant
   * @param id Identifiant du framework
   * @returns Observable contenant le framework
   */
  getFramework(id) {
    return this.apiService.get(`${this.basePath}/${id}`).pipe(catchError((error) => {
      console.error(`Erreur lors de la r\xE9cup\xE9ration du framework ${id}`, error);
      return throwError(() => new Error("Impossible de r\xE9cup\xE9rer les d\xE9tails du framework. Veuillez r\xE9essayer."));
    }));
  }
  /**
   * Crée un nouveau framework de conformité
   * @param framework Données du framework à créer
   * @returns Observable contenant le framework créé
   */
  createFramework(framework) {
    return this.apiService.post(this.basePath, framework).pipe(catchError((error) => {
      console.error("Erreur lors de la cr\xE9ation du framework", error);
      const message = this.getErrorMessage(error) || "Impossible de cr\xE9er le framework. Veuillez r\xE9essayer.";
      return throwError(() => new Error(message));
    }));
  }
  /**
   * Met à jour un framework de conformité existant
   * @param id Identifiant du framework
   * @param framework Nouvelles données du framework
   * @returns Observable contenant le framework mis à jour
   */
  updateFramework(id, framework) {
    return this.apiService.put(`${this.basePath}/${id}`, framework).pipe(catchError((error) => {
      console.error(`Erreur lors de la mise \xE0 jour du framework ${id}`, error);
      const message = this.getErrorMessage(error) || "Impossible de mettre \xE0 jour le framework. Veuillez r\xE9essayer.";
      return throwError(() => new Error(message));
    }));
  }
  /**
   * Supprime un framework de conformité
   * @param id Identifiant du framework à supprimer
   * @returns Observable
   */
  deleteFramework(id) {
    return this.apiService.delete(`${this.basePath}/${id}`).pipe(catchError((error) => {
      console.error(`Erreur lors de la suppression du framework ${id}`, error);
      return throwError(() => new Error("Impossible de supprimer le framework. Veuillez r\xE9essayer."));
    }));
  }
  /**
   * Extrait un message d'erreur lisible de la réponse HTTP
   * @param error Erreur HTTP
   * @returns Message d'erreur lisible
   */
  getErrorMessage(error) {
    if (error.error) {
      if (typeof error.error === "string") {
        return error.error;
      }
      if (error.error.message) {
        return error.error.message;
      }
      if (typeof error.error === "object") {
        const validationErrors = Object.entries(error.error).map(([field, message]) => `${field}: ${message}`).join(", ");
        if (validationErrors) {
          return `Erreurs de validation: ${validationErrors}`;
        }
      }
    }
    return error.statusText || "Une erreur est survenue";
  }
  static {
    this.\u0275fac = function ComplianceFrameworkService_Factory(t) {
      return new (t || _ComplianceFrameworkService)(\u0275\u0275inject(ApiService));
    };
  }
  static {
    this.\u0275prov = /* @__PURE__ */ \u0275\u0275defineInjectable({ token: _ComplianceFrameworkService, factory: _ComplianceFrameworkService.\u0275fac, providedIn: "root" });
  }
};

// src/app/features/compliance/frameworks/frameworks.component.ts
var _c03 = () => [5, 10, 25, 100];
var _c13 = (a0) => ["/compliance/frameworks", a0];
function FrameworksComponent_div_15_mat_progress_bar_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "mat-progress-bar", 24);
  }
}
function FrameworksComponent_div_15_div_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 25)(1, "mat-icon");
    \u0275\u0275text(2, "error");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "span");
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(ctx_r1.error);
  }
}
function FrameworksComponent_div_15_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 21);
    \u0275\u0275template(1, FrameworksComponent_div_15_mat_progress_bar_1_Template, 1, 0, "mat-progress-bar", 22)(2, FrameworksComponent_div_15_div_2_Template, 5, 1, "div", 23);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.isLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.error);
  }
}
function FrameworksComponent_th_19_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 26);
    \u0275\u0275text(1, " Nom ");
    \u0275\u0275elementEnd();
  }
}
function FrameworksComponent_td_20_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 27);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const framework_r3 = ctx.$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", framework_r3.name, " ");
  }
}
function FrameworksComponent_th_22_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 26);
    \u0275\u0275text(1, " Version ");
    \u0275\u0275elementEnd();
  }
}
function FrameworksComponent_td_23_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 27);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const framework_r4 = ctx.$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", framework_r4.version, " ");
  }
}
function FrameworksComponent_th_25_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 28);
    \u0275\u0275text(1, " Description ");
    \u0275\u0275elementEnd();
  }
}
function FrameworksComponent_td_26_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 27);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const framework_r5 = ctx.$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", framework_r5.description, " ");
  }
}
function FrameworksComponent_th_28_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 28);
    \u0275\u0275text(1, " Actions ");
    \u0275\u0275elementEnd();
  }
}
function FrameworksComponent_td_29_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "td", 27)(1, "button", 29)(2, "mat-icon");
    \u0275\u0275text(3, "visibility");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(4, "button", 30);
    \u0275\u0275listener("click", function FrameworksComponent_td_29_Template_button_click_4_listener() {
      const framework_r7 = \u0275\u0275restoreView(_r6).$implicit;
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.openFrameworkDialog(framework_r7));
    });
    \u0275\u0275elementStart(5, "mat-icon");
    \u0275\u0275text(6, "edit");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(7, "button", 31);
    \u0275\u0275listener("click", function FrameworksComponent_td_29_Template_button_click_7_listener() {
      const framework_r7 = \u0275\u0275restoreView(_r6).$implicit;
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.deleteFramework(framework_r7.id));
    });
    \u0275\u0275elementStart(8, "mat-icon");
    \u0275\u0275text(9, "delete");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const framework_r7 = ctx.$implicit;
    \u0275\u0275advance();
    \u0275\u0275property("routerLink", \u0275\u0275pureFunction1(1, _c13, framework_r7.id));
  }
}
function FrameworksComponent_tr_30_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "tr", 32);
  }
}
function FrameworksComponent_tr_31_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "tr", 33);
  }
}
function FrameworksComponent_tr_32_span_5_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    \u0275\u0275nextContext(2);
    const input_r8 = \u0275\u0275reference(12);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1('Aucun r\xE9f\xE9rentiel trouv\xE9 pour "', input_r8.value, '"');
  }
}
function FrameworksComponent_tr_32_span_6_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1, "Aucun r\xE9f\xE9rentiel disponible");
    \u0275\u0275elementEnd();
  }
}
function FrameworksComponent_tr_32_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "tr", 34)(1, "td", 35)(2, "div", 36)(3, "mat-icon");
    \u0275\u0275text(4, "info");
    \u0275\u0275elementEnd();
    \u0275\u0275template(5, FrameworksComponent_tr_32_span_5_Template, 2, 1, "span", 37)(6, FrameworksComponent_tr_32_span_6_Template, 2, 0, "span", 37);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    const input_r8 = \u0275\u0275reference(12);
    \u0275\u0275advance(5);
    \u0275\u0275property("ngIf", input_r8.value);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !input_r8.value && !ctx_r1.isLoading && !ctx_r1.error);
  }
}
var FrameworksComponent = class _FrameworksComponent {
  constructor(frameworkService, dialog) {
    this.frameworkService = frameworkService;
    this.dialog = dialog;
    this.displayedColumns = ["name", "version", "description", "actions"];
    this.dataSource = new MatTableDataSource([]);
    this.isLoading = true;
    this.error = null;
  }
  ngOnInit() {
    this.loadFrameworks();
  }
  ngAfterViewInit() {
    this.dataSource.paginator = this.paginator;
    this.dataSource.sort = this.sort;
  }
  applyFilter(event) {
    const filterValue = event.target.value;
    this.dataSource.filter = filterValue.trim().toLowerCase();
    if (this.dataSource.paginator) {
      this.dataSource.paginator.firstPage();
    }
  }
  loadFrameworks() {
    this.isLoading = true;
    this.error = null;
    this.frameworkService.getFrameworks().subscribe({
      next: (frameworks) => {
        this.dataSource.data = frameworks;
        this.isLoading = false;
      },
      error: (error) => {
        console.error("Erreur lors du chargement des frameworks", error);
        this.error = "Impossible de charger les frameworks. Veuillez r\xE9essayer.";
        this.isLoading = false;
      }
    });
  }
  openFrameworkDialog(framework) {
    const dialogRef = this.dialog.open(FrameworkFormDialogComponent, {
      width: "500px",
      data: framework || {}
    });
    dialogRef.afterClosed().subscribe((result) => {
      if (result) {
        if (result.id) {
          this.updateFramework(result);
        } else {
          this.createFramework(result);
        }
      }
    });
  }
  createFramework(framework) {
    this.frameworkService.createFramework(framework).subscribe({
      next: (newFramework) => {
        this.dataSource.data = [...this.dataSource.data, newFramework];
      },
      error: (error) => {
        console.error("Erreur lors de la cr\xE9ation du framework", error);
      }
    });
  }
  updateFramework(framework) {
    this.frameworkService.updateFramework(framework.id, framework).subscribe({
      next: (updatedFramework) => {
        const index = this.dataSource.data.findIndex((f) => f.id === updatedFramework.id);
        if (index !== -1) {
          const updatedData = [...this.dataSource.data];
          updatedData[index] = updatedFramework;
          this.dataSource.data = updatedData;
        }
      },
      error: (error) => {
        console.error("Erreur lors de la mise \xE0 jour du framework", error);
      }
    });
  }
  deleteFramework(id) {
    if (confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce framework? Cette action est irr\xE9versible.")) {
      this.frameworkService.deleteFramework(id).subscribe({
        next: () => {
          this.dataSource.data = this.dataSource.data.filter((f) => f.id !== id);
        },
        error: (error) => {
          console.error("Erreur lors de la suppression du framework", error);
        }
      });
    }
  }
  static {
    this.\u0275fac = function FrameworksComponent_Factory(t) {
      return new (t || _FrameworksComponent)(\u0275\u0275directiveInject(ComplianceFrameworkService), \u0275\u0275directiveInject(MatDialog));
    };
  }
  static {
    this.\u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _FrameworksComponent, selectors: [["app-frameworks"]], viewQuery: function FrameworksComponent_Query(rf, ctx) {
      if (rf & 1) {
        \u0275\u0275viewQuery(MatPaginator, 5);
        \u0275\u0275viewQuery(MatSort, 5);
      }
      if (rf & 2) {
        let _t;
        \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.paginator = _t.first);
        \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.sort = _t.first);
      }
    }, decls: 34, vars: 6, consts: [["input", ""], [1, "frameworks-container"], [1, "frameworks-header"], ["mat-raised-button", "", "color", "primary", 3, "click"], ["appearance", "outline", 1, "filter-field"], ["matInput", "", "placeholder", "Ex. ISO 27001", 3, "keyup"], ["matSuffix", ""], ["class", "loading-error-container", 4, "ngIf"], [1, "mat-elevation-z2", "data-table-container"], ["mat-table", "", "matSort", "", 3, "dataSource"], ["matColumnDef", "name"], ["mat-header-cell", "", "mat-sort-header", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["matColumnDef", "version"], ["matColumnDef", "description"], ["mat-header-cell", "", 4, "matHeaderCellDef"], ["matColumnDef", "actions"], ["mat-header-row", "", 4, "matHeaderRowDef"], ["mat-row", "", 4, "matRowDef", "matRowDefColumns"], ["class", "mat-row", 4, "matNoDataRow"], ["showFirstLastButtons", "", 3, "pageSizeOptions"], [1, "loading-error-container"], ["mode", "indeterminate", 4, "ngIf"], ["class", "error-message", 4, "ngIf"], ["mode", "indeterminate"], [1, "error-message"], ["mat-header-cell", "", "mat-sort-header", ""], ["mat-cell", ""], ["mat-header-cell", ""], ["mat-icon-button", "", "color", "primary", "matTooltip", "Voir les d\xE9tails", 3, "routerLink"], ["mat-icon-button", "", "color", "accent", "matTooltip", "Modifier", 3, "click"], ["mat-icon-button", "", "color", "warn", "matTooltip", "Supprimer", 3, "click"], ["mat-header-row", ""], ["mat-row", ""], [1, "mat-row"], ["colspan", "4", 1, "mat-cell"], [1, "no-data-message"], [4, "ngIf"]], template: function FrameworksComponent_Template(rf, ctx) {
      if (rf & 1) {
        const _r1 = \u0275\u0275getCurrentView();
        \u0275\u0275elementStart(0, "div", 1)(1, "div", 2)(2, "h2");
        \u0275\u0275text(3, "R\xE9f\xE9rentiels Normatifs");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(4, "button", 3);
        \u0275\u0275listener("click", function FrameworksComponent_Template_button_click_4_listener() {
          \u0275\u0275restoreView(_r1);
          return \u0275\u0275resetView(ctx.openFrameworkDialog());
        });
        \u0275\u0275elementStart(5, "mat-icon");
        \u0275\u0275text(6, "add");
        \u0275\u0275elementEnd();
        \u0275\u0275text(7, " Nouveau R\xE9f\xE9rentiel ");
        \u0275\u0275elementEnd()();
        \u0275\u0275elementStart(8, "mat-form-field", 4)(9, "mat-label");
        \u0275\u0275text(10, "Rechercher");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(11, "input", 5, 0);
        \u0275\u0275listener("keyup", function FrameworksComponent_Template_input_keyup_11_listener($event) {
          \u0275\u0275restoreView(_r1);
          return \u0275\u0275resetView(ctx.applyFilter($event));
        });
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(13, "mat-icon", 6);
        \u0275\u0275text(14, "search");
        \u0275\u0275elementEnd()();
        \u0275\u0275template(15, FrameworksComponent_div_15_Template, 3, 2, "div", 7);
        \u0275\u0275elementStart(16, "div", 8)(17, "table", 9);
        \u0275\u0275elementContainerStart(18, 10);
        \u0275\u0275template(19, FrameworksComponent_th_19_Template, 2, 0, "th", 11)(20, FrameworksComponent_td_20_Template, 2, 1, "td", 12);
        \u0275\u0275elementContainerEnd();
        \u0275\u0275elementContainerStart(21, 13);
        \u0275\u0275template(22, FrameworksComponent_th_22_Template, 2, 0, "th", 11)(23, FrameworksComponent_td_23_Template, 2, 1, "td", 12);
        \u0275\u0275elementContainerEnd();
        \u0275\u0275elementContainerStart(24, 14);
        \u0275\u0275template(25, FrameworksComponent_th_25_Template, 2, 0, "th", 15)(26, FrameworksComponent_td_26_Template, 2, 1, "td", 12);
        \u0275\u0275elementContainerEnd();
        \u0275\u0275elementContainerStart(27, 16);
        \u0275\u0275template(28, FrameworksComponent_th_28_Template, 2, 0, "th", 15)(29, FrameworksComponent_td_29_Template, 10, 3, "td", 12);
        \u0275\u0275elementContainerEnd();
        \u0275\u0275template(30, FrameworksComponent_tr_30_Template, 1, 0, "tr", 17)(31, FrameworksComponent_tr_31_Template, 1, 0, "tr", 18)(32, FrameworksComponent_tr_32_Template, 7, 2, "tr", 19);
        \u0275\u0275elementEnd();
        \u0275\u0275element(33, "mat-paginator", 20);
        \u0275\u0275elementEnd()();
      }
      if (rf & 2) {
        \u0275\u0275advance(15);
        \u0275\u0275property("ngIf", ctx.isLoading || ctx.error);
        \u0275\u0275advance(2);
        \u0275\u0275property("dataSource", ctx.dataSource);
        \u0275\u0275advance(13);
        \u0275\u0275property("matHeaderRowDef", ctx.displayedColumns);
        \u0275\u0275advance();
        \u0275\u0275property("matRowDefColumns", ctx.displayedColumns);
        \u0275\u0275advance(2);
        \u0275\u0275property("pageSizeOptions", \u0275\u0275pureFunction0(5, _c03));
      }
    }, dependencies: [NgIf, RouterLink, MatButton, MatIconButton, MatFormField, MatLabel, MatSuffix, MatIcon, MatInput, MatPaginator, MatProgressBar, MatSort, MatSortHeader, MatTable, MatHeaderCellDef, MatHeaderRowDef, MatColumnDef, MatCellDef, MatRowDef, MatHeaderCell, MatCell, MatHeaderRow, MatRow, MatNoDataRow, MatTooltip], styles: ["\n\n.frameworks-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.frameworks-header[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n.frameworks-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\n  margin: 0;\n  font-size: 20px;\n  font-weight: 500;\n}\n.filter-field[_ngcontent-%COMP%] {\n  width: 100%;\n  margin-bottom: 16px;\n}\n.loading-error-container[_ngcontent-%COMP%] {\n  margin-bottom: 16px;\n}\n.loading-error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  color: #f44336;\n  padding: 8px;\n  border-radius: 4px;\n  background-color: rgba(244, 67, 54, 0.1);\n}\n.loading-error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n.data-table-container[_ngcontent-%COMP%] {\n  flex: 1;\n  overflow: auto;\n  position: relative;\n  border-radius: 4px;\n}\n.data-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] {\n  width: 100%;\n}\n.data-table-container[_ngcontent-%COMP%]   .mat-column-name[_ngcontent-%COMP%] {\n  min-width: 150px;\n  max-width: 250px;\n}\n.data-table-container[_ngcontent-%COMP%]   .mat-column-version[_ngcontent-%COMP%] {\n  min-width: 100px;\n  max-width: 150px;\n}\n.data-table-container[_ngcontent-%COMP%]   .mat-column-description[_ngcontent-%COMP%] {\n  min-width: 200px;\n}\n.data-table-container[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%] {\n  min-width: 120px;\n  max-width: 120px;\n  text-align: center;\n}\n.data-table-container[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%], .data-table-container[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%] {\n  padding: 0 16px;\n}\n.data-table-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 24px;\n  color: rgba(0, 0, 0, 0.54);\n}\n.data-table-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n/*# sourceMappingURL=frameworks.component.css.map */"] });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(FrameworksComponent, { className: "FrameworksComponent" });
})();

// src/app/core/models/compliance.model.ts
var ComplianceRequirementType;
(function(ComplianceRequirementType2) {
  ComplianceRequirementType2["PREVENTIVE"] = "PREVENTIVE";
  ComplianceRequirementType2["DETECTIVE"] = "DETECTIVE";
  ComplianceRequirementType2["CORRECTIVE"] = "CORRECTIVE";
})(ComplianceRequirementType || (ComplianceRequirementType = {}));
var ComplianceStatus;
(function(ComplianceStatus2) {
  ComplianceStatus2["COMPLIANT"] = "COMPLIANT";
  ComplianceStatus2["NON_COMPLIANT"] = "NON_COMPLIANT";
  ComplianceStatus2["PARTIALLY_COMPLIANT"] = "PARTIALLY_COMPLIANT";
  ComplianceStatus2["NOT_APPLICABLE"] = "NOT_APPLICABLE";
})(ComplianceStatus || (ComplianceStatus = {}));

// src/app/features/compliance/requirements/requirement-form-dialog/requirement-form-dialog.component.ts
function RequirementFormDialogComponent_mat_option_10_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-option", 17);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const framework_r1 = ctx.$implicit;
    \u0275\u0275property("value", framework_r1.id);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" ", framework_r1.name, " (", framework_r1.version, ") ");
  }
}
function RequirementFormDialogComponent_mat_error_11_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " Le r\xE9f\xE9rentiel est obligatoire ");
    \u0275\u0275elementEnd();
  }
}
function RequirementFormDialogComponent_mat_error_16_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " Le code est obligatoire ");
    \u0275\u0275elementEnd();
  }
}
function RequirementFormDialogComponent_mat_error_17_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " Le code ne doit pas d\xE9passer 50 caract\xE8res ");
    \u0275\u0275elementEnd();
  }
}
function RequirementFormDialogComponent_mat_error_28_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " Le type est obligatoire ");
    \u0275\u0275elementEnd();
  }
}
function RequirementFormDialogComponent_mat_error_33_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " La description est obligatoire ");
    \u0275\u0275elementEnd();
  }
}
function RequirementFormDialogComponent_mat_error_34_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " La description ne doit pas d\xE9passer 500 caract\xE8res ");
    \u0275\u0275elementEnd();
  }
}
var RequirementFormDialogComponent = class _RequirementFormDialogComponent {
  constructor(fb, dialogRef, data) {
    this.fb = fb;
    this.dialogRef = dialogRef;
    this.data = data;
    this.isEditMode = false;
    this.dialogTitle = "Cr\xE9er une Exigence";
    this.frameworks = [];
    this.frameworks = data.frameworks || [];
  }
  ngOnInit() {
    this.isEditMode = !!this.data.requirement?.id;
    if (this.isEditMode) {
      this.dialogTitle = "Modifier l'Exigence";
    }
    this.initForm();
  }
  initForm() {
    const requirement = this.data.requirement || {};
    this.requirementForm = this.fb.group({
      id: [requirement.id],
      code: [requirement.code || "", [Validators.required, Validators.maxLength(50)]],
      description: [requirement.description || "", [Validators.required, Validators.maxLength(500)]],
      type: [requirement.type || ComplianceRequirementType.PREVENTIVE, Validators.required],
      frameworkId: [requirement.frameworkId || "", Validators.required]
    });
    console.log("Framework de l'exigence en \xE9dition :", requirement.framework);
    if (this.isEditMode && requirement.framework) {
      this.requirementForm.patchValue({
        frameworkId: requirement.framework.id
      });
      console.log("Framework ID pr\xE9-rempli :", requirement.framework.id);
    }
  }
  onSubmit() {
    if (this.requirementForm.valid) {
      const formValue = this.requirementForm.value;
      const result = __spreadValues({}, formValue);
      this.dialogRef.close(result);
    }
  }
  onCancel() {
    this.dialogRef.close();
  }
  static {
    this.\u0275fac = function RequirementFormDialogComponent_Factory(t) {
      return new (t || _RequirementFormDialogComponent)(\u0275\u0275directiveInject(FormBuilder), \u0275\u0275directiveInject(MatDialogRef), \u0275\u0275directiveInject(MAT_DIALOG_DATA));
    };
  }
  static {
    this.\u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _RequirementFormDialogComponent, selectors: [["app-requirement-form-dialog"]], decls: 40, vars: 11, consts: [["mat-dialog-title", ""], [3, "ngSubmit", "formGroup"], [1, "form-fields"], ["type", "hidden", "formControlName", "id"], ["appearance", "outline", 1, "full-width"], ["formControlName", "frameworkId", "required", ""], [3, "value", 4, "ngFor", "ngForOf"], [4, "ngIf"], ["matInput", "", "formControlName", "code", "placeholder", "Ex. A.5.1", "required", ""], ["formControlName", "type", "required", ""], ["value", "PREVENTIVE"], ["value", "DETECTIVE"], ["value", "CORRECTIVE"], ["matInput", "", "formControlName", "description", "placeholder", "Description de l'exigence", "rows", "4", "required", ""], ["align", "end"], ["mat-button", "", "type", "button", 3, "click"], ["mat-raised-button", "", "color", "primary", "type", "submit", 3, "disabled"], [3, "value"]], template: function RequirementFormDialogComponent_Template(rf, ctx) {
      if (rf & 1) {
        \u0275\u0275elementStart(0, "h2", 0);
        \u0275\u0275text(1);
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(2, "form", 1);
        \u0275\u0275listener("ngSubmit", function RequirementFormDialogComponent_Template_form_ngSubmit_2_listener() {
          return ctx.onSubmit();
        });
        \u0275\u0275elementStart(3, "mat-dialog-content")(4, "div", 2);
        \u0275\u0275element(5, "input", 3);
        \u0275\u0275elementStart(6, "mat-form-field", 4)(7, "mat-label");
        \u0275\u0275text(8, "R\xE9f\xE9rentiel");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(9, "mat-select", 5);
        \u0275\u0275template(10, RequirementFormDialogComponent_mat_option_10_Template, 2, 3, "mat-option", 6);
        \u0275\u0275elementEnd();
        \u0275\u0275template(11, RequirementFormDialogComponent_mat_error_11_Template, 2, 0, "mat-error", 7);
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(12, "mat-form-field", 4)(13, "mat-label");
        \u0275\u0275text(14, "Code");
        \u0275\u0275elementEnd();
        \u0275\u0275element(15, "input", 8);
        \u0275\u0275template(16, RequirementFormDialogComponent_mat_error_16_Template, 2, 0, "mat-error", 7)(17, RequirementFormDialogComponent_mat_error_17_Template, 2, 0, "mat-error", 7);
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(18, "mat-form-field", 4)(19, "mat-label");
        \u0275\u0275text(20, "Type");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(21, "mat-select", 9)(22, "mat-option", 10);
        \u0275\u0275text(23, "Pr\xE9ventif");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(24, "mat-option", 11);
        \u0275\u0275text(25, "D\xE9tectif");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(26, "mat-option", 12);
        \u0275\u0275text(27, "Correctif");
        \u0275\u0275elementEnd()();
        \u0275\u0275template(28, RequirementFormDialogComponent_mat_error_28_Template, 2, 0, "mat-error", 7);
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(29, "mat-form-field", 4)(30, "mat-label");
        \u0275\u0275text(31, "Description");
        \u0275\u0275elementEnd();
        \u0275\u0275element(32, "textarea", 13);
        \u0275\u0275template(33, RequirementFormDialogComponent_mat_error_33_Template, 2, 0, "mat-error", 7)(34, RequirementFormDialogComponent_mat_error_34_Template, 2, 0, "mat-error", 7);
        \u0275\u0275elementEnd()()();
        \u0275\u0275elementStart(35, "mat-dialog-actions", 14)(36, "button", 15);
        \u0275\u0275listener("click", function RequirementFormDialogComponent_Template_button_click_36_listener() {
          return ctx.onCancel();
        });
        \u0275\u0275text(37, "Annuler");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(38, "button", 16);
        \u0275\u0275text(39);
        \u0275\u0275elementEnd()()();
      }
      if (rf & 2) {
        let tmp_3_0;
        let tmp_4_0;
        let tmp_5_0;
        let tmp_6_0;
        let tmp_7_0;
        let tmp_8_0;
        \u0275\u0275advance();
        \u0275\u0275textInterpolate(ctx.dialogTitle);
        \u0275\u0275advance();
        \u0275\u0275property("formGroup", ctx.requirementForm);
        \u0275\u0275advance(8);
        \u0275\u0275property("ngForOf", ctx.frameworks);
        \u0275\u0275advance();
        \u0275\u0275property("ngIf", (tmp_3_0 = ctx.requirementForm.get("frameworkId")) == null ? null : tmp_3_0.hasError("required"));
        \u0275\u0275advance(5);
        \u0275\u0275property("ngIf", (tmp_4_0 = ctx.requirementForm.get("code")) == null ? null : tmp_4_0.hasError("required"));
        \u0275\u0275advance();
        \u0275\u0275property("ngIf", (tmp_5_0 = ctx.requirementForm.get("code")) == null ? null : tmp_5_0.hasError("maxlength"));
        \u0275\u0275advance(11);
        \u0275\u0275property("ngIf", (tmp_6_0 = ctx.requirementForm.get("type")) == null ? null : tmp_6_0.hasError("required"));
        \u0275\u0275advance(5);
        \u0275\u0275property("ngIf", (tmp_7_0 = ctx.requirementForm.get("description")) == null ? null : tmp_7_0.hasError("required"));
        \u0275\u0275advance();
        \u0275\u0275property("ngIf", (tmp_8_0 = ctx.requirementForm.get("description")) == null ? null : tmp_8_0.hasError("maxlength"));
        \u0275\u0275advance(4);
        \u0275\u0275property("disabled", ctx.requirementForm.invalid);
        \u0275\u0275advance();
        \u0275\u0275textInterpolate1(" ", ctx.isEditMode ? "Mettre \xE0 jour" : "Cr\xE9er", " ");
      }
    }, dependencies: [NgForOf, NgIf, \u0275NgNoValidate, DefaultValueAccessor, NgControlStatus, NgControlStatusGroup, RequiredValidator, FormGroupDirective, FormControlName, MatButton, MatDialogTitle, MatDialogActions, MatDialogContent, MatFormField, MatLabel, MatError, MatInput, MatSelect, MatOption], styles: ["\n\n.form-fields[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: 8px 0;\n}\n.full-width[_ngcontent-%COMP%] {\n  width: 100%;\n}\nmat-dialog-content[_ngcontent-%COMP%] {\n  min-width: 400px;\n}\nmat-dialog-actions[_ngcontent-%COMP%] {\n  padding: 16px 0 8px;\n}\n/*# sourceMappingURL=requirement-form-dialog.component.css.map */"] });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(RequirementFormDialogComponent, { className: "RequirementFormDialogComponent" });
})();

// src/app/features/compliance/services/compliance-requirement.service.ts
var ComplianceRequirementService = class _ComplianceRequirementService {
  constructor(apiService) {
    this.apiService = apiService;
    this.basePath = "/compliance-requirements";
  }
  /**
   * Récupère la liste de toutes les exigences de conformité
   * @returns Observable contenant un tableau d'exigences
   */
  getRequirements() {
    return this.apiService.get(this.basePath).pipe(catchError((error) => {
      console.error("Erreur lors de la r\xE9cup\xE9ration des exigences de conformit\xE9", error);
      return throwError(() => new Error("Impossible de r\xE9cup\xE9rer la liste des exigences de conformit\xE9. Veuillez r\xE9essayer."));
    }));
  }
  /**
   * Récupère la liste des exigences de conformité filtrées par framework
   * @param frameworkId Identifiant du framework
   * @returns Observable contenant un tableau d'exigences
   */
  getRequirementsByFramework(frameworkId) {
    return this.apiService.get(`${this.basePath}?frameworkId=${frameworkId}`).pipe(catchError((error) => {
      console.error(`Erreur lors de la r\xE9cup\xE9ration des exigences du framework ${frameworkId}`, error);
      return throwError(() => new Error("Impossible de r\xE9cup\xE9rer les exigences de ce framework. Veuillez r\xE9essayer."));
    }));
  }
  /**
   * Récupère la liste des exigences de conformité filtrées par type
   * @param type Type d'exigence
   * @returns Observable contenant un tableau d'exigences
   */
  getRequirementsByType(type) {
    return this.apiService.get(`${this.basePath}?type=${type}`).pipe(catchError((error) => {
      console.error(`Erreur lors de la r\xE9cup\xE9ration des exigences de type ${type}`, error);
      return throwError(() => new Error(`Impossible de r\xE9cup\xE9rer les exigences de type ${type}. Veuillez r\xE9essayer.`));
    }));
  }
  /**
   * Récupère une exigence de conformité par son identifiant
   * @param id Identifiant de l'exigence
   * @returns Observable contenant l'exigence
   */
  getRequirement(id) {
    return this.apiService.get(`${this.basePath}/${id}`).pipe(catchError((error) => {
      console.error(`Erreur lors de la r\xE9cup\xE9ration de l'exigence ${id}`, error);
      return throwError(() => new Error("Impossible de r\xE9cup\xE9rer les d\xE9tails de l'exigence. Veuillez r\xE9essayer."));
    }));
  }
  /**
   * Crée une nouvelle exigence de conformité
   * @param requirement Données de l'exigence à créer
   * @returns Observable contenant l'exigence créée
   */
  createRequirement(requirement) {
    return this.apiService.post(this.basePath, requirement).pipe(catchError((error) => {
      console.error("Erreur lors de la cr\xE9ation de l'exigence", error);
      const message = this.getErrorMessage(error) || "Impossible de cr\xE9er l'exigence. Veuillez r\xE9essayer.";
      return throwError(() => new Error(message));
    }));
  }
  /**
   * Met à jour une exigence de conformité existante
   * @param id Identifiant de l'exigence
   * @param requirement Nouvelles données de l'exigence
   * @returns Observable contenant l'exigence mise à jour
   */
  updateRequirement(id, requirement) {
    return this.apiService.put(`${this.basePath}/${id}`, requirement).pipe(catchError((error) => {
      console.error(`Erreur lors de la mise \xE0 jour de l'exigence ${id}`, error);
      const message = this.getErrorMessage(error) || "Impossible de mettre \xE0 jour l'exigence. Veuillez r\xE9essayer.";
      return throwError(() => new Error(message));
    }));
  }
  /**
   * Supprime une exigence de conformité
   * @param id Identifiant de l'exigence à supprimer
   * @returns Observable
   */
  deleteRequirement(id) {
    return this.apiService.delete(`${this.basePath}/${id}`).pipe(catchError((error) => {
      console.error(`Erreur lors de la suppression de l'exigence ${id}`, error);
      return throwError(() => new Error("Impossible de supprimer l'exigence. Veuillez r\xE9essayer."));
    }));
  }
  /**
   * Extrait un message d'erreur lisible de la réponse HTTP
   * @param error Erreur HTTP
   * @returns Message d'erreur lisible
   */
  getErrorMessage(error) {
    if (error.error) {
      if (typeof error.error === "string") {
        return error.error;
      }
      if (error.error.message) {
        return error.error.message;
      }
      if (typeof error.error === "object") {
        const validationErrors = Object.entries(error.error).map(([field, message]) => `${field}: ${message}`).join(", ");
        if (validationErrors) {
          return `Erreurs de validation: ${validationErrors}`;
        }
      }
    }
    return error.statusText || "Une erreur est survenue";
  }
  static {
    this.\u0275fac = function ComplianceRequirementService_Factory(t) {
      return new (t || _ComplianceRequirementService)(\u0275\u0275inject(ApiService));
    };
  }
  static {
    this.\u0275prov = /* @__PURE__ */ \u0275\u0275defineInjectable({ token: _ComplianceRequirementService, factory: _ComplianceRequirementService.\u0275fac, providedIn: "root" });
  }
};

// src/app/features/compliance/frameworks/framework-detail/framework-detail.component.ts
var _c04 = () => ["admin"];
var _c14 = (a0) => ["/compliance/requirements", a0];
var _c22 = (a0) => ["/compliance/frameworks/edit", a0];
function FrameworkDetailComponent_div_5_mat_progress_bar_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "mat-progress-bar", 8);
  }
}
function FrameworkDetailComponent_div_5_div_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 9)(1, "mat-icon");
    \u0275\u0275text(2, "error");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "span");
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(ctx_r0.error);
  }
}
function FrameworkDetailComponent_div_5_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 5);
    \u0275\u0275template(1, FrameworkDetailComponent_div_5_mat_progress_bar_1_Template, 1, 0, "mat-progress-bar", 6)(2, FrameworkDetailComponent_div_5_div_2_Template, 5, 1, "div", 7);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r0.isLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r0.error);
  }
}
function FrameworkDetailComponent_div_6_p_10_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "p");
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(ctx_r0.framework.description);
  }
}
function FrameworkDetailComponent_div_6_p_11_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "p")(1, "em");
    \u0275\u0275text(2, "Aucune description fournie");
    \u0275\u0275elementEnd()();
  }
}
function FrameworkDetailComponent_div_6_th_23_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 31);
    \u0275\u0275text(1, " Code ");
    \u0275\u0275elementEnd();
  }
}
function FrameworkDetailComponent_div_6_td_24_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 32);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const requirement_r3 = ctx.$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", requirement_r3.code, " ");
  }
}
function FrameworkDetailComponent_div_6_th_26_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 33);
    \u0275\u0275text(1, " Description ");
    \u0275\u0275elementEnd();
  }
}
function FrameworkDetailComponent_div_6_td_27_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 32);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const requirement_r4 = ctx.$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", requirement_r4.description, " ");
  }
}
function FrameworkDetailComponent_div_6_th_29_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 31);
    \u0275\u0275text(1, " Type ");
    \u0275\u0275elementEnd();
  }
}
function FrameworkDetailComponent_div_6_td_30_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 32)(1, "span", 34);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const requirement_r5 = ctx.$implicit;
    \u0275\u0275advance();
    \u0275\u0275property("ngClass", "type-badge " + requirement_r5.type.toLowerCase());
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", requirement_r5.type, " ");
  }
}
function FrameworkDetailComponent_div_6_th_32_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 33);
    \u0275\u0275text(1, " Actions ");
    \u0275\u0275elementEnd();
  }
}
function FrameworkDetailComponent_div_6_td_33_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "td", 32)(1, "button", 35)(2, "mat-icon");
    \u0275\u0275text(3, "visibility");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(4, "button", 36);
    \u0275\u0275listener("click", function FrameworkDetailComponent_div_6_td_33_Template_button_click_4_listener() {
      const requirement_r7 = \u0275\u0275restoreView(_r6).$implicit;
      const ctx_r0 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r0.openRequirementDialog(requirement_r7));
    });
    \u0275\u0275elementStart(5, "mat-icon");
    \u0275\u0275text(6, "edit");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(7, "button", 37);
    \u0275\u0275listener("click", function FrameworkDetailComponent_div_6_td_33_Template_button_click_7_listener() {
      const requirement_r7 = \u0275\u0275restoreView(_r6).$implicit;
      const ctx_r0 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r0.deleteRequirement(requirement_r7.id));
    });
    \u0275\u0275elementStart(8, "mat-icon");
    \u0275\u0275text(9, "delete");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const requirement_r7 = ctx.$implicit;
    \u0275\u0275advance();
    \u0275\u0275property("routerLink", \u0275\u0275pureFunction1(1, _c14, requirement_r7.id));
  }
}
function FrameworkDetailComponent_div_6_tr_34_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "tr", 38);
  }
}
function FrameworkDetailComponent_div_6_tr_35_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "tr", 39);
  }
}
function FrameworkDetailComponent_div_6_tr_36_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "tr", 40)(1, "td", 41)(2, "div", 42)(3, "mat-icon");
    \u0275\u0275text(4, "info");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "span");
    \u0275\u0275text(6, "Aucune exigence disponible pour ce r\xE9f\xE9rentiel");
    \u0275\u0275elementEnd()()()();
  }
}
function FrameworkDetailComponent_div_6_button_37_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "button", 43)(1, "mat-icon");
    \u0275\u0275text(2, "edit");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3, " Modifier le r\xE9f\xE9rentiel ");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext(2);
    \u0275\u0275property("routerLink", \u0275\u0275pureFunction1(1, _c22, ctx_r0.framework.id));
  }
}
function FrameworkDetailComponent_div_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r2 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 10)(1, "mat-card", 11)(2, "mat-card-header")(3, "mat-card-title", 12)(4, "span");
    \u0275\u0275text(5);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(6, "button", 13);
    \u0275\u0275listener("click", function FrameworkDetailComponent_div_6_Template_button_click_6_listener() {
      \u0275\u0275restoreView(_r2);
      const ctx_r0 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r0.openFrameworkDialog());
    });
    \u0275\u0275elementStart(7, "mat-icon");
    \u0275\u0275text(8, "edit");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(9, "mat-card-content");
    \u0275\u0275template(10, FrameworkDetailComponent_div_6_p_10_Template, 2, 1, "p", 14)(11, FrameworkDetailComponent_div_6_p_11_Template, 3, 0, "p", 14);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(12, "div", 15)(13, "div", 16)(14, "h2");
    \u0275\u0275text(15, "Exigences du r\xE9f\xE9rentiel");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(16, "button", 17);
    \u0275\u0275listener("click", function FrameworkDetailComponent_div_6_Template_button_click_16_listener() {
      \u0275\u0275restoreView(_r2);
      const ctx_r0 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r0.openRequirementDialog());
    });
    \u0275\u0275elementStart(17, "mat-icon");
    \u0275\u0275text(18, "add");
    \u0275\u0275elementEnd();
    \u0275\u0275text(19, " Nouvelle Exigence ");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(20, "div", 18)(21, "table", 19);
    \u0275\u0275elementContainerStart(22, 20);
    \u0275\u0275template(23, FrameworkDetailComponent_div_6_th_23_Template, 2, 0, "th", 21)(24, FrameworkDetailComponent_div_6_td_24_Template, 2, 1, "td", 22);
    \u0275\u0275elementContainerEnd();
    \u0275\u0275elementContainerStart(25, 23);
    \u0275\u0275template(26, FrameworkDetailComponent_div_6_th_26_Template, 2, 0, "th", 24)(27, FrameworkDetailComponent_div_6_td_27_Template, 2, 1, "td", 22);
    \u0275\u0275elementContainerEnd();
    \u0275\u0275elementContainerStart(28, 25);
    \u0275\u0275template(29, FrameworkDetailComponent_div_6_th_29_Template, 2, 0, "th", 21)(30, FrameworkDetailComponent_div_6_td_30_Template, 3, 2, "td", 22);
    \u0275\u0275elementContainerEnd();
    \u0275\u0275elementContainerStart(31, 26);
    \u0275\u0275template(32, FrameworkDetailComponent_div_6_th_32_Template, 2, 0, "th", 24)(33, FrameworkDetailComponent_div_6_td_33_Template, 10, 3, "td", 22);
    \u0275\u0275elementContainerEnd();
    \u0275\u0275template(34, FrameworkDetailComponent_div_6_tr_34_Template, 1, 0, "tr", 27)(35, FrameworkDetailComponent_div_6_tr_35_Template, 1, 0, "tr", 28)(36, FrameworkDetailComponent_div_6_tr_36_Template, 7, 0, "tr", 29);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(37, FrameworkDetailComponent_div_6_button_37_Template, 4, 3, "button", 30);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext();
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate2("", ctx_r0.framework.name, " ", ctx_r0.framework.version, "");
    \u0275\u0275advance(5);
    \u0275\u0275property("ngIf", ctx_r0.framework.description);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r0.framework.description);
    \u0275\u0275advance(10);
    \u0275\u0275property("dataSource", ctx_r0.requirementsDataSource);
    \u0275\u0275advance(13);
    \u0275\u0275property("matHeaderRowDef", ctx_r0.displayedColumns);
    \u0275\u0275advance();
    \u0275\u0275property("matRowDefColumns", ctx_r0.displayedColumns);
    \u0275\u0275advance(2);
    \u0275\u0275property("appHasRole", \u0275\u0275pureFunction0(8, _c04));
  }
}
var FrameworkDetailComponent = class _FrameworkDetailComponent {
  constructor(route, router, frameworkService, requirementService, dialog) {
    this.route = route;
    this.router = router;
    this.frameworkService = frameworkService;
    this.requirementService = requirementService;
    this.dialog = dialog;
    this.framework = null;
    this.requirementsDataSource = new MatTableDataSource([]);
    this.displayedColumns = ["code", "description", "type", "actions"];
    this.isLoading = true;
    this.error = null;
  }
  ngOnInit() {
    this.route.paramMap.subscribe((params) => {
      const id = params.get("id");
      if (id) {
        this.loadFramework(id);
      } else {
        this.error = "Identifiant du framework manquant";
        this.isLoading = false;
      }
    });
  }
  loadFramework(id) {
    this.isLoading = true;
    this.error = null;
    this.frameworkService.getFramework(id).subscribe({
      next: (framework) => {
        this.framework = framework;
        this.loadRequirements(id);
      },
      error: (error) => {
        console.error(`Erreur lors du chargement du framework ${id}`, error);
        this.error = "Impossible de charger les d\xE9tails du framework. Veuillez r\xE9essayer.";
        this.isLoading = false;
      }
    });
  }
  loadRequirements(frameworkId) {
    this.requirementService.getRequirementsByFramework(frameworkId).subscribe({
      next: (requirements) => {
        this.requirementsDataSource.data = requirements;
        this.isLoading = false;
      },
      error: (error) => {
        console.error(`Erreur lors du chargement des exigences du framework ${frameworkId}`, error);
        this.error = "Impossible de charger les exigences du framework. Veuillez r\xE9essayer.";
        this.isLoading = false;
      }
    });
  }
  openFrameworkDialog() {
    if (!this.framework)
      return;
    const dialogRef = this.dialog.open(FrameworkFormDialogComponent, {
      width: "500px",
      data: this.framework
    });
    dialogRef.afterClosed().subscribe((result) => {
      if (result) {
        this.updateFramework(result);
      }
    });
  }
  updateFramework(framework) {
    if (!this.framework)
      return;
    this.frameworkService.updateFramework(framework.id, framework).subscribe({
      next: (updatedFramework) => {
        this.framework = updatedFramework;
      },
      error: (error) => {
        console.error(`Erreur lors de la mise \xE0 jour du framework ${framework.id}`, error);
      }
    });
  }
  openRequirementDialog(requirement) {
    if (!this.framework)
      return;
    const data = requirement ? __spreadValues({}, requirement) : {
      framework: this.framework
    };
    const dialogRef = this.dialog.open(RequirementFormDialogComponent, {
      width: "500px",
      data
    });
    dialogRef.afterClosed().subscribe((result) => {
      if (result) {
        if (result.id) {
          this.updateRequirement(result);
        } else {
          this.createRequirement(result);
        }
      }
    });
  }
  createRequirement(requirement) {
    this.requirementService.createRequirement(requirement).subscribe({
      next: (newRequirement) => {
        this.requirementsDataSource.data = [...this.requirementsDataSource.data, newRequirement];
      },
      error: (error) => {
        console.error("Erreur lors de la cr\xE9ation de l'exigence", error);
      }
    });
  }
  updateRequirement(requirement) {
    this.requirementService.updateRequirement(requirement.id, requirement).subscribe({
      next: (updatedRequirement) => {
        const index = this.requirementsDataSource.data.findIndex((r) => r.id === updatedRequirement.id);
        if (index !== -1) {
          const updatedData = [...this.requirementsDataSource.data];
          updatedData[index] = updatedRequirement;
          this.requirementsDataSource.data = updatedData;
        }
      },
      error: (error) => {
        console.error(`Erreur lors de la mise \xE0 jour de l'exigence ${requirement.id}`, error);
      }
    });
  }
  deleteRequirement(id) {
    if (confirm("\xCAtes-vous s\xFBr de vouloir supprimer cette exigence? Cette action est irr\xE9versible.")) {
      this.requirementService.deleteRequirement(id).subscribe({
        next: () => {
          this.requirementsDataSource.data = this.requirementsDataSource.data.filter((r) => r.id !== id);
        },
        error: (error) => {
          console.error(`Erreur lors de la suppression de l'exigence ${id}`, error);
        }
      });
    }
  }
  goBack() {
    this.router.navigate(["/compliance/frameworks"]);
  }
  static {
    this.\u0275fac = function FrameworkDetailComponent_Factory(t) {
      return new (t || _FrameworkDetailComponent)(\u0275\u0275directiveInject(ActivatedRoute), \u0275\u0275directiveInject(Router), \u0275\u0275directiveInject(ComplianceFrameworkService), \u0275\u0275directiveInject(ComplianceRequirementService), \u0275\u0275directiveInject(MatDialog));
    };
  }
  static {
    this.\u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _FrameworkDetailComponent, selectors: [["app-framework-detail"]], decls: 7, vars: 2, consts: [[1, "framework-detail-container"], [1, "back-button"], ["mat-icon-button", "", "color", "primary", "matTooltip", "Retour \xE0 la liste", 3, "click"], ["class", "loading-error-container", 4, "ngIf"], ["class", "framework-detail-content", 4, "ngIf"], [1, "loading-error-container"], ["mode", "indeterminate", 4, "ngIf"], ["class", "error-message", 4, "ngIf"], ["mode", "indeterminate"], [1, "error-message"], [1, "framework-detail-content"], [1, "framework-info-card"], [1, "card-title"], ["mat-icon-button", "", "color", "primary", "matTooltip", "Modifier", 3, "click"], [4, "ngIf"], [1, "requirements-section"], [1, "section-header"], ["mat-raised-button", "", "color", "primary", 3, "click"], [1, "mat-elevation-z2", "data-table-container"], ["mat-table", "", "matSort", "", 3, "dataSource"], ["matColumnDef", "code"], ["mat-header-cell", "", "mat-sort-header", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["matColumnDef", "description"], ["mat-header-cell", "", 4, "matHeaderCellDef"], ["matColumnDef", "type"], ["matColumnDef", "actions"], ["mat-header-row", "", 4, "matHeaderRowDef"], ["mat-row", "", 4, "matRowDef", "matRowDefColumns"], ["class", "mat-row", 4, "matNoDataRow"], ["mat-raised-button", "", "color", "primary", 3, "routerLink", 4, "appHasRole"], ["mat-header-cell", "", "mat-sort-header", ""], ["mat-cell", ""], ["mat-header-cell", ""], [3, "ngClass"], ["mat-icon-button", "", "color", "primary", "matTooltip", "Voir les d\xE9tails", 3, "routerLink"], ["mat-icon-button", "", "color", "accent", "matTooltip", "Modifier", 3, "click"], ["mat-icon-button", "", "color", "warn", "matTooltip", "Supprimer", 3, "click"], ["mat-header-row", ""], ["mat-row", ""], [1, "mat-row"], ["colspan", "4", 1, "mat-cell"], [1, "no-data-message"], ["mat-raised-button", "", "color", "primary", 3, "routerLink"]], template: function FrameworkDetailComponent_Template(rf, ctx) {
      if (rf & 1) {
        \u0275\u0275elementStart(0, "div", 0)(1, "div", 1)(2, "button", 2);
        \u0275\u0275listener("click", function FrameworkDetailComponent_Template_button_click_2_listener() {
          return ctx.goBack();
        });
        \u0275\u0275elementStart(3, "mat-icon");
        \u0275\u0275text(4, "arrow_back");
        \u0275\u0275elementEnd()()();
        \u0275\u0275template(5, FrameworkDetailComponent_div_5_Template, 3, 2, "div", 3)(6, FrameworkDetailComponent_div_6_Template, 38, 9, "div", 4);
        \u0275\u0275elementEnd();
      }
      if (rf & 2) {
        \u0275\u0275advance(5);
        \u0275\u0275property("ngIf", ctx.isLoading || ctx.error);
        \u0275\u0275advance();
        \u0275\u0275property("ngIf", ctx.framework && !ctx.isLoading);
      }
    }, dependencies: [NgClass, NgIf, RouterLink, HasRoleDirective, MatButton, MatIconButton, MatCard, MatCardContent, MatCardHeader, MatCardTitle, MatIcon, MatProgressBar, MatSort, MatSortHeader, MatTable, MatHeaderCellDef, MatHeaderRowDef, MatColumnDef, MatCellDef, MatRowDef, MatHeaderCell, MatCell, MatHeaderRow, MatRow, MatNoDataRow, MatTooltip], styles: ["\n\n.framework-detail-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.back-button[_ngcontent-%COMP%] {\n  margin-bottom: 16px;\n}\n.loading-error-container[_ngcontent-%COMP%] {\n  margin-bottom: 16px;\n}\n.loading-error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  color: #f44336;\n  padding: 8px;\n  border-radius: 4px;\n  background-color: rgba(244, 67, 54, 0.1);\n}\n.loading-error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n.framework-detail-content[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n.framework-info-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n}\n.framework-info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%] {\n  margin-top: 16px;\n}\n.framework-info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0;\n  line-height: 1.5;\n}\n.requirements-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n}\n.requirements-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 500;\n}\n.data-table-container[_ngcontent-%COMP%] {\n  overflow: auto;\n  border-radius: 4px;\n}\n.data-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] {\n  width: 100%;\n}\n.data-table-container[_ngcontent-%COMP%]   .mat-column-code[_ngcontent-%COMP%] {\n  min-width: 120px;\n  max-width: 120px;\n}\n.data-table-container[_ngcontent-%COMP%]   .mat-column-description[_ngcontent-%COMP%] {\n  min-width: 200px;\n}\n.data-table-container[_ngcontent-%COMP%]   .mat-column-type[_ngcontent-%COMP%] {\n  min-width: 120px;\n  max-width: 150px;\n}\n.data-table-container[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%] {\n  min-width: 120px;\n  max-width: 120px;\n  text-align: center;\n}\n.data-table-container[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%], .data-table-container[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%] {\n  padding: 0 16px;\n}\n.data-table-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 24px;\n  color: rgba(0, 0, 0, 0.54);\n}\n.data-table-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n.type-badge[_ngcontent-%COMP%] {\n  display: inline-block;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  font-weight: 500;\n  text-transform: uppercase;\n}\n.type-badge.preventive[_ngcontent-%COMP%] {\n  background-color: #e3f2fd;\n  color: #1976d2;\n}\n.type-badge.detective[_ngcontent-%COMP%] {\n  background-color: #fff8e1;\n  color: #ff8f00;\n}\n.type-badge.corrective[_ngcontent-%COMP%] {\n  background-color: #ffebee;\n  color: #d32f2f;\n}\n/*# sourceMappingURL=framework-detail.component.css.map */"] });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(FrameworkDetailComponent, { className: "FrameworkDetailComponent" });
})();

// src/app/features/compliance/frameworks/framework-edit/framework-edit.component.ts
function FrameworkEditComponent_div_7_mat_progress_bar_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "mat-progress-bar", 9);
  }
}
function FrameworkEditComponent_div_7_div_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 10)(1, "mat-icon");
    \u0275\u0275text(2, "error");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "span");
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(ctx_r0.error);
  }
}
function FrameworkEditComponent_div_7_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 6);
    \u0275\u0275template(1, FrameworkEditComponent_div_7_mat_progress_bar_1_Template, 1, 0, "mat-progress-bar", 7)(2, FrameworkEditComponent_div_7_div_2_Template, 5, 1, "div", 8);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r0.isLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r0.error);
  }
}
function FrameworkEditComponent_div_8_mat_error_8_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " Le nom est obligatoire ");
    \u0275\u0275elementEnd();
  }
}
function FrameworkEditComponent_div_8_mat_error_9_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " Le nom ne doit pas d\xE9passer 100 caract\xE8res ");
    \u0275\u0275elementEnd();
  }
}
function FrameworkEditComponent_div_8_mat_error_14_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " La version est obligatoire ");
    \u0275\u0275elementEnd();
  }
}
function FrameworkEditComponent_div_8_mat_error_15_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " La version ne doit pas d\xE9passer 20 caract\xE8res ");
    \u0275\u0275elementEnd();
  }
}
function FrameworkEditComponent_div_8_mat_error_20_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " La description ne doit pas d\xE9passer 500 caract\xE8res ");
    \u0275\u0275elementEnd();
  }
}
function FrameworkEditComponent_div_8_Template(rf, ctx) {
  if (rf & 1) {
    const _r2 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 11)(1, "form", 12);
    \u0275\u0275listener("ngSubmit", function FrameworkEditComponent_div_8_Template_form_ngSubmit_1_listener() {
      \u0275\u0275restoreView(_r2);
      const ctx_r0 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r0.onSubmit());
    });
    \u0275\u0275elementStart(2, "mat-card")(3, "mat-card-content")(4, "mat-form-field", 13)(5, "mat-label");
    \u0275\u0275text(6, "Nom");
    \u0275\u0275elementEnd();
    \u0275\u0275element(7, "input", 14);
    \u0275\u0275template(8, FrameworkEditComponent_div_8_mat_error_8_Template, 2, 0, "mat-error", 15)(9, FrameworkEditComponent_div_8_mat_error_9_Template, 2, 0, "mat-error", 15);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(10, "mat-form-field", 13)(11, "mat-label");
    \u0275\u0275text(12, "Version");
    \u0275\u0275elementEnd();
    \u0275\u0275element(13, "input", 16);
    \u0275\u0275template(14, FrameworkEditComponent_div_8_mat_error_14_Template, 2, 0, "mat-error", 15)(15, FrameworkEditComponent_div_8_mat_error_15_Template, 2, 0, "mat-error", 15);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(16, "mat-form-field", 13)(17, "mat-label");
    \u0275\u0275text(18, "Description");
    \u0275\u0275elementEnd();
    \u0275\u0275element(19, "textarea", 17);
    \u0275\u0275template(20, FrameworkEditComponent_div_8_mat_error_20_Template, 2, 0, "mat-error", 15);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(21, "mat-card-actions", 18)(22, "button", 19);
    \u0275\u0275listener("click", function FrameworkEditComponent_div_8_Template_button_click_22_listener() {
      \u0275\u0275restoreView(_r2);
      const ctx_r0 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r0.goBack());
    });
    \u0275\u0275text(23, "Annuler");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(24, "button", 20);
    \u0275\u0275text(25, " Enregistrer ");
    \u0275\u0275elementEnd()()()()();
  }
  if (rf & 2) {
    let tmp_2_0;
    let tmp_3_0;
    let tmp_4_0;
    let tmp_5_0;
    let tmp_6_0;
    const ctx_r0 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("formGroup", ctx_r0.frameworkForm);
    \u0275\u0275advance(7);
    \u0275\u0275property("ngIf", (tmp_2_0 = ctx_r0.frameworkForm.get("name")) == null ? null : tmp_2_0.hasError("required"));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", (tmp_3_0 = ctx_r0.frameworkForm.get("name")) == null ? null : tmp_3_0.hasError("maxlength"));
    \u0275\u0275advance(5);
    \u0275\u0275property("ngIf", (tmp_4_0 = ctx_r0.frameworkForm.get("version")) == null ? null : tmp_4_0.hasError("required"));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", (tmp_5_0 = ctx_r0.frameworkForm.get("version")) == null ? null : tmp_5_0.hasError("maxlength"));
    \u0275\u0275advance(5);
    \u0275\u0275property("ngIf", (tmp_6_0 = ctx_r0.frameworkForm.get("description")) == null ? null : tmp_6_0.hasError("maxlength"));
    \u0275\u0275advance(4);
    \u0275\u0275property("disabled", ctx_r0.frameworkForm.invalid);
  }
}
function FrameworkEditComponent_div_9_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 21)(1, "mat-icon", 22);
    \u0275\u0275text(2, "block");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "h3");
    \u0275\u0275text(4, "Acc\xE8s non autoris\xE9");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "p");
    \u0275\u0275text(6, "Vous n'avez pas les droits n\xE9cessaires pour modifier un r\xE9f\xE9rentiel normatif.");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "button", 23);
    \u0275\u0275listener("click", function FrameworkEditComponent_div_9_Template_button_click_7_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r0 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r0.goBack());
    });
    \u0275\u0275text(8, "Retour aux r\xE9f\xE9rentiels");
    \u0275\u0275elementEnd()();
  }
}
var FrameworkEditComponent = class _FrameworkEditComponent {
  constructor(fb, route, router, frameworkService, keycloakService) {
    this.fb = fb;
    this.route = route;
    this.router = router;
    this.frameworkService = frameworkService;
    this.keycloakService = keycloakService;
    this.isLoading = true;
    this.error = null;
    this.isAdmin = false;
  }
  ngOnInit() {
    this.isAdmin = this.keycloakService.hasRole("admin");
    if (!this.isAdmin) {
      console.warn("Utilisateur non autoris\xE9 \xE0 \xE9diter les frameworks");
      this.router.navigate(["/compliance/frameworks"]);
      return;
    }
    this.initForm();
    this.route.paramMap.subscribe((params) => {
      const id = params.get("id");
      if (id) {
        this.frameworkId = id;
        this.loadFramework(id);
      } else {
        this.error = "Identifiant du framework manquant";
        this.isLoading = false;
      }
    });
  }
  initForm() {
    this.frameworkForm = this.fb.group({
      id: [""],
      name: ["", [Validators.required, Validators.maxLength(100)]],
      version: ["", [Validators.required, Validators.maxLength(20)]],
      description: ["", Validators.maxLength(500)]
    });
  }
  loadFramework(id) {
    this.isLoading = true;
    this.error = null;
    this.frameworkService.getFramework(id).subscribe({
      next: (framework) => {
        this.framework = framework;
        this.frameworkForm.patchValue({
          id: framework.id,
          name: framework.name,
          version: framework.version,
          description: framework.description || ""
        });
        this.isLoading = false;
      },
      error: (error) => {
        console.error(`Erreur lors du chargement du framework ${id}`, error);
        this.error = "Impossible de charger les d\xE9tails du framework. Veuillez r\xE9essayer.";
        this.isLoading = false;
      }
    });
  }
  onSubmit() {
    if (this.frameworkForm.invalid) {
      return;
    }
    const updatedFramework = this.frameworkForm.value;
    this.isLoading = true;
    this.frameworkService.updateFramework(this.frameworkId, updatedFramework).subscribe({
      next: () => {
        this.isLoading = false;
        this.router.navigate(["/compliance/frameworks", this.frameworkId]);
      },
      error: (error) => {
        console.error(`Erreur lors de la mise \xE0 jour du framework ${this.frameworkId}`, error);
        this.error = "Impossible de mettre \xE0 jour le framework. Veuillez r\xE9essayer.";
        this.isLoading = false;
      }
    });
  }
  goBack() {
    this.router.navigate(["/compliance/frameworks", this.frameworkId]);
  }
  static {
    this.\u0275fac = function FrameworkEditComponent_Factory(t) {
      return new (t || _FrameworkEditComponent)(\u0275\u0275directiveInject(FormBuilder), \u0275\u0275directiveInject(ActivatedRoute), \u0275\u0275directiveInject(Router), \u0275\u0275directiveInject(ComplianceFrameworkService), \u0275\u0275directiveInject(KeycloakService));
    };
  }
  static {
    this.\u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _FrameworkEditComponent, selectors: [["app-framework-edit"]], decls: 10, vars: 3, consts: [[1, "framework-edit-container"], [1, "back-button"], ["mat-icon-button", "", "color", "primary", "matTooltip", "Retour au framework", 3, "click"], ["class", "loading-error-container", 4, "ngIf"], ["class", "form-container", 4, "ngIf"], ["class", "not-authorized", 4, "ngIf"], [1, "loading-error-container"], ["mode", "indeterminate", 4, "ngIf"], ["class", "error-message", 4, "ngIf"], ["mode", "indeterminate"], [1, "error-message"], [1, "form-container"], [3, "ngSubmit", "formGroup"], ["appearance", "outline", 1, "form-field"], ["matInput", "", "formControlName", "name", "placeholder", "Ex: ISO 27001", "required", ""], [4, "ngIf"], ["matInput", "", "formControlName", "version", "placeholder", "Ex: 2022", "required", ""], ["matInput", "", "formControlName", "description", "placeholder", "Description du r\xE9f\xE9rentiel normatif", "rows", "4"], ["align", "end"], ["mat-button", "", "type", "button", 3, "click"], ["mat-raised-button", "", "color", "primary", "type", "submit", 3, "disabled"], [1, "not-authorized"], ["color", "warn"], ["mat-raised-button", "", "color", "primary", 3, "click"]], template: function FrameworkEditComponent_Template(rf, ctx) {
      if (rf & 1) {
        \u0275\u0275elementStart(0, "div", 0)(1, "div", 1)(2, "button", 2);
        \u0275\u0275listener("click", function FrameworkEditComponent_Template_button_click_2_listener() {
          return ctx.goBack();
        });
        \u0275\u0275elementStart(3, "mat-icon");
        \u0275\u0275text(4, "arrow_back");
        \u0275\u0275elementEnd()()();
        \u0275\u0275elementStart(5, "h2");
        \u0275\u0275text(6, "Modifier le R\xE9f\xE9rentiel Normatif");
        \u0275\u0275elementEnd();
        \u0275\u0275template(7, FrameworkEditComponent_div_7_Template, 3, 2, "div", 3)(8, FrameworkEditComponent_div_8_Template, 26, 7, "div", 4)(9, FrameworkEditComponent_div_9_Template, 9, 0, "div", 5);
        \u0275\u0275elementEnd();
      }
      if (rf & 2) {
        \u0275\u0275advance(7);
        \u0275\u0275property("ngIf", ctx.isLoading || ctx.error);
        \u0275\u0275advance();
        \u0275\u0275property("ngIf", !ctx.isLoading && !ctx.error && ctx.isAdmin);
        \u0275\u0275advance();
        \u0275\u0275property("ngIf", !ctx.isLoading && !ctx.error && !ctx.isAdmin);
      }
    }, dependencies: [NgIf, \u0275NgNoValidate, DefaultValueAccessor, NgControlStatus, NgControlStatusGroup, RequiredValidator, FormGroupDirective, FormControlName, MatButton, MatIconButton, MatCard, MatCardActions, MatCardContent, MatFormField, MatLabel, MatError, MatIcon, MatInput, MatProgressBar, MatTooltip], styles: ["\n\n.framework-edit-container[_ngcontent-%COMP%] {\n  padding: 20px;\n  max-width: 800px;\n  margin: 0 auto;\n}\n.back-button[_ngcontent-%COMP%] {\n  margin-bottom: 16px;\n}\nh2[_ngcontent-%COMP%] {\n  margin-bottom: 24px;\n  color: #3f51b5;\n}\n.loading-error-container[_ngcontent-%COMP%] {\n  margin-bottom: 16px;\n}\n.error-message[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  background-color: #ffebee;\n  color: #d32f2f;\n  padding: 8px 16px;\n  border-radius: 4px;\n  margin-top: 8px;\n}\n.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n.form-container[_ngcontent-%COMP%] {\n  margin-top: 16px;\n}\n.form-field[_ngcontent-%COMP%] {\n  width: 100%;\n  margin-bottom: 16px;\n}\nmat-card[_ngcontent-%COMP%] {\n  margin-bottom: 24px;\n}\nmat-card-content[_ngcontent-%COMP%] {\n  padding: 16px;\n}\n.not-authorized[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 48px 16px;\n  text-align: center;\n  background-color: #f5f5f5;\n  border-radius: 8px;\n  margin-top: 24px;\n}\n.not-authorized[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  font-size: 48px;\n  height: 48px;\n  width: 48px;\n  margin-bottom: 16px;\n}\n.not-authorized[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\n  margin-bottom: 16px;\n  color: #d32f2f;\n}\n.not-authorized[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  margin-top: 16px;\n}\n/*# sourceMappingURL=framework-edit.component.css.map */"] });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(FrameworkEditComponent, { className: "FrameworkEditComponent" });
})();

// src/app/features/compliance/requirements/requirements/requirements.component.ts
var _c05 = () => [5, 10, 25, 100];
function RequirementsComponent_mat_option_22_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-option", 11);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const framework_r2 = ctx.$implicit;
    \u0275\u0275property("value", framework_r2.id);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" ", framework_r2.name, " (", framework_r2.version, ") ");
  }
}
function RequirementsComponent_div_35_mat_progress_bar_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "mat-progress-bar", 34);
  }
}
function RequirementsComponent_div_35_div_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 35)(1, "mat-icon");
    \u0275\u0275text(2, "error");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "span");
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r2 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(ctx_r2.error);
  }
}
function RequirementsComponent_div_35_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 31);
    \u0275\u0275template(1, RequirementsComponent_div_35_mat_progress_bar_1_Template, 1, 0, "mat-progress-bar", 32)(2, RequirementsComponent_div_35_div_2_Template, 5, 1, "div", 33);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r2 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r2.isLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r2.error);
  }
}
function RequirementsComponent_th_39_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 36);
    \u0275\u0275text(1, " Code ");
    \u0275\u0275elementEnd();
  }
}
function RequirementsComponent_td_40_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 37);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const requirement_r4 = ctx.$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", requirement_r4.code, " ");
  }
}
function RequirementsComponent_th_42_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 36);
    \u0275\u0275text(1, " R\xE9f\xE9rentiel ");
    \u0275\u0275elementEnd();
  }
}
function RequirementsComponent_td_43_div_1_span_3_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 42);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const requirement_r5 = \u0275\u0275nextContext(2).$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1("(", requirement_r5.framework == null ? null : requirement_r5.framework.version, ")");
  }
}
function RequirementsComponent_td_43_div_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 39)(1, "span", 40);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
    \u0275\u0275template(3, RequirementsComponent_td_43_div_1_span_3_Template, 2, 1, "span", 41);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const requirement_r5 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(requirement_r5.framework == null ? null : requirement_r5.framework.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", requirement_r5.framework == null ? null : requirement_r5.framework.version);
  }
}
function RequirementsComponent_td_43_ng_template_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275text(0, "-");
  }
}
function RequirementsComponent_td_43_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 37);
    \u0275\u0275template(1, RequirementsComponent_td_43_div_1_Template, 4, 2, "div", 38)(2, RequirementsComponent_td_43_ng_template_2_Template, 1, 0, "ng-template", null, 1, \u0275\u0275templateRefExtractor);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const requirement_r5 = ctx.$implicit;
    const noFramework_r6 = \u0275\u0275reference(3);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", requirement_r5.framework)("ngIfElse", noFramework_r6);
  }
}
function RequirementsComponent_th_45_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 43);
    \u0275\u0275text(1, " Description ");
    \u0275\u0275elementEnd();
  }
}
function RequirementsComponent_td_46_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 37);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const requirement_r7 = ctx.$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", requirement_r7.description, " ");
  }
}
function RequirementsComponent_th_48_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 36);
    \u0275\u0275text(1, " Type ");
    \u0275\u0275elementEnd();
  }
}
function RequirementsComponent_td_49_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 37)(1, "span", 44);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const requirement_r8 = ctx.$implicit;
    const ctx_r2 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("ngClass", ctx_r2.getTypeClass(requirement_r8.type));
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r2.getTypeLabel(requirement_r8.type), " ");
  }
}
function RequirementsComponent_th_51_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 43);
    \u0275\u0275text(1, " Actions ");
    \u0275\u0275elementEnd();
  }
}
function RequirementsComponent_td_52_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "td", 37)(1, "button", 45)(2, "mat-icon");
    \u0275\u0275text(3, "visibility");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(4, "button", 46);
    \u0275\u0275listener("click", function RequirementsComponent_td_52_Template_button_click_4_listener() {
      const requirement_r10 = \u0275\u0275restoreView(_r9).$implicit;
      const ctx_r2 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r2.openRequirementDialog(requirement_r10));
    });
    \u0275\u0275elementStart(5, "mat-icon");
    \u0275\u0275text(6, "edit");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(7, "button", 47);
    \u0275\u0275listener("click", function RequirementsComponent_td_52_Template_button_click_7_listener() {
      const requirement_r10 = \u0275\u0275restoreView(_r9).$implicit;
      const ctx_r2 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r2.deleteRequirement(requirement_r10.id));
    });
    \u0275\u0275elementStart(8, "mat-icon");
    \u0275\u0275text(9, "delete");
    \u0275\u0275elementEnd()()();
  }
}
function RequirementsComponent_tr_53_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "tr", 48);
  }
}
function RequirementsComponent_tr_54_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "tr", 49);
  }
}
function RequirementsComponent_tr_55_span_5_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    \u0275\u0275nextContext(2);
    const input_r11 = \u0275\u0275reference(12);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1('Aucune exigence trouv\xE9e pour "', input_r11.value, '"');
  }
}
function RequirementsComponent_tr_55_span_6_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1, "Aucune exigence disponible");
    \u0275\u0275elementEnd();
  }
}
function RequirementsComponent_tr_55_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "tr", 50)(1, "td", 51)(2, "div", 52)(3, "mat-icon");
    \u0275\u0275text(4, "info");
    \u0275\u0275elementEnd();
    \u0275\u0275template(5, RequirementsComponent_tr_55_span_5_Template, 2, 1, "span", 53)(6, RequirementsComponent_tr_55_span_6_Template, 2, 0, "span", 53);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r2 = \u0275\u0275nextContext();
    const input_r11 = \u0275\u0275reference(12);
    \u0275\u0275advance(5);
    \u0275\u0275property("ngIf", input_r11.value);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !input_r11.value && !ctx_r2.isLoading && !ctx_r2.error);
  }
}
var RequirementsComponent = class _RequirementsComponent {
  constructor(requirementService, frameworkService, dialog) {
    this.requirementService = requirementService;
    this.frameworkService = frameworkService;
    this.dialog = dialog;
    this.displayedColumns = ["code", "framework", "description", "type", "actions"];
    this.dataSource = new MatTableDataSource([]);
    this.frameworks = [];
    this.selectedFramework = "";
    this.selectedType = "";
    this.isLoading = true;
    this.error = null;
    this.originalData = [];
  }
  ngOnInit() {
    this.loadFrameworks();
    this.loadRequirements();
  }
  ngAfterViewInit() {
    this.dataSource.paginator = this.paginator;
    this.dataSource.sort = this.sort;
  }
  applyFilter(event) {
    const filterValue = event.target.value;
    this.dataSource.filter = filterValue.trim().toLowerCase();
    if (this.dataSource.paginator) {
      this.dataSource.paginator.firstPage();
    }
  }
  loadFrameworks() {
    this.frameworkService.getFrameworks().subscribe({
      next: (frameworks) => {
        console.log("Frameworks charg\xE9s :", frameworks);
        this.frameworks = frameworks;
      },
      error: (error) => {
        console.error("Erreur lors du chargement des frameworks", error);
      }
    });
  }
  loadRequirements(frameworkId) {
    this.isLoading = true;
    this.error = null;
    if (frameworkId) {
      this.requirementService.getRequirementsByFramework(frameworkId).subscribe({
        next: (requirements) => {
          this.originalData = requirements;
          this.dataSource.data = requirements;
          if (this.selectedType) {
            this.filterByType();
          }
          this.isLoading = false;
        },
        error: (error) => {
          console.error(`Erreur lors du chargement des exigences pour le framework ${frameworkId}`, error);
          this.error = "Impossible de charger les exigences. Veuillez r\xE9essayer.";
          this.isLoading = false;
        }
      });
    } else {
      this.requirementService.getRequirements().subscribe({
        next: (requirements) => {
          this.originalData = requirements;
          this.dataSource.data = requirements;
          if (this.selectedType) {
            this.filterByType();
          }
          this.isLoading = false;
        },
        error: (error) => {
          console.error("Erreur lors du chargement des exigences", error);
          this.error = "Impossible de charger les exigences. Veuillez r\xE9essayer.";
          this.isLoading = false;
        }
      });
    }
  }
  filterByFramework() {
    if (this.selectedFramework) {
      this.loadRequirements(this.selectedFramework);
    } else {
      this.loadRequirements();
    }
  }
  filterByType() {
    if (this.selectedType) {
      const filtered = this.originalData.filter((req) => req.type === this.selectedType);
      this.dataSource.data = filtered;
    } else {
      this.dataSource.data = this.originalData;
    }
    if (this.dataSource.paginator) {
      this.dataSource.paginator.firstPage();
    }
  }
  getTypeLabel(type) {
    switch (type) {
      case ComplianceRequirementType.PREVENTIVE:
        return "Pr\xE9ventif";
      case ComplianceRequirementType.DETECTIVE:
        return "D\xE9tectif";
      case ComplianceRequirementType.CORRECTIVE:
        return "Correctif";
      default:
        return type;
    }
  }
  getTypeClass(type) {
    switch (type) {
      case ComplianceRequirementType.PREVENTIVE:
        return "preventive-type";
      case ComplianceRequirementType.DETECTIVE:
        return "detective-type";
      case ComplianceRequirementType.CORRECTIVE:
        return "corrective-type";
      default:
        return "";
    }
  }
  openRequirementDialog(requirement) {
    const dialogRef = this.dialog.open(RequirementFormDialogComponent, {
      width: "600px",
      data: {
        requirement: requirement || {},
        frameworks: this.frameworks
      }
    });
    dialogRef.afterClosed().subscribe((result) => {
      if (result) {
        if (result.id) {
          this.updateRequirement(result);
        } else {
          this.createRequirement(result);
        }
      }
    });
  }
  createRequirement(requirement) {
    this.requirementService.createRequirement(requirement).subscribe({
      next: (newRequirement) => {
        this.originalData = [...this.originalData, newRequirement];
        this.filterByFramework();
        this.filterByType();
      },
      error: (error) => {
        console.error("Erreur lors de la cr\xE9ation de l'exigence", error);
      }
    });
  }
  updateRequirement(requirement) {
    this.requirementService.updateRequirement(requirement.id, requirement).subscribe({
      next: (updatedRequirement) => {
        const index = this.originalData.findIndex((r) => r.id === updatedRequirement.id);
        if (index !== -1) {
          const updatedData = [...this.originalData];
          updatedData[index] = updatedRequirement;
          this.originalData = updatedData;
          this.filterByFramework();
          this.filterByType();
        }
      },
      error: (error) => {
        console.error("Erreur lors de la mise \xE0 jour de l'exigence", error);
      }
    });
  }
  deleteRequirement(id) {
    if (confirm("\xCAtes-vous s\xFBr de vouloir supprimer cette exigence? Cette action est irr\xE9versible.")) {
      this.requirementService.deleteRequirement(id).subscribe({
        next: () => {
          this.originalData = this.originalData.filter((r) => r.id !== id);
          this.filterByFramework();
          this.filterByType();
        },
        error: (error) => {
          console.error("Erreur lors de la suppression de l'exigence", error);
        }
      });
    }
  }
  static {
    this.\u0275fac = function RequirementsComponent_Factory(t) {
      return new (t || _RequirementsComponent)(\u0275\u0275directiveInject(ComplianceRequirementService), \u0275\u0275directiveInject(ComplianceFrameworkService), \u0275\u0275directiveInject(MatDialog));
    };
  }
  static {
    this.\u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _RequirementsComponent, selectors: [["app-requirements"]], viewQuery: function RequirementsComponent_Query(rf, ctx) {
      if (rf & 1) {
        \u0275\u0275viewQuery(MatPaginator, 5);
        \u0275\u0275viewQuery(MatSort, 5);
      }
      if (rf & 2) {
        let _t;
        \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.paginator = _t.first);
        \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.sort = _t.first);
      }
    }, decls: 57, vars: 11, consts: [["input", ""], ["noFramework", ""], [1, "requirements-container"], [1, "requirements-header"], ["mat-raised-button", "", "color", "primary", 3, "click"], ["appearance", "outline", 1, "filter-field"], ["matInput", "", "placeholder", "Ex. SEC-01", 3, "keyup"], ["matSuffix", ""], [1, "filters-container"], ["appearance", "outline"], [3, "valueChange", "selectionChange", "value"], [3, "value"], [3, "value", 4, "ngFor", "ngForOf"], ["value", "PREVENTIVE"], ["value", "DETECTIVE"], ["value", "CORRECTIVE"], ["class", "loading-error-container", 4, "ngIf"], [1, "mat-elevation-z2", "data-table-container"], ["mat-table", "", "matSort", "", 3, "dataSource"], ["matColumnDef", "code"], ["mat-header-cell", "", "mat-sort-header", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["matColumnDef", "framework"], ["matColumnDef", "description"], ["mat-header-cell", "", 4, "matHeaderCellDef"], ["matColumnDef", "type"], ["matColumnDef", "actions"], ["mat-header-row", "", 4, "matHeaderRowDef"], ["mat-row", "", 4, "matRowDef", "matRowDefColumns"], ["class", "mat-row", 4, "matNoDataRow"], ["showFirstLastButtons", "", 3, "pageSizeOptions"], [1, "loading-error-container"], ["mode", "indeterminate", 4, "ngIf"], ["class", "error-message", 4, "ngIf"], ["mode", "indeterminate"], [1, "error-message"], ["mat-header-cell", "", "mat-sort-header", ""], ["mat-cell", ""], ["class", "framework-info", 4, "ngIf", "ngIfElse"], [1, "framework-info"], [1, "framework-name"], ["class", "framework-version", 4, "ngIf"], [1, "framework-version"], ["mat-header-cell", ""], [3, "ngClass"], ["mat-icon-button", "", "color", "primary", "matTooltip", "Voir les d\xE9tails"], ["mat-icon-button", "", "color", "accent", "matTooltip", "Modifier", 3, "click"], ["mat-icon-button", "", "color", "warn", "matTooltip", "Supprimer", 3, "click"], ["mat-header-row", ""], ["mat-row", ""], [1, "mat-row"], ["colspan", "5", 1, "mat-cell"], [1, "no-data-message"], [4, "ngIf"]], template: function RequirementsComponent_Template(rf, ctx) {
      if (rf & 1) {
        const _r1 = \u0275\u0275getCurrentView();
        \u0275\u0275elementStart(0, "div", 2)(1, "div", 3)(2, "h2");
        \u0275\u0275text(3, "Exigences de Conformit\xE9");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(4, "button", 4);
        \u0275\u0275listener("click", function RequirementsComponent_Template_button_click_4_listener() {
          \u0275\u0275restoreView(_r1);
          return \u0275\u0275resetView(ctx.openRequirementDialog());
        });
        \u0275\u0275elementStart(5, "mat-icon");
        \u0275\u0275text(6, "add");
        \u0275\u0275elementEnd();
        \u0275\u0275text(7, " Nouvelle Exigence ");
        \u0275\u0275elementEnd()();
        \u0275\u0275elementStart(8, "mat-form-field", 5)(9, "mat-label");
        \u0275\u0275text(10, "Rechercher");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(11, "input", 6, 0);
        \u0275\u0275listener("keyup", function RequirementsComponent_Template_input_keyup_11_listener($event) {
          \u0275\u0275restoreView(_r1);
          return \u0275\u0275resetView(ctx.applyFilter($event));
        });
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(13, "mat-icon", 7);
        \u0275\u0275text(14, "search");
        \u0275\u0275elementEnd()();
        \u0275\u0275elementStart(15, "div", 8)(16, "mat-form-field", 9)(17, "mat-label");
        \u0275\u0275text(18, "R\xE9f\xE9rentiel");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(19, "mat-select", 10);
        \u0275\u0275twoWayListener("valueChange", function RequirementsComponent_Template_mat_select_valueChange_19_listener($event) {
          \u0275\u0275restoreView(_r1);
          \u0275\u0275twoWayBindingSet(ctx.selectedFramework, $event) || (ctx.selectedFramework = $event);
          return \u0275\u0275resetView($event);
        });
        \u0275\u0275listener("selectionChange", function RequirementsComponent_Template_mat_select_selectionChange_19_listener() {
          \u0275\u0275restoreView(_r1);
          return \u0275\u0275resetView(ctx.filterByFramework());
        });
        \u0275\u0275elementStart(20, "mat-option", 11);
        \u0275\u0275text(21, "Tous les r\xE9f\xE9rentiels");
        \u0275\u0275elementEnd();
        \u0275\u0275template(22, RequirementsComponent_mat_option_22_Template, 2, 3, "mat-option", 12);
        \u0275\u0275elementEnd()();
        \u0275\u0275elementStart(23, "mat-form-field", 9)(24, "mat-label");
        \u0275\u0275text(25, "Type");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(26, "mat-select", 10);
        \u0275\u0275twoWayListener("valueChange", function RequirementsComponent_Template_mat_select_valueChange_26_listener($event) {
          \u0275\u0275restoreView(_r1);
          \u0275\u0275twoWayBindingSet(ctx.selectedType, $event) || (ctx.selectedType = $event);
          return \u0275\u0275resetView($event);
        });
        \u0275\u0275listener("selectionChange", function RequirementsComponent_Template_mat_select_selectionChange_26_listener() {
          \u0275\u0275restoreView(_r1);
          return \u0275\u0275resetView(ctx.filterByType());
        });
        \u0275\u0275elementStart(27, "mat-option", 11);
        \u0275\u0275text(28, "Tous les types");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(29, "mat-option", 13);
        \u0275\u0275text(30, "Pr\xE9ventif");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(31, "mat-option", 14);
        \u0275\u0275text(32, "D\xE9tectif");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(33, "mat-option", 15);
        \u0275\u0275text(34, "Correctif");
        \u0275\u0275elementEnd()()()();
        \u0275\u0275template(35, RequirementsComponent_div_35_Template, 3, 2, "div", 16);
        \u0275\u0275elementStart(36, "div", 17)(37, "table", 18);
        \u0275\u0275elementContainerStart(38, 19);
        \u0275\u0275template(39, RequirementsComponent_th_39_Template, 2, 0, "th", 20)(40, RequirementsComponent_td_40_Template, 2, 1, "td", 21);
        \u0275\u0275elementContainerEnd();
        \u0275\u0275elementContainerStart(41, 22);
        \u0275\u0275template(42, RequirementsComponent_th_42_Template, 2, 0, "th", 20)(43, RequirementsComponent_td_43_Template, 4, 2, "td", 21);
        \u0275\u0275elementContainerEnd();
        \u0275\u0275elementContainerStart(44, 23);
        \u0275\u0275template(45, RequirementsComponent_th_45_Template, 2, 0, "th", 24)(46, RequirementsComponent_td_46_Template, 2, 1, "td", 21);
        \u0275\u0275elementContainerEnd();
        \u0275\u0275elementContainerStart(47, 25);
        \u0275\u0275template(48, RequirementsComponent_th_48_Template, 2, 0, "th", 20)(49, RequirementsComponent_td_49_Template, 3, 2, "td", 21);
        \u0275\u0275elementContainerEnd();
        \u0275\u0275elementContainerStart(50, 26);
        \u0275\u0275template(51, RequirementsComponent_th_51_Template, 2, 0, "th", 24)(52, RequirementsComponent_td_52_Template, 10, 0, "td", 21);
        \u0275\u0275elementContainerEnd();
        \u0275\u0275template(53, RequirementsComponent_tr_53_Template, 1, 0, "tr", 27)(54, RequirementsComponent_tr_54_Template, 1, 0, "tr", 28)(55, RequirementsComponent_tr_55_Template, 7, 2, "tr", 29);
        \u0275\u0275elementEnd();
        \u0275\u0275element(56, "mat-paginator", 30);
        \u0275\u0275elementEnd()();
      }
      if (rf & 2) {
        \u0275\u0275advance(19);
        \u0275\u0275twoWayProperty("value", ctx.selectedFramework);
        \u0275\u0275advance();
        \u0275\u0275property("value", "");
        \u0275\u0275advance(2);
        \u0275\u0275property("ngForOf", ctx.frameworks);
        \u0275\u0275advance(4);
        \u0275\u0275twoWayProperty("value", ctx.selectedType);
        \u0275\u0275advance();
        \u0275\u0275property("value", "");
        \u0275\u0275advance(8);
        \u0275\u0275property("ngIf", ctx.isLoading || ctx.error);
        \u0275\u0275advance(2);
        \u0275\u0275property("dataSource", ctx.dataSource);
        \u0275\u0275advance(16);
        \u0275\u0275property("matHeaderRowDef", ctx.displayedColumns);
        \u0275\u0275advance();
        \u0275\u0275property("matRowDefColumns", ctx.displayedColumns);
        \u0275\u0275advance(2);
        \u0275\u0275property("pageSizeOptions", \u0275\u0275pureFunction0(10, _c05));
      }
    }, dependencies: [NgClass, NgForOf, NgIf, MatButton, MatIconButton, MatFormField, MatLabel, MatSuffix, MatIcon, MatInput, MatPaginator, MatProgressBar, MatSelect, MatOption, MatSort, MatSortHeader, MatTable, MatHeaderCellDef, MatHeaderRowDef, MatColumnDef, MatCellDef, MatRowDef, MatHeaderCell, MatCell, MatHeaderRow, MatRow, MatNoDataRow, MatTooltip], styles: ["\n\n.requirements-container[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n.requirements-header[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n.requirements-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\n  margin: 0;\n  font-weight: 500;\n  color: #333;\n}\n.filter-field[_ngcontent-%COMP%] {\n  width: 100%;\n  margin-bottom: 15px;\n}\n.filters-container[_ngcontent-%COMP%] {\n  display: flex;\n  gap: 15px;\n  margin-bottom: 20px;\n}\n.filters-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%] {\n  flex: 1;\n}\n.loading-error-container[_ngcontent-%COMP%] {\n  margin-bottom: 15px;\n}\n.error-message[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  color: #f44336;\n  padding: 10px;\n  border-radius: 4px;\n  background-color: rgba(244, 67, 54, 0.1);\n}\n.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  margin-right: 10px;\n}\n.data-table-container[_ngcontent-%COMP%] {\n  overflow-x: auto;\n  border-radius: 4px;\n}\ntable[_ngcontent-%COMP%] {\n  width: 100%;\n}\n.mat-column-code[_ngcontent-%COMP%] {\n  width: 120px;\n}\n.mat-column-framework[_ngcontent-%COMP%] {\n  width: 200px;\n}\n.mat-column-description[_ngcontent-%COMP%] {\n  min-width: 300px;\n}\n.mat-column-type[_ngcontent-%COMP%] {\n  width: 120px;\n}\n.mat-column-actions[_ngcontent-%COMP%] {\n  width: 150px;\n  text-align: center;\n}\n.no-data-message[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  color: #666;\n}\n.no-data-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  margin-right: 10px;\n  color: #999;\n}\n.preventive-type[_ngcontent-%COMP%], .detective-type[_ngcontent-%COMP%], .corrective-type[_ngcontent-%COMP%] {\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  display: inline-block;\n}\n.preventive-type[_ngcontent-%COMP%] {\n  background-color: #e8f5e9;\n  color: #2e7d32;\n}\n.detective-type[_ngcontent-%COMP%] {\n  background-color: #e3f2fd;\n  color: #1565c0;\n}\n.corrective-type[_ngcontent-%COMP%] {\n  background-color: #fff8e1;\n  color: #ff8f00;\n}\n.framework-info[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n}\n.framework-name[_ngcontent-%COMP%] {\n  font-weight: 500;\n  color: #333;\n}\n.framework-version[_ngcontent-%COMP%] {\n  font-size: 0.8em;\n  color: #777;\n  margin-top: 2px;\n}\n/*# sourceMappingURL=requirements.component.css.map */"] });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(RequirementsComponent, { className: "RequirementsComponent" });
})();

// src/app/core/services/risk.service.ts
var RiskService = class _RiskService {
  constructor(apiService) {
    this.apiService = apiService;
    this.basePath = "/risks";
  }
  /**
   * Récupère la liste de tous les risques
   * @returns Observable contenant un tableau de risques
   */
  getRisks() {
    return this.apiService.get(this.basePath).pipe(catchError((error) => {
      console.error("Erreur lors de la r\xE9cup\xE9ration des risques", error);
      return throwError(() => new Error("Impossible de r\xE9cup\xE9rer la liste des risques. Veuillez r\xE9essayer."));
    }));
  }
  /**
   * Récupère un risque par son identifiant
   * @param id Identifiant du risque
   * @returns Observable contenant le risque
   */
  getRisk(id) {
    return this.apiService.get(`${this.basePath}/${id}`).pipe(catchError((error) => {
      console.error(`Erreur lors de la r\xE9cup\xE9ration du risque ${id}`, error);
      return throwError(() => new Error("Impossible de r\xE9cup\xE9rer les d\xE9tails du risque. Veuillez r\xE9essayer."));
    }));
  }
  static {
    this.\u0275fac = function RiskService_Factory(t) {
      return new (t || _RiskService)(\u0275\u0275inject(ApiService));
    };
  }
  static {
    this.\u0275prov = /* @__PURE__ */ \u0275\u0275defineInjectable({ token: _RiskService, factory: _RiskService.\u0275fac, providedIn: "root" });
  }
};

// src/app/features/compliance/mappings/mapping-form-dialog/mapping-form-dialog.component.ts
function MappingFormDialogComponent_mat_option_10_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-option", 9);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const risk_r1 = ctx.$implicit;
    \u0275\u0275property("value", risk_r1.id);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", risk_r1.name, " ");
  }
}
function MappingFormDialogComponent_mat_error_11_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " Le risque est obligatoire ");
    \u0275\u0275elementEnd();
  }
}
function MappingFormDialogComponent_mat_option_18_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-option", 9);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const framework_r2 = ctx.$implicit;
    \u0275\u0275property("value", framework_r2.id);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" ", framework_r2.name, " (", framework_r2.version, ") ");
  }
}
function MappingFormDialogComponent_mat_option_23_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-option", 9);
    \u0275\u0275text(1);
    \u0275\u0275pipe(2, "slice");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const requirement_r3 = ctx.$implicit;
    \u0275\u0275property("value", requirement_r3.id);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate3(" ", requirement_r3.code, " - ", \u0275\u0275pipeBind3(2, 4, requirement_r3.description, 0, 50), "", requirement_r3.description.length > 50 ? "..." : "", " ");
  }
}
function MappingFormDialogComponent_mat_error_24_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " L'exigence est obligatoire ");
    \u0275\u0275elementEnd();
  }
}
function MappingFormDialogComponent_mat_error_37_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-error");
    \u0275\u0275text(1, " Le statut est obligatoire ");
    \u0275\u0275elementEnd();
  }
}
function MappingFormDialogComponent_mat_spinner_50_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "mat-spinner", 22);
  }
}
function MappingFormDialogComponent_span_51_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r3 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(ctx_r3.isEditMode ? "Mettre \xE0 jour" : "Cr\xE9er");
  }
}
var MappingFormDialogComponent = class _MappingFormDialogComponent {
  constructor(fb, dialogRef, data, riskService, frameworkService, requirementService, snackBar) {
    this.fb = fb;
    this.dialogRef = dialogRef;
    this.data = data;
    this.riskService = riskService;
    this.frameworkService = frameworkService;
    this.requirementService = requirementService;
    this.snackBar = snackBar;
    this.isEditMode = false;
    this.dialogTitle = "Cr\xE9er un Mapping Risque-Conformit\xE9";
    this.isSubmitting = false;
    this.risks = [];
    this.frameworks = [];
    this.requirements = [];
    this.filteredRequirements = [];
    this.selectedFramework = "";
  }
  ngOnInit() {
    this.isEditMode = !!this.data?.mapping?.id;
    if (this.isEditMode) {
      this.dialogTitle = "Modifier le Mapping Risque-Conformit\xE9";
    }
    this.initForm();
    this.loadData();
  }
  initForm() {
    const mapping = this.data?.mapping || {};
    this.mappingForm = this.fb.group({
      id: [mapping.id],
      riskId: [mapping.riskId || "", Validators.required],
      requirementId: [mapping.requirementId || "", Validators.required],
      status: [mapping.status || ComplianceStatus.NON_COMPLIANT, Validators.required],
      comment: [mapping.comment || ""],
      evidence: [mapping.evidence || ""]
    });
    if (this.isEditMode && mapping.requirement?.framework) {
      this.selectedFramework = mapping.requirement.framework.id;
    }
  }
  loadData() {
    this.isSubmitting = true;
    forkJoin({
      risks: this.riskService.getRisks(),
      frameworks: this.frameworkService.getFrameworks()
    }).subscribe({
      next: (result) => {
        this.risks = result.risks;
        this.frameworks = result.frameworks;
        if (this.isEditMode && this.data?.mapping) {
          const mapping = this.data.mapping;
          if (mapping.requirement?.framework) {
            this.selectedFramework = mapping.requirement.framework.id;
            this.loadRequirementsByFramework(this.selectedFramework);
          } else {
            this.loadAllRequirements();
          }
          this.mappingForm.patchValue({
            riskId: mapping.riskId,
            requirementId: mapping.requirementId,
            status: mapping.status
          });
        } else {
          this.loadAllRequirements();
        }
      },
      error: (error) => {
        console.error("Erreur lors du chargement des donn\xE9es", error);
        this.snackBar.open("Erreur lors du chargement des donn\xE9es. Veuillez r\xE9essayer.", "Fermer", {
          duration: 5e3,
          panelClass: ["error-snackbar"]
        });
        this.isSubmitting = false;
      }
    });
  }
  loadAllRequirements() {
    this.requirementService.getRequirements().subscribe({
      next: (requirements) => {
        this.requirements = requirements;
        this.filteredRequirements = requirements;
        this.isSubmitting = false;
      },
      error: (error) => {
        console.error("Erreur lors du chargement des exigences", error);
        this.snackBar.open("Erreur lors du chargement des exigences. Veuillez r\xE9essayer.", "Fermer", {
          duration: 5e3,
          panelClass: ["error-snackbar"]
        });
        this.isSubmitting = false;
      }
    });
  }
  loadRequirementsByFramework(frameworkId) {
    if (!frameworkId) {
      this.loadAllRequirements();
      return;
    }
    this.isSubmitting = true;
    this.requirementService.getRequirementsByFramework(frameworkId).pipe(finalize(() => this.isSubmitting = false)).subscribe({
      next: (requirements) => {
        this.requirements = requirements;
        this.filteredRequirements = requirements;
        this.validateRequirementSelection();
      },
      error: (error) => {
        console.error(`Erreur lors du chargement des exigences du framework ${frameworkId}`, error);
        this.snackBar.open("Erreur lors du chargement des exigences. Veuillez r\xE9essayer.", "Fermer", {
          duration: 5e3,
          panelClass: ["error-snackbar"]
        });
      }
    });
  }
  filterRequirements() {
    if (!this.selectedFramework) {
      this.loadAllRequirements();
    } else {
      this.loadRequirementsByFramework(this.selectedFramework);
    }
  }
  validateRequirementSelection() {
    const currentReqId = this.mappingForm.get("requirementId")?.value;
    if (currentReqId) {
      const reqExists = this.filteredRequirements.some((req) => req.id === currentReqId);
      if (!reqExists) {
        this.mappingForm.patchValue({ requirementId: "" });
      }
    }
  }
  onFrameworkChange() {
    this.filterRequirements();
  }
  onSubmit() {
    if (this.mappingForm.valid) {
      this.isSubmitting = true;
      const formValue = this.mappingForm.value;
      this.dialogRef.close(formValue);
    }
  }
  onCancel() {
    this.dialogRef.close();
  }
  static {
    this.\u0275fac = function MappingFormDialogComponent_Factory(t) {
      return new (t || _MappingFormDialogComponent)(\u0275\u0275directiveInject(FormBuilder), \u0275\u0275directiveInject(MatDialogRef), \u0275\u0275directiveInject(MAT_DIALOG_DATA), \u0275\u0275directiveInject(RiskService), \u0275\u0275directiveInject(ComplianceFrameworkService), \u0275\u0275directiveInject(ComplianceRequirementService), \u0275\u0275directiveInject(MatSnackBar));
    };
  }
  static {
    this.\u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _MappingFormDialogComponent, selectors: [["app-mapping-form-dialog"]], standalone: true, features: [\u0275\u0275StandaloneFeature], decls: 52, vars: 14, consts: [["mat-dialog-title", ""], [3, "ngSubmit", "formGroup"], [1, "form-fields"], ["type", "hidden", "formControlName", "id"], ["appearance", "outline", 1, "full-width"], ["formControlName", "riskId", "required", ""], [3, "value", 4, "ngFor", "ngForOf"], [4, "ngIf"], [3, "valueChange", "selectionChange", "value"], [3, "value"], ["formControlName", "requirementId", "required", ""], ["formControlName", "status", "required", ""], ["value", "COMPLIANT"], ["value", "NON_COMPLIANT"], ["value", "PARTIALLY_COMPLIANT"], ["value", "NOT_APPLICABLE"], ["matInput", "", "formControlName", "comment", "placeholder", "Commentaire sur le mapping", "rows", "2"], ["matInput", "", "formControlName", "evidence", "placeholder", "Justificatifs, preuves ou documents associ\xE9s", "rows", "3"], ["align", "end"], ["mat-button", "", "type", "button", 3, "click", "disabled"], ["mat-raised-button", "", "color", "primary", "type", "submit", 3, "disabled"], ["diameter", "20", "class", "spinner-button", 4, "ngIf"], ["diameter", "20", 1, "spinner-button"]], template: function MappingFormDialogComponent_Template(rf, ctx) {
      if (rf & 1) {
        \u0275\u0275elementStart(0, "h2", 0);
        \u0275\u0275text(1);
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(2, "form", 1);
        \u0275\u0275listener("ngSubmit", function MappingFormDialogComponent_Template_form_ngSubmit_2_listener() {
          return ctx.onSubmit();
        });
        \u0275\u0275elementStart(3, "mat-dialog-content")(4, "div", 2);
        \u0275\u0275element(5, "input", 3);
        \u0275\u0275elementStart(6, "mat-form-field", 4)(7, "mat-label");
        \u0275\u0275text(8, "Risque");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(9, "mat-select", 5);
        \u0275\u0275template(10, MappingFormDialogComponent_mat_option_10_Template, 2, 2, "mat-option", 6);
        \u0275\u0275elementEnd();
        \u0275\u0275template(11, MappingFormDialogComponent_mat_error_11_Template, 2, 0, "mat-error", 7);
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(12, "mat-form-field", 4)(13, "mat-label");
        \u0275\u0275text(14, "R\xE9f\xE9rentiel");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(15, "mat-select", 8);
        \u0275\u0275twoWayListener("valueChange", function MappingFormDialogComponent_Template_mat_select_valueChange_15_listener($event) {
          \u0275\u0275twoWayBindingSet(ctx.selectedFramework, $event) || (ctx.selectedFramework = $event);
          return $event;
        });
        \u0275\u0275listener("selectionChange", function MappingFormDialogComponent_Template_mat_select_selectionChange_15_listener() {
          return ctx.onFrameworkChange();
        });
        \u0275\u0275elementStart(16, "mat-option", 9);
        \u0275\u0275text(17, "Tous les r\xE9f\xE9rentiels");
        \u0275\u0275elementEnd();
        \u0275\u0275template(18, MappingFormDialogComponent_mat_option_18_Template, 2, 3, "mat-option", 6);
        \u0275\u0275elementEnd()();
        \u0275\u0275elementStart(19, "mat-form-field", 4)(20, "mat-label");
        \u0275\u0275text(21, "Exigence");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(22, "mat-select", 10);
        \u0275\u0275template(23, MappingFormDialogComponent_mat_option_23_Template, 3, 8, "mat-option", 6);
        \u0275\u0275elementEnd();
        \u0275\u0275template(24, MappingFormDialogComponent_mat_error_24_Template, 2, 0, "mat-error", 7);
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(25, "mat-form-field", 4)(26, "mat-label");
        \u0275\u0275text(27, "Statut de conformit\xE9");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(28, "mat-select", 11)(29, "mat-option", 12);
        \u0275\u0275text(30, "Conforme");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(31, "mat-option", 13);
        \u0275\u0275text(32, "Non conforme");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(33, "mat-option", 14);
        \u0275\u0275text(34, "Partiellement conforme");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(35, "mat-option", 15);
        \u0275\u0275text(36, "Non applicable");
        \u0275\u0275elementEnd()();
        \u0275\u0275template(37, MappingFormDialogComponent_mat_error_37_Template, 2, 0, "mat-error", 7);
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(38, "mat-form-field", 4)(39, "mat-label");
        \u0275\u0275text(40, "Commentaire");
        \u0275\u0275elementEnd();
        \u0275\u0275element(41, "textarea", 16);
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(42, "mat-form-field", 4)(43, "mat-label");
        \u0275\u0275text(44, "Preuves/Evidences");
        \u0275\u0275elementEnd();
        \u0275\u0275element(45, "textarea", 17);
        \u0275\u0275elementEnd()()();
        \u0275\u0275elementStart(46, "mat-dialog-actions", 18)(47, "button", 19);
        \u0275\u0275listener("click", function MappingFormDialogComponent_Template_button_click_47_listener() {
          return ctx.onCancel();
        });
        \u0275\u0275text(48, "Annuler");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(49, "button", 20);
        \u0275\u0275template(50, MappingFormDialogComponent_mat_spinner_50_Template, 1, 0, "mat-spinner", 21)(51, MappingFormDialogComponent_span_51_Template, 2, 1, "span", 7);
        \u0275\u0275elementEnd()()();
      }
      if (rf & 2) {
        let tmp_3_0;
        let tmp_8_0;
        let tmp_9_0;
        \u0275\u0275advance();
        \u0275\u0275textInterpolate(ctx.dialogTitle);
        \u0275\u0275advance();
        \u0275\u0275property("formGroup", ctx.mappingForm);
        \u0275\u0275advance(8);
        \u0275\u0275property("ngForOf", ctx.risks);
        \u0275\u0275advance();
        \u0275\u0275property("ngIf", (tmp_3_0 = ctx.mappingForm.get("riskId")) == null ? null : tmp_3_0.hasError("required"));
        \u0275\u0275advance(4);
        \u0275\u0275twoWayProperty("value", ctx.selectedFramework);
        \u0275\u0275advance();
        \u0275\u0275property("value", "");
        \u0275\u0275advance(2);
        \u0275\u0275property("ngForOf", ctx.frameworks);
        \u0275\u0275advance(5);
        \u0275\u0275property("ngForOf", ctx.filteredRequirements);
        \u0275\u0275advance();
        \u0275\u0275property("ngIf", (tmp_8_0 = ctx.mappingForm.get("requirementId")) == null ? null : tmp_8_0.hasError("required"));
        \u0275\u0275advance(13);
        \u0275\u0275property("ngIf", (tmp_9_0 = ctx.mappingForm.get("status")) == null ? null : tmp_9_0.hasError("required"));
        \u0275\u0275advance(10);
        \u0275\u0275property("disabled", ctx.isSubmitting);
        \u0275\u0275advance(2);
        \u0275\u0275property("disabled", ctx.mappingForm.invalid || ctx.isSubmitting);
        \u0275\u0275advance();
        \u0275\u0275property("ngIf", ctx.isSubmitting);
        \u0275\u0275advance();
        \u0275\u0275property("ngIf", !ctx.isSubmitting);
      }
    }, dependencies: [CommonModule, NgForOf, NgIf, SlicePipe, ReactiveFormsModule, \u0275NgNoValidate, DefaultValueAccessor, NgControlStatus, NgControlStatusGroup, RequiredValidator, FormGroupDirective, FormControlName, MatDialogModule, MatDialogTitle, MatDialogActions, MatDialogContent, MatFormFieldModule, MatFormField, MatLabel, MatError, MatSelectModule, MatSelect, MatOption, MatInputModule, MatInput, MatButtonModule, MatButton, MatProgressSpinnerModule, MatProgressSpinner], styles: ["\n\n.form-fields[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  min-width: 500px;\n}\n.full-width[_ngcontent-%COMP%] {\n  width: 100%;\n}\n.spinner-button[_ngcontent-%COMP%] {\n  display: inline-block;\n  margin-right: 8px;\n  vertical-align: middle;\n}\n  .mat-mdc-progress-spinner circle {\n  stroke: #fff !important;\n}\nmat-dialog-content[_ngcontent-%COMP%] {\n  max-height: 70vh;\n  min-height: 300px;\n}\nmat-form-field[_ngcontent-%COMP%] {\n  margin-bottom: 8px;\n}\n/*# sourceMappingURL=mapping-form-dialog.component.css.map */"] });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(MappingFormDialogComponent, { className: "MappingFormDialogComponent" });
})();

// src/app/features/compliance/mappings/mappings/mappings.component.ts
var _c06 = () => [5, 10, 25, 100];
function MappingsComponent_mat_option_23_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-option", 11);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const framework_r2 = ctx.$implicit;
    \u0275\u0275property("value", framework_r2.id);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", framework_r2.name, " ");
  }
}
function MappingsComponent_div_38_mat_progress_bar_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "mat-progress-bar", 35);
  }
}
function MappingsComponent_div_38_div_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 36)(1, "mat-icon");
    \u0275\u0275text(2, "error");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "span");
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r2 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(ctx_r2.error);
  }
}
function MappingsComponent_div_38_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 32);
    \u0275\u0275template(1, MappingsComponent_div_38_mat_progress_bar_1_Template, 1, 0, "mat-progress-bar", 33)(2, MappingsComponent_div_38_div_2_Template, 5, 1, "div", 34);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r2 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r2.isLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r2.error);
  }
}
function MappingsComponent_th_42_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 37);
    \u0275\u0275text(1, " Exigence ");
    \u0275\u0275elementEnd();
  }
}
function MappingsComponent_td_43_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 38)(1, "div", 39)(2, "span", 40);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "span", 41);
    \u0275\u0275text(5);
    \u0275\u0275pipe(6, "slice");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "span", 42);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const mapping_r4 = ctx.$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate((mapping_r4.requirement == null ? null : mapping_r4.requirement.code) || "N/A");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate2("", \u0275\u0275pipeBind3(6, 4, mapping_r4.requirement == null ? null : mapping_r4.requirement.description, 0, 50), "", (mapping_r4.requirement == null ? null : mapping_r4.requirement.description.length) > 50 ? "..." : "", "");
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate((mapping_r4.requirement == null ? null : mapping_r4.requirement.framework == null ? null : mapping_r4.requirement.framework.name) || "");
  }
}
function MappingsComponent_th_45_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 37);
    \u0275\u0275text(1, " Risque ");
    \u0275\u0275elementEnd();
  }
}
function MappingsComponent_td_46_span_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 46);
    \u0275\u0275text(1);
    \u0275\u0275pipe(2, "slice");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const mapping_r5 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2("", \u0275\u0275pipeBind3(2, 2, mapping_r5.risk == null ? null : mapping_r5.risk.description, 0, 50), "", (mapping_r5.risk == null ? null : mapping_r5.risk.description.length) > 50 ? "..." : "", "");
  }
}
function MappingsComponent_td_46_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 38)(1, "div", 43)(2, "span", 44);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, MappingsComponent_td_46_span_4_Template, 3, 6, "span", 45);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const mapping_r5 = ctx.$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate((mapping_r5.risk == null ? null : mapping_r5.risk.name) || "N/A");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", mapping_r5.risk == null ? null : mapping_r5.risk.description);
  }
}
function MappingsComponent_th_48_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 37);
    \u0275\u0275text(1, " Statut ");
    \u0275\u0275elementEnd();
  }
}
function MappingsComponent_td_49_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 38)(1, "span", 47);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const mapping_r6 = ctx.$implicit;
    const ctx_r2 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("ngClass", ctx_r2.getStatusClass(mapping_r6.status));
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r2.getStatusLabel(mapping_r6.status), " ");
  }
}
function MappingsComponent_th_51_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 48);
    \u0275\u0275text(1, " Commentaire ");
    \u0275\u0275elementEnd();
  }
}
function MappingsComponent_td_52_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 38);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const mapping_r7 = ctx.$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", mapping_r7.comment || "-", " ");
  }
}
function MappingsComponent_th_54_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 48);
    \u0275\u0275text(1, " Actions ");
    \u0275\u0275elementEnd();
  }
}
function MappingsComponent_td_55_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "td", 38)(1, "button", 49);
    \u0275\u0275listener("click", function MappingsComponent_td_55_Template_button_click_1_listener() {
      const mapping_r9 = \u0275\u0275restoreView(_r8).$implicit;
      const ctx_r2 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r2.openMappingDialog(mapping_r9));
    });
    \u0275\u0275elementStart(2, "mat-icon");
    \u0275\u0275text(3, "edit");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(4, "button", 50);
    \u0275\u0275listener("click", function MappingsComponent_td_55_Template_button_click_4_listener() {
      const mapping_r9 = \u0275\u0275restoreView(_r8).$implicit;
      const ctx_r2 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r2.deleteMapping(mapping_r9.id));
    });
    \u0275\u0275elementStart(5, "mat-icon");
    \u0275\u0275text(6, "delete");
    \u0275\u0275elementEnd()()();
  }
}
function MappingsComponent_tr_56_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "tr", 51);
  }
}
function MappingsComponent_tr_57_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "tr", 52);
  }
}
function MappingsComponent_tr_58_span_5_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    \u0275\u0275nextContext(2);
    const input_r10 = \u0275\u0275reference(13);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1('Aucun mapping trouv\xE9 pour "', input_r10.value, '"');
  }
}
function MappingsComponent_tr_58_span_6_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1, "Aucun mapping disponible");
    \u0275\u0275elementEnd();
  }
}
function MappingsComponent_tr_58_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "tr", 53)(1, "td", 54)(2, "div", 55)(3, "mat-icon");
    \u0275\u0275text(4, "info");
    \u0275\u0275elementEnd();
    \u0275\u0275template(5, MappingsComponent_tr_58_span_5_Template, 2, 1, "span", 56)(6, MappingsComponent_tr_58_span_6_Template, 2, 0, "span", 56);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r2 = \u0275\u0275nextContext();
    const input_r10 = \u0275\u0275reference(13);
    \u0275\u0275advance(5);
    \u0275\u0275property("ngIf", input_r10.value);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !input_r10.value && !ctx_r2.isLoading && !ctx_r2.error);
  }
}
var MappingsComponent = class _MappingsComponent {
  constructor(mappingService, frameworkService, dialog, snackBar) {
    this.mappingService = mappingService;
    this.frameworkService = frameworkService;
    this.dialog = dialog;
    this.snackBar = snackBar;
    this.displayedColumns = ["requirement", "risk", "status", "comment", "actions"];
    this.dataSource = new MatTableDataSource([]);
    this.frameworks = [];
    this.selectedFramework = "";
    this.selectedStatus = "";
    this.isLoading = true;
    this.error = null;
    this.originalData = [];
  }
  ngOnInit() {
    this.loadFrameworks();
    this.loadMappings();
  }
  ngAfterViewInit() {
    this.dataSource.paginator = this.paginator;
    this.dataSource.sort = this.sort;
  }
  applyFilter(event) {
    const filterValue = event.target.value;
    this.dataSource.filter = filterValue.trim().toLowerCase();
    if (this.dataSource.paginator) {
      this.dataSource.paginator.firstPage();
    }
  }
  loadFrameworks() {
    this.frameworkService.getFrameworks().subscribe({
      next: (frameworks) => {
        this.frameworks = frameworks;
      },
      error: (error) => {
        console.error("Erreur lors du chargement des frameworks", error);
        this.showErrorSnackbar("Impossible de charger les r\xE9f\xE9rentiels");
      }
    });
  }
  loadMappings() {
    this.isLoading = true;
    this.error = null;
    this.mappingService.getMappings().subscribe({
      next: (mappings) => {
        console.log("Mappings re\xE7us du backend :", mappings);
        this.originalData = mappings;
        this.dataSource.data = mappings;
        this.isLoading = false;
      },
      error: (error) => {
        console.error("Erreur lors du chargement des mappings", error);
        this.error = "Impossible de charger les mappings. Veuillez r\xE9essayer.";
        this.isLoading = false;
      }
    });
  }
  filterData() {
    this.isLoading = true;
    this.error = null;
    if (this.selectedFramework) {
      this.mappingService.getMappingsByFramework(this.selectedFramework).subscribe({
        next: (mappings) => {
          this.originalData = mappings;
          let filteredData = [...mappings];
          if (this.selectedStatus) {
            filteredData = filteredData.filter((mapping) => mapping.status === this.selectedStatus);
          }
          this.dataSource.data = filteredData;
          this.isLoading = false;
        },
        error: (error) => {
          console.error(`Erreur lors du filtrage par framework (${this.selectedFramework})`, error);
          this.error = "Impossible de filtrer les mappings. Veuillez r\xE9essayer.";
          this.isLoading = false;
        }
      });
    } else {
      if (this.selectedStatus) {
        const filteredData = this.originalData.filter((mapping) => mapping.status === this.selectedStatus);
        this.dataSource.data = filteredData;
      } else {
        this.dataSource.data = this.originalData;
      }
      this.isLoading = false;
    }
    if (this.dataSource.paginator) {
      this.dataSource.paginator.firstPage();
    }
  }
  getStatusLabel(status) {
    switch (status) {
      case ComplianceStatus.COMPLIANT:
        return "Conforme";
      case ComplianceStatus.NON_COMPLIANT:
        return "Non conforme";
      case ComplianceStatus.PARTIALLY_COMPLIANT:
        return "Partiellement conforme";
      case ComplianceStatus.NOT_APPLICABLE:
        return "Non applicable";
      default:
        return status;
    }
  }
  getStatusClass(status) {
    switch (status) {
      case ComplianceStatus.COMPLIANT:
        return "status-compliant";
      case ComplianceStatus.NON_COMPLIANT:
        return "status-non-compliant";
      case ComplianceStatus.PARTIALLY_COMPLIANT:
        return "status-partially-compliant";
      case ComplianceStatus.NOT_APPLICABLE:
        return "status-not-applicable";
      default:
        return "";
    }
  }
  openMappingDialog(mapping) {
    const dialogRef = this.dialog.open(MappingFormDialogComponent, {
      width: "600px",
      data: {
        mapping: mapping || {}
      }
    });
    dialogRef.afterClosed().subscribe((result) => {
      if (result) {
        if (result.id) {
          this.updateMapping(result);
        } else {
          this.createMapping(result);
        }
      }
    });
  }
  createMapping(mapping) {
    this.isLoading = true;
    this.mappingService.createMapping(mapping).subscribe({
      next: (newMapping) => {
        this.originalData = [...this.originalData, newMapping];
        this.filterData();
        this.isLoading = false;
        this.showSuccessSnackbar("Mapping cr\xE9\xE9 avec succ\xE8s");
      },
      error: (error) => {
        console.error("Erreur lors de la cr\xE9ation du mapping", error);
        this.isLoading = false;
        this.showErrorSnackbar("Impossible de cr\xE9er le mapping");
      }
    });
  }
  updateMapping(mapping) {
    this.isLoading = true;
    this.mappingService.updateMapping(mapping.id, mapping).subscribe({
      next: (updatedMapping) => {
        const index = this.originalData.findIndex((m) => m.id === updatedMapping.id);
        if (index !== -1) {
          const updatedData = [...this.originalData];
          updatedData[index] = updatedMapping;
          this.originalData = updatedData;
          this.filterData();
        }
        this.isLoading = false;
        this.showSuccessSnackbar("Mapping mis \xE0 jour avec succ\xE8s");
      },
      error: (error) => {
        console.error("Erreur lors de la mise \xE0 jour du mapping", error);
        this.isLoading = false;
        this.showErrorSnackbar("Impossible de mettre \xE0 jour le mapping");
      }
    });
  }
  deleteMapping(id) {
    if (confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce mapping? Cette action est irr\xE9versible.")) {
      this.isLoading = true;
      this.mappingService.deleteMapping(id).subscribe({
        next: () => {
          this.originalData = this.originalData.filter((m) => m.id !== id);
          this.filterData();
          this.isLoading = false;
          this.showSuccessSnackbar("Mapping supprim\xE9 avec succ\xE8s");
        },
        error: (error) => {
          console.error("Erreur lors de la suppression du mapping", error);
          this.isLoading = false;
          this.showErrorSnackbar("Impossible de supprimer le mapping");
        }
      });
    }
  }
  showSuccessSnackbar(message) {
    this.snackBar.open(message, "Fermer", {
      duration: 3e3,
      panelClass: ["success-snackbar"]
    });
  }
  showErrorSnackbar(message) {
    this.snackBar.open(message, "Fermer", {
      duration: 5e3,
      panelClass: ["error-snackbar"]
    });
  }
  static {
    this.\u0275fac = function MappingsComponent_Factory(t) {
      return new (t || _MappingsComponent)(\u0275\u0275directiveInject(RiskComplianceMappingService), \u0275\u0275directiveInject(ComplianceFrameworkService), \u0275\u0275directiveInject(MatDialog), \u0275\u0275directiveInject(MatSnackBar));
    };
  }
  static {
    this.\u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _MappingsComponent, selectors: [["app-mappings"]], viewQuery: function MappingsComponent_Query(rf, ctx) {
      if (rf & 1) {
        \u0275\u0275viewQuery(MatPaginator, 5);
        \u0275\u0275viewQuery(MatSort, 5);
      }
      if (rf & 2) {
        let _t;
        \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.paginator = _t.first);
        \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.sort = _t.first);
      }
    }, decls: 60, vars: 11, consts: [["input", ""], [1, "mappings-container"], [1, "mappings-header"], ["mat-raised-button", "", "color", "primary", 3, "click"], [1, "filter-container"], ["appearance", "outline", 1, "filter-field"], ["matInput", "", "placeholder", "Ex. ISO 27001", 3, "keyup"], ["matSuffix", ""], [1, "filter-buttons"], ["appearance", "outline"], [3, "valueChange", "selectionChange", "value"], [3, "value"], [3, "value", 4, "ngFor", "ngForOf"], ["value", "COMPLIANT"], ["value", "NON_COMPLIANT"], ["value", "PARTIALLY_COMPLIANT"], ["value", "NOT_APPLICABLE"], ["class", "loading-error-container", 4, "ngIf"], [1, "mat-elevation-z2", "data-table-container"], ["mat-table", "", "matSort", "", 3, "dataSource"], ["matColumnDef", "requirement"], ["mat-header-cell", "", "mat-sort-header", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["matColumnDef", "risk"], ["matColumnDef", "status"], ["matColumnDef", "comment"], ["mat-header-cell", "", 4, "matHeaderCellDef"], ["matColumnDef", "actions"], ["mat-header-row", "", 4, "matHeaderRowDef"], ["mat-row", "", 4, "matRowDef", "matRowDefColumns"], ["class", "mat-row", 4, "matNoDataRow"], ["showFirstLastButtons", "", 3, "pageSizeOptions"], [1, "loading-error-container"], ["mode", "indeterminate", 4, "ngIf"], ["class", "error-message", 4, "ngIf"], ["mode", "indeterminate"], [1, "error-message"], ["mat-header-cell", "", "mat-sort-header", ""], ["mat-cell", ""], [1, "requirement-info"], [1, "requirement-code"], [1, "requirement-description"], [1, "framework-name"], [1, "risk-info"], [1, "risk-name"], ["class", "risk-description", 4, "ngIf"], [1, "risk-description"], [3, "ngClass"], ["mat-header-cell", ""], ["mat-icon-button", "", "color", "accent", "matTooltip", "Modifier", 3, "click"], ["mat-icon-button", "", "color", "warn", "matTooltip", "Supprimer", 3, "click"], ["mat-header-row", ""], ["mat-row", ""], [1, "mat-row"], ["colspan", "5", 1, "mat-cell"], [1, "no-data-message"], [4, "ngIf"]], template: function MappingsComponent_Template(rf, ctx) {
      if (rf & 1) {
        const _r1 = \u0275\u0275getCurrentView();
        \u0275\u0275elementStart(0, "div", 1)(1, "div", 2)(2, "h2");
        \u0275\u0275text(3, "Mappings Risques-Conformit\xE9");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(4, "button", 3);
        \u0275\u0275listener("click", function MappingsComponent_Template_button_click_4_listener() {
          \u0275\u0275restoreView(_r1);
          return \u0275\u0275resetView(ctx.openMappingDialog());
        });
        \u0275\u0275elementStart(5, "mat-icon");
        \u0275\u0275text(6, "add");
        \u0275\u0275elementEnd();
        \u0275\u0275text(7, " Nouveau Mapping ");
        \u0275\u0275elementEnd()();
        \u0275\u0275elementStart(8, "div", 4)(9, "mat-form-field", 5)(10, "mat-label");
        \u0275\u0275text(11, "Rechercher");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(12, "input", 6, 0);
        \u0275\u0275listener("keyup", function MappingsComponent_Template_input_keyup_12_listener($event) {
          \u0275\u0275restoreView(_r1);
          return \u0275\u0275resetView(ctx.applyFilter($event));
        });
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(14, "mat-icon", 7);
        \u0275\u0275text(15, "search");
        \u0275\u0275elementEnd()();
        \u0275\u0275elementStart(16, "div", 8)(17, "mat-form-field", 9)(18, "mat-label");
        \u0275\u0275text(19, "R\xE9f\xE9rentiel");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(20, "mat-select", 10);
        \u0275\u0275twoWayListener("valueChange", function MappingsComponent_Template_mat_select_valueChange_20_listener($event) {
          \u0275\u0275restoreView(_r1);
          \u0275\u0275twoWayBindingSet(ctx.selectedFramework, $event) || (ctx.selectedFramework = $event);
          return \u0275\u0275resetView($event);
        });
        \u0275\u0275listener("selectionChange", function MappingsComponent_Template_mat_select_selectionChange_20_listener() {
          \u0275\u0275restoreView(_r1);
          return \u0275\u0275resetView(ctx.filterData());
        });
        \u0275\u0275elementStart(21, "mat-option", 11);
        \u0275\u0275text(22, "Tous");
        \u0275\u0275elementEnd();
        \u0275\u0275template(23, MappingsComponent_mat_option_23_Template, 2, 2, "mat-option", 12);
        \u0275\u0275elementEnd()();
        \u0275\u0275elementStart(24, "mat-form-field", 9)(25, "mat-label");
        \u0275\u0275text(26, "Statut");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(27, "mat-select", 10);
        \u0275\u0275twoWayListener("valueChange", function MappingsComponent_Template_mat_select_valueChange_27_listener($event) {
          \u0275\u0275restoreView(_r1);
          \u0275\u0275twoWayBindingSet(ctx.selectedStatus, $event) || (ctx.selectedStatus = $event);
          return \u0275\u0275resetView($event);
        });
        \u0275\u0275listener("selectionChange", function MappingsComponent_Template_mat_select_selectionChange_27_listener() {
          \u0275\u0275restoreView(_r1);
          return \u0275\u0275resetView(ctx.filterData());
        });
        \u0275\u0275elementStart(28, "mat-option", 11);
        \u0275\u0275text(29, "Tous");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(30, "mat-option", 13);
        \u0275\u0275text(31, "Conforme");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(32, "mat-option", 14);
        \u0275\u0275text(33, "Non conforme");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(34, "mat-option", 15);
        \u0275\u0275text(35, "Partiellement conforme");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(36, "mat-option", 16);
        \u0275\u0275text(37, "Non applicable");
        \u0275\u0275elementEnd()()()()();
        \u0275\u0275template(38, MappingsComponent_div_38_Template, 3, 2, "div", 17);
        \u0275\u0275elementStart(39, "div", 18)(40, "table", 19);
        \u0275\u0275elementContainerStart(41, 20);
        \u0275\u0275template(42, MappingsComponent_th_42_Template, 2, 0, "th", 21)(43, MappingsComponent_td_43_Template, 9, 8, "td", 22);
        \u0275\u0275elementContainerEnd();
        \u0275\u0275elementContainerStart(44, 23);
        \u0275\u0275template(45, MappingsComponent_th_45_Template, 2, 0, "th", 21)(46, MappingsComponent_td_46_Template, 5, 2, "td", 22);
        \u0275\u0275elementContainerEnd();
        \u0275\u0275elementContainerStart(47, 24);
        \u0275\u0275template(48, MappingsComponent_th_48_Template, 2, 0, "th", 21)(49, MappingsComponent_td_49_Template, 3, 2, "td", 22);
        \u0275\u0275elementContainerEnd();
        \u0275\u0275elementContainerStart(50, 25);
        \u0275\u0275template(51, MappingsComponent_th_51_Template, 2, 0, "th", 26)(52, MappingsComponent_td_52_Template, 2, 1, "td", 22);
        \u0275\u0275elementContainerEnd();
        \u0275\u0275elementContainerStart(53, 27);
        \u0275\u0275template(54, MappingsComponent_th_54_Template, 2, 0, "th", 26)(55, MappingsComponent_td_55_Template, 7, 0, "td", 22);
        \u0275\u0275elementContainerEnd();
        \u0275\u0275template(56, MappingsComponent_tr_56_Template, 1, 0, "tr", 28)(57, MappingsComponent_tr_57_Template, 1, 0, "tr", 29)(58, MappingsComponent_tr_58_Template, 7, 2, "tr", 30);
        \u0275\u0275elementEnd();
        \u0275\u0275element(59, "mat-paginator", 31);
        \u0275\u0275elementEnd()();
      }
      if (rf & 2) {
        \u0275\u0275advance(20);
        \u0275\u0275twoWayProperty("value", ctx.selectedFramework);
        \u0275\u0275advance();
        \u0275\u0275property("value", "");
        \u0275\u0275advance(2);
        \u0275\u0275property("ngForOf", ctx.frameworks);
        \u0275\u0275advance(4);
        \u0275\u0275twoWayProperty("value", ctx.selectedStatus);
        \u0275\u0275advance();
        \u0275\u0275property("value", "");
        \u0275\u0275advance(10);
        \u0275\u0275property("ngIf", ctx.isLoading || ctx.error);
        \u0275\u0275advance(2);
        \u0275\u0275property("dataSource", ctx.dataSource);
        \u0275\u0275advance(16);
        \u0275\u0275property("matHeaderRowDef", ctx.displayedColumns);
        \u0275\u0275advance();
        \u0275\u0275property("matRowDefColumns", ctx.displayedColumns);
        \u0275\u0275advance(2);
        \u0275\u0275property("pageSizeOptions", \u0275\u0275pureFunction0(10, _c06));
      }
    }, dependencies: [NgClass, NgForOf, NgIf, MatButton, MatIconButton, MatFormField, MatLabel, MatSuffix, MatIcon, MatInput, MatPaginator, MatProgressBar, MatSelect, MatOption, MatSort, MatSortHeader, MatTable, MatHeaderCellDef, MatHeaderRowDef, MatColumnDef, MatCellDef, MatRowDef, MatHeaderCell, MatCell, MatHeaderRow, MatRow, MatNoDataRow, MatTooltip, SlicePipe], styles: ["\n\n.mappings-container[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n.mappings-header[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n.mappings-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\n  margin: 0;\n  font-weight: 500;\n  color: #333;\n}\n.filter-container[_ngcontent-%COMP%] {\n  margin-bottom: 20px;\n}\n.filter-field[_ngcontent-%COMP%] {\n  width: 100%;\n  margin-bottom: 15px;\n}\n.filter-buttons[_ngcontent-%COMP%] {\n  display: flex;\n  gap: 15px;\n}\n.filter-buttons[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%] {\n  flex: 1;\n}\n.loading-error-container[_ngcontent-%COMP%] {\n  margin-bottom: 15px;\n}\n.error-message[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  color: #f44336;\n  padding: 10px;\n  border-radius: 4px;\n  background-color: rgba(244, 67, 54, 0.1);\n}\n.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  margin-right: 10px;\n}\n.data-table-container[_ngcontent-%COMP%] {\n  overflow-x: auto;\n  border-radius: 4px;\n}\ntable[_ngcontent-%COMP%] {\n  width: 100%;\n}\n.mat-column-requirement[_ngcontent-%COMP%] {\n  min-width: 200px;\n}\n.mat-column-risk[_ngcontent-%COMP%] {\n  min-width: 200px;\n}\n.mat-column-status[_ngcontent-%COMP%] {\n  width: 150px;\n}\n.mat-column-comment[_ngcontent-%COMP%] {\n  min-width: 200px;\n}\n.mat-column-actions[_ngcontent-%COMP%] {\n  width: 120px;\n  text-align: center;\n}\n.requirement-info[_ngcontent-%COMP%], .risk-info[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n}\n.requirement-code[_ngcontent-%COMP%] {\n  font-weight: bold;\n  color: #333;\n}\n.requirement-description[_ngcontent-%COMP%] {\n  font-size: 0.85em;\n  color: #666;\n  margin-top: 2px;\n}\n.framework-name[_ngcontent-%COMP%] {\n  font-size: 0.8em;\n  color: #888;\n  font-style: italic;\n  margin-top: 2px;\n}\n.risk-name[_ngcontent-%COMP%] {\n  font-weight: bold;\n  color: #333;\n}\n.risk-description[_ngcontent-%COMP%] {\n  font-size: 0.85em;\n  color: #666;\n  margin-top: 2px;\n}\n.no-data-message[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  color: #666;\n}\n.no-data-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  margin-right: 10px;\n  color: #999;\n}\n.status-compliant[_ngcontent-%COMP%], .status-non-compliant[_ngcontent-%COMP%], .status-partially-compliant[_ngcontent-%COMP%], .status-not-applicable[_ngcontent-%COMP%] {\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  display: inline-block;\n}\n.status-compliant[_ngcontent-%COMP%] {\n  background-color: #e8f5e9;\n  color: #2e7d32;\n}\n.status-non-compliant[_ngcontent-%COMP%] {\n  background-color: #ffebee;\n  color: #c62828;\n}\n.status-partially-compliant[_ngcontent-%COMP%] {\n  background-color: #fff8e1;\n  color: #ff8f00;\n}\n.status-not-applicable[_ngcontent-%COMP%] {\n  background-color: #f5f5f5;\n  color: #757575;\n}\n/*# sourceMappingURL=mappings.component.css.map */"] });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(MappingsComponent, { className: "MappingsComponent" });
})();

// src/app/features/compliance/gap-analysis/gap-analysis/gap-analysis.component.ts
var _c07 = () => [10, 25, 50, 100];
function GapAnalysisComponent_mat_option_10_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-option", 7);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const framework_r1 = ctx.$implicit;
    \u0275\u0275property("value", framework_r1.id);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" ", framework_r1.name, " (", framework_r1.version, ") ");
  }
}
function GapAnalysisComponent_mat_option_17_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-option", 7);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const risk_r2 = ctx.$implicit;
    \u0275\u0275property("value", risk_r2.id);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", risk_r2.name, " ");
  }
}
function GapAnalysisComponent_div_18_mat_progress_bar_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "mat-progress-bar", 13);
  }
}
function GapAnalysisComponent_div_18_div_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 14)(1, "mat-icon");
    \u0275\u0275text(2, "error");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "span");
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r2 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(ctx_r2.error);
  }
}
function GapAnalysisComponent_div_18_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 10);
    \u0275\u0275template(1, GapAnalysisComponent_div_18_mat_progress_bar_1_Template, 1, 0, "mat-progress-bar", 11)(2, GapAnalysisComponent_div_18_div_2_Template, 5, 1, "div", 12);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r2 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r2.isLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r2.error);
  }
}
function GapAnalysisComponent_ng_container_19_div_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 16)(1, "mat-icon");
    \u0275\u0275text(2, "info");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "p");
    \u0275\u0275text(4, "Veuillez s\xE9lectionner un r\xE9f\xE9rentiel pour afficher l'analyse d'\xE9carts.");
    \u0275\u0275elementEnd()();
  }
}
function GapAnalysisComponent_ng_container_19_ng_container_2_th_61_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 43);
    \u0275\u0275text(1, " Code ");
    \u0275\u0275elementEnd();
  }
}
function GapAnalysisComponent_ng_container_19_ng_container_2_td_62_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 44);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const requirement_r4 = ctx.$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", requirement_r4.code, " ");
  }
}
function GapAnalysisComponent_ng_container_19_ng_container_2_th_64_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 45);
    \u0275\u0275text(1, " Description ");
    \u0275\u0275elementEnd();
  }
}
function GapAnalysisComponent_ng_container_19_ng_container_2_td_65_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 44);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const requirement_r5 = ctx.$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", requirement_r5.description, " ");
  }
}
function GapAnalysisComponent_ng_container_19_ng_container_2_th_67_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 45);
    \u0275\u0275text(1, " Actions ");
    \u0275\u0275elementEnd();
  }
}
function GapAnalysisComponent_ng_container_19_ng_container_2_td_68_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "td", 44)(1, "button", 46);
    \u0275\u0275listener("click", function GapAnalysisComponent_ng_container_19_ng_container_2_td_68_Template_button_click_1_listener() {
      const requirement_r7 = \u0275\u0275restoreView(_r6).$implicit;
      const ctx_r2 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r2.createActionPlan(requirement_r7));
    });
    \u0275\u0275elementStart(2, "mat-icon");
    \u0275\u0275text(3, "assignment");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    \u0275\u0275advance();
    \u0275\u0275property("matTooltip", "Cr\xE9er un plan d'action");
  }
}
function GapAnalysisComponent_ng_container_19_ng_container_2_tr_69_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "tr", 47);
  }
}
function GapAnalysisComponent_ng_container_19_ng_container_2_tr_70_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "tr", 48);
  }
}
function GapAnalysisComponent_ng_container_19_ng_container_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementContainerStart(0);
    \u0275\u0275elementStart(1, "div", 17)(2, "mat-card", 18)(3, "div", 19)(4, "div", 20)(5, "mat-icon");
    \u0275\u0275text(6, "check_circle");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(7, "div", 21)(8, "span", 22);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(10, "span", 23);
    \u0275\u0275text(11, "Conforme");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(12, "mat-card", 18)(13, "div", 19)(14, "div", 24)(15, "mat-icon");
    \u0275\u0275text(16, "cancel");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(17, "div", 21)(18, "span", 22);
    \u0275\u0275text(19);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(20, "span", 23);
    \u0275\u0275text(21, "Non conforme");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(22, "mat-card", 18)(23, "div", 19)(24, "div", 25)(25, "mat-icon");
    \u0275\u0275text(26, "remove_circle");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(27, "div", 21)(28, "span", 22);
    \u0275\u0275text(29);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(30, "span", 23);
    \u0275\u0275text(31, "Partiellement conforme");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(32, "mat-card", 18)(33, "div", 19)(34, "div", 26)(35, "mat-icon");
    \u0275\u0275text(36, "not_interested");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(37, "div", 21)(38, "span", 22);
    \u0275\u0275text(39);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(40, "span", 23);
    \u0275\u0275text(41, "Non applicable");
    \u0275\u0275elementEnd()()()()();
    \u0275\u0275elementStart(42, "mat-card", 27)(43, "mat-card-header")(44, "mat-card-title");
    \u0275\u0275text(45, "Progression de la conformit\xE9");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(46, "mat-card-content")(47, "div", 28)(48, "div", 29)(49, "span");
    \u0275\u0275text(50);
    \u0275\u0275pipe(51, "number");
    \u0275\u0275elementEnd()();
    \u0275\u0275element(52, "mat-progress-bar", 30);
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(53, "mat-card", 31)(54, "mat-card-header")(55, "mat-card-title");
    \u0275\u0275text(56);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(57, "mat-card-content")(58, "div", 32)(59, "table", 33);
    \u0275\u0275elementContainerStart(60, 34);
    \u0275\u0275template(61, GapAnalysisComponent_ng_container_19_ng_container_2_th_61_Template, 2, 0, "th", 35)(62, GapAnalysisComponent_ng_container_19_ng_container_2_td_62_Template, 2, 1, "td", 36);
    \u0275\u0275elementContainerEnd();
    \u0275\u0275elementContainerStart(63, 37);
    \u0275\u0275template(64, GapAnalysisComponent_ng_container_19_ng_container_2_th_64_Template, 2, 0, "th", 38)(65, GapAnalysisComponent_ng_container_19_ng_container_2_td_65_Template, 2, 1, "td", 36);
    \u0275\u0275elementContainerEnd();
    \u0275\u0275elementContainerStart(66, 39);
    \u0275\u0275template(67, GapAnalysisComponent_ng_container_19_ng_container_2_th_67_Template, 2, 0, "th", 38)(68, GapAnalysisComponent_ng_container_19_ng_container_2_td_68_Template, 4, 1, "td", 36);
    \u0275\u0275elementContainerEnd();
    \u0275\u0275template(69, GapAnalysisComponent_ng_container_19_ng_container_2_tr_69_Template, 1, 0, "tr", 40)(70, GapAnalysisComponent_ng_container_19_ng_container_2_tr_70_Template, 1, 0, "tr", 41);
    \u0275\u0275elementEnd();
    \u0275\u0275element(71, "mat-paginator", 42);
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementContainerEnd();
  }
  if (rf & 2) {
    const ctx_r2 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(9);
    \u0275\u0275textInterpolate(ctx_r2.compliantCount);
    \u0275\u0275advance(10);
    \u0275\u0275textInterpolate(ctx_r2.nonCompliantCount);
    \u0275\u0275advance(10);
    \u0275\u0275textInterpolate(ctx_r2.partiallyCompliantCount);
    \u0275\u0275advance(10);
    \u0275\u0275textInterpolate(ctx_r2.notApplicableCount);
    \u0275\u0275advance(11);
    \u0275\u0275textInterpolate1("", \u0275\u0275pipeBind2(51, 11, ctx_r2.compliancePercentage, "1.0-1"), "%");
    \u0275\u0275advance(2);
    \u0275\u0275property("value", ctx_r2.compliancePercentage);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate1("Exigences non couvertes (", ctx_r2.dataSource.data.length, ")");
    \u0275\u0275advance(3);
    \u0275\u0275property("dataSource", ctx_r2.dataSource);
    \u0275\u0275advance(10);
    \u0275\u0275property("matHeaderRowDef", ctx_r2.displayedColumns);
    \u0275\u0275advance();
    \u0275\u0275property("matRowDefColumns", ctx_r2.displayedColumns);
    \u0275\u0275advance();
    \u0275\u0275property("pageSizeOptions", \u0275\u0275pureFunction0(14, _c07));
  }
}
function GapAnalysisComponent_ng_container_19_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementContainerStart(0);
    \u0275\u0275template(1, GapAnalysisComponent_ng_container_19_div_1_Template, 5, 0, "div", 15)(2, GapAnalysisComponent_ng_container_19_ng_container_2_Template, 72, 15, "ng-container", 9);
    \u0275\u0275elementContainerEnd();
  }
  if (rf & 2) {
    const ctx_r2 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r2.selectedFramework);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r2.selectedFramework && ctx_r2.gapAnalysisResult);
  }
}
var GapAnalysisComponent = class _GapAnalysisComponent {
  constructor(frameworkService, mappingService, riskService, router, snackBar) {
    this.frameworkService = frameworkService;
    this.mappingService = mappingService;
    this.riskService = riskService;
    this.router = router;
    this.snackBar = snackBar;
    this.displayedColumns = ["code", "description", "actions"];
    this.dataSource = new MatTableDataSource([]);
    this.frameworks = [];
    this.risks = [];
    this.selectedFramework = "";
    this.selectedRisk = "";
    this.isLoading = false;
    this.error = null;
    this.gapAnalysisResult = null;
    this.compliantCount = 0;
    this.nonCompliantCount = 0;
    this.partiallyCompliantCount = 0;
    this.notApplicableCount = 0;
    this.compliancePercentage = 0;
  }
  ngOnInit() {
    this.loadInitialData();
  }
  ngAfterViewInit() {
    this.dataSource.paginator = this.paginator;
    this.dataSource.sort = this.sort;
  }
  loadInitialData() {
    this.isLoading = true;
    this.error = null;
    forkJoin({
      frameworks: this.frameworkService.getFrameworks(),
      risks: this.riskService.getRisks()
    }).subscribe({
      next: (result) => {
        this.frameworks = result.frameworks;
        this.risks = result.risks;
        this.isLoading = false;
      },
      error: (error) => {
        console.error("Erreur lors du chargement des donn\xE9es initiales", error);
        this.error = "Impossible de charger les donn\xE9es. Veuillez r\xE9essayer.";
        this.isLoading = false;
        this.showErrorSnackbar("Impossible de charger les donn\xE9es");
      }
    });
  }
  loadGapAnalysis() {
    if (!this.selectedFramework) {
      this.resetGapAnalysis();
      return;
    }
    this.isLoading = true;
    this.error = null;
    this.mappingService.getGapAnalysis(this.selectedFramework, this.selectedRisk || void 0).subscribe({
      next: (result) => {
        this.gapAnalysisResult = result;
        this.compliantCount = result.counts[ComplianceStatus.COMPLIANT] || 0;
        this.nonCompliantCount = result.counts[ComplianceStatus.NON_COMPLIANT] || 0;
        this.partiallyCompliantCount = result.counts[ComplianceStatus.PARTIALLY_COMPLIANT] || 0;
        this.notApplicableCount = result.counts[ComplianceStatus.NOT_APPLICABLE] || 0;
        this.compliancePercentage = result.compliancePercentage || 0;
        this.dataSource.data = result.gaps || [];
        this.isLoading = false;
        const message = this.selectedRisk ? `Analyse d'\xE9carts charg\xE9e pour le r\xE9f\xE9rentiel et le risque s\xE9lectionn\xE9s` : `Analyse d'\xE9carts charg\xE9e pour le r\xE9f\xE9rentiel`;
        this.showSuccessSnackbar(message);
      },
      error: (error) => {
        console.error("Erreur lors du chargement de l'analyse d'\xE9carts", error);
        this.error = "Impossible de charger l'analyse d'\xE9carts. Veuillez r\xE9essayer.";
        this.isLoading = false;
        this.showErrorSnackbar("Impossible de charger l'analyse d'\xE9carts");
      }
    });
  }
  resetGapAnalysis() {
    this.gapAnalysisResult = null;
    this.dataSource.data = [];
    this.compliantCount = 0;
    this.nonCompliantCount = 0;
    this.partiallyCompliantCount = 0;
    this.notApplicableCount = 0;
    this.compliancePercentage = 0;
  }
  getStatusLabel(status) {
    switch (status) {
      case ComplianceStatus.COMPLIANT:
        return "Conforme";
      case ComplianceStatus.NON_COMPLIANT:
        return "Non conforme";
      case ComplianceStatus.PARTIALLY_COMPLIANT:
        return "Partiellement conforme";
      case ComplianceStatus.NOT_APPLICABLE:
        return "Non applicable";
      default:
        return status;
    }
  }
  getStatusClass(status) {
    switch (status) {
      case ComplianceStatus.COMPLIANT:
        return "status-compliant";
      case ComplianceStatus.NON_COMPLIANT:
        return "status-non-compliant";
      case ComplianceStatus.PARTIALLY_COMPLIANT:
        return "status-partially-compliant";
      case ComplianceStatus.NOT_APPLICABLE:
        return "status-not-applicable";
      default:
        return "";
    }
  }
  /**
   * Crée ou récupère un mapping pour une exigence, puis redirige vers la création d'un plan d'action
   * @param requirement L'exigence pour laquelle créer un plan d'action
   */
  createActionPlan(requirement) {
    if (!this.selectedRisk) {
      this.showErrorSnackbar("Veuillez s\xE9lectionner un risque avant de cr\xE9er un plan d'action");
      return;
    }
    this.isLoading = true;
    this.showInfoSnackbar("V\xE9rification du mapping risque-conformit\xE9...");
    this.mappingService.getMappingByRiskAndRequirement(this.selectedRisk, requirement.id).pipe(switchMap((mappings) => {
      if (mappings && mappings.length > 0) {
        console.debug("GapAnalysis: Mapping existant trouv\xE9:", mappings[0]);
        return of(mappings[0]);
      } else {
        console.debug("GapAnalysis: Aucun mapping trouv\xE9, cr\xE9ation d'un nouveau mapping");
        this.showInfoSnackbar("Cr\xE9ation d'un nouveau mapping risque-conformit\xE9...");
        const newMapping = {
          riskId: this.selectedRisk,
          requirementId: requirement.id,
          status: ComplianceStatus.NON_COMPLIANT,
          evidence: ""
        };
        return this.mappingService.createMapping(newMapping);
      }
    }), catchError((error) => {
      console.error("GapAnalysis: Erreur lors de la v\xE9rification ou cr\xE9ation du mapping", error);
      this.isLoading = false;
      this.showErrorSnackbar("Impossible de cr\xE9er le mapping. Veuillez r\xE9essayer.");
      return of(null);
    })).subscribe({
      next: (mapping) => {
        this.isLoading = false;
        if (mapping) {
          console.debug("GapAnalysis: Mapping obtenu avec succ\xE8s:", mapping);
          const navigationPath = ["/remediation-plans", "new", mapping.id];
          console.debug("GapAnalysis: Tentative de navigation vers:", navigationPath.join("/"));
          this.router.navigate(navigationPath).then((success) => {
            console.debug("GapAnalysis: Navigation r\xE9ussie avec navigate:", success);
            if (!success) {
              console.debug("GapAnalysis: Tentative avec navigateByUrl");
              this.router.navigateByUrl(navigationPath.join("/")).then((success2) => {
                console.debug("GapAnalysis: Navigation r\xE9ussie avec navigateByUrl:", success2);
                if (!success2) {
                  console.error("GapAnalysis: \xC9chec de la navigation");
                  this.showErrorSnackbar("Impossible d'acc\xE9der au formulaire de cr\xE9ation de plan");
                }
              }, (error) => {
                console.error("GapAnalysis: Erreur de navigation avec navigateByUrl:", error);
                this.showErrorSnackbar("Erreur lors de la navigation vers le formulaire de cr\xE9ation");
              });
            }
          }, (error) => {
            console.error("GapAnalysis: Erreur de navigation avec navigate:", error);
            this.showErrorSnackbar("Erreur lors de la navigation vers le formulaire de cr\xE9ation");
          });
        }
      },
      error: (error) => {
        this.isLoading = false;
        console.error("GapAnalysis: Erreur lors de la cr\xE9ation du plan d'action", error);
        this.showErrorSnackbar("Impossible de cr\xE9er le plan d'action. Veuillez r\xE9essayer.");
      }
    });
  }
  showSuccessSnackbar(message) {
    this.snackBar.open(message, "Fermer", {
      duration: 3e3,
      panelClass: ["success-snackbar"]
    });
  }
  showErrorSnackbar(message) {
    this.snackBar.open(message, "Fermer", {
      duration: 5e3,
      panelClass: ["error-snackbar"]
    });
  }
  showInfoSnackbar(message) {
    this.snackBar.open(message, "Fermer", {
      duration: 4e3,
      panelClass: ["info-snackbar"]
    });
  }
  static {
    this.\u0275fac = function GapAnalysisComponent_Factory(t) {
      return new (t || _GapAnalysisComponent)(\u0275\u0275directiveInject(ComplianceFrameworkService), \u0275\u0275directiveInject(RiskComplianceMappingService), \u0275\u0275directiveInject(RiskService), \u0275\u0275directiveInject(Router), \u0275\u0275directiveInject(MatSnackBar));
    };
  }
  static {
    this.\u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _GapAnalysisComponent, selectors: [["app-gap-analysis"]], viewQuery: function GapAnalysisComponent_Query(rf, ctx) {
      if (rf & 1) {
        \u0275\u0275viewQuery(MatPaginator, 5);
        \u0275\u0275viewQuery(MatSort, 5);
      }
      if (rf & 2) {
        let _t;
        \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.paginator = _t.first);
        \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.sort = _t.first);
      }
    }, decls: 20, vars: 7, consts: [[1, "gap-analysis-container"], [1, "gap-analysis-header"], [1, "filter-container"], [1, "filter-row"], ["appearance", "outline", 1, "filter-field"], [3, "valueChange", "selectionChange", "value"], [3, "value", 4, "ngFor", "ngForOf"], [3, "value"], ["class", "loading-error-container", 4, "ngIf"], [4, "ngIf"], [1, "loading-error-container"], ["mode", "indeterminate", 4, "ngIf"], ["class", "error-message", 4, "ngIf"], ["mode", "indeterminate"], [1, "error-message"], ["class", "no-framework-selected", 4, "ngIf"], [1, "no-framework-selected"], [1, "dashboard-cards"], [1, "dashboard-card"], [1, "card-content"], [1, "card-icon", "compliant"], [1, "card-stats"], [1, "stat-value"], [1, "stat-label"], [1, "card-icon", "non-compliant"], [1, "card-icon", "partially-compliant"], [1, "card-icon", "not-applicable"], [1, "progress-card"], [1, "progress-bar-container"], [1, "progress-label"], ["mode", "determinate", 3, "value"], [1, "gap-table-card"], [1, "gap-table-container"], ["mat-table", "", "matSort", "", 3, "dataSource"], ["matColumnDef", "code"], ["mat-header-cell", "", "mat-sort-header", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["matColumnDef", "description"], ["mat-header-cell", "", 4, "matHeaderCellDef"], ["matColumnDef", "actions"], ["mat-header-row", "", 4, "matHeaderRowDef"], ["mat-row", "", 4, "matRowDef", "matRowDefColumns"], ["showFirstLastButtons", "", 3, "pageSizeOptions"], ["mat-header-cell", "", "mat-sort-header", ""], ["mat-cell", ""], ["mat-header-cell", ""], ["mat-icon-button", "", "color", "primary", 3, "click", "matTooltip"], ["mat-header-row", ""], ["mat-row", ""]], template: function GapAnalysisComponent_Template(rf, ctx) {
      if (rf & 1) {
        \u0275\u0275elementStart(0, "div", 0)(1, "div", 1)(2, "h2");
        \u0275\u0275text(3, "Analyse d'\xC9carts de Conformit\xE9");
        \u0275\u0275elementEnd()();
        \u0275\u0275elementStart(4, "div", 2)(5, "div", 3)(6, "mat-form-field", 4)(7, "mat-label");
        \u0275\u0275text(8, "S\xE9lectionner un r\xE9f\xE9rentiel");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(9, "mat-select", 5);
        \u0275\u0275twoWayListener("valueChange", function GapAnalysisComponent_Template_mat_select_valueChange_9_listener($event) {
          \u0275\u0275twoWayBindingSet(ctx.selectedFramework, $event) || (ctx.selectedFramework = $event);
          return $event;
        });
        \u0275\u0275listener("selectionChange", function GapAnalysisComponent_Template_mat_select_selectionChange_9_listener() {
          return ctx.loadGapAnalysis();
        });
        \u0275\u0275template(10, GapAnalysisComponent_mat_option_10_Template, 2, 3, "mat-option", 6);
        \u0275\u0275elementEnd()();
        \u0275\u0275elementStart(11, "mat-form-field", 4)(12, "mat-label");
        \u0275\u0275text(13, "S\xE9lectionner un risque (optionnel)");
        \u0275\u0275elementEnd();
        \u0275\u0275elementStart(14, "mat-select", 5);
        \u0275\u0275twoWayListener("valueChange", function GapAnalysisComponent_Template_mat_select_valueChange_14_listener($event) {
          \u0275\u0275twoWayBindingSet(ctx.selectedRisk, $event) || (ctx.selectedRisk = $event);
          return $event;
        });
        \u0275\u0275listener("selectionChange", function GapAnalysisComponent_Template_mat_select_selectionChange_14_listener() {
          return ctx.loadGapAnalysis();
        });
        \u0275\u0275elementStart(15, "mat-option", 7);
        \u0275\u0275text(16, "Tous les risques");
        \u0275\u0275elementEnd();
        \u0275\u0275template(17, GapAnalysisComponent_mat_option_17_Template, 2, 2, "mat-option", 6);
        \u0275\u0275elementEnd()()()();
        \u0275\u0275template(18, GapAnalysisComponent_div_18_Template, 3, 2, "div", 8)(19, GapAnalysisComponent_ng_container_19_Template, 3, 2, "ng-container", 9);
        \u0275\u0275elementEnd();
      }
      if (rf & 2) {
        \u0275\u0275advance(9);
        \u0275\u0275twoWayProperty("value", ctx.selectedFramework);
        \u0275\u0275advance();
        \u0275\u0275property("ngForOf", ctx.frameworks);
        \u0275\u0275advance(4);
        \u0275\u0275twoWayProperty("value", ctx.selectedRisk);
        \u0275\u0275advance();
        \u0275\u0275property("value", "");
        \u0275\u0275advance(2);
        \u0275\u0275property("ngForOf", ctx.risks);
        \u0275\u0275advance();
        \u0275\u0275property("ngIf", ctx.isLoading || ctx.error);
        \u0275\u0275advance();
        \u0275\u0275property("ngIf", !ctx.isLoading && !ctx.error);
      }
    }, dependencies: [NgForOf, NgIf, MatIconButton, MatCard, MatCardContent, MatCardHeader, MatCardTitle, MatFormField, MatLabel, MatIcon, MatPaginator, MatProgressBar, MatSelect, MatOption, MatSort, MatSortHeader, MatTable, MatHeaderCellDef, MatHeaderRowDef, MatColumnDef, MatCellDef, MatRowDef, MatHeaderCell, MatCell, MatHeaderRow, MatRow, MatTooltip, DecimalPipe], styles: ["\n\n.gap-analysis-container[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n.gap-analysis-header[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n.gap-analysis-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\n  margin: 0;\n  font-weight: 500;\n  color: #333;\n}\n.filter-container[_ngcontent-%COMP%] {\n  margin-bottom: 20px;\n}\n.filter-row[_ngcontent-%COMP%] {\n  display: flex;\n  gap: 16px;\n}\n.filter-row[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%] {\n  flex: 1;\n}\n.filter-field[_ngcontent-%COMP%] {\n  width: 100%;\n}\n.loading-error-container[_ngcontent-%COMP%] {\n  margin-bottom: 15px;\n}\n.error-message[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  color: #f44336;\n  padding: 10px;\n  border-radius: 4px;\n  background-color: rgba(244, 67, 54, 0.1);\n}\n.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  margin-right: 10px;\n}\n.no-framework-selected[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 40px;\n  background-color: #f5f5f5;\n  border-radius: 4px;\n  margin-bottom: 20px;\n}\n.no-framework-selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  font-size: 28px;\n  margin-right: 15px;\n  color: #757575;\n}\n.no-framework-selected[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0;\n  font-size: 16px;\n  color: #757575;\n}\n.dashboard-cards[_ngcontent-%COMP%] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));\n  gap: 20px;\n  margin-bottom: 20px;\n}\n.dashboard-card[_ngcontent-%COMP%] {\n  padding: 0;\n}\n.card-content[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  padding: 20px;\n}\n.card-icon[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  margin-right: 15px;\n}\n.card-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  font-size: 28px;\n  width: 28px;\n  height: 28px;\n}\n.card-icon.compliant[_ngcontent-%COMP%] {\n  background-color: #e8f5e9;\n}\n.card-icon.compliant[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  color: #2e7d32;\n}\n.card-icon.non-compliant[_ngcontent-%COMP%] {\n  background-color: #ffebee;\n}\n.card-icon.non-compliant[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  color: #c62828;\n}\n.card-icon.partially-compliant[_ngcontent-%COMP%] {\n  background-color: #fff8e1;\n}\n.card-icon.partially-compliant[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  color: #ff8f00;\n}\n.card-icon.not-applicable[_ngcontent-%COMP%] {\n  background-color: #f5f5f5;\n}\n.card-icon.not-applicable[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  color: #757575;\n}\n.card-stats[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n}\n.stat-value[_ngcontent-%COMP%] {\n  font-size: 24px;\n  font-weight: 500;\n  margin-bottom: 5px;\n}\n.stat-label[_ngcontent-%COMP%] {\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.6);\n}\n.progress-card[_ngcontent-%COMP%] {\n  margin-bottom: 20px;\n}\n.progress-bar-container[_ngcontent-%COMP%] {\n  padding: 15px 0;\n}\n.progress-label[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 10px;\n  font-weight: 500;\n}\n.gap-table-card[_ngcontent-%COMP%] {\n  margin-bottom: 20px;\n}\n.gap-table-container[_ngcontent-%COMP%] {\n  overflow-x: auto;\n}\ntable[_ngcontent-%COMP%] {\n  width: 100%;\n}\n.mat-column-code[_ngcontent-%COMP%] {\n  width: 120px;\n}\n.mat-column-description[_ngcontent-%COMP%] {\n  min-width: 300px;\n}\n.mat-column-status[_ngcontent-%COMP%] {\n  width: 150px;\n}\n.mat-column-gaps[_ngcontent-%COMP%] {\n  min-width: 200px;\n}\n.mat-column-actions[_ngcontent-%COMP%] {\n  width: 100px;\n  text-align: center;\n}\n.status-compliant[_ngcontent-%COMP%], .status-non-compliant[_ngcontent-%COMP%], .status-partially-compliant[_ngcontent-%COMP%], .status-not-applicable[_ngcontent-%COMP%] {\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  display: inline-block;\n}\n.status-compliant[_ngcontent-%COMP%] {\n  background-color: #e8f5e9;\n  color: #2e7d32;\n}\n.status-non-compliant[_ngcontent-%COMP%] {\n  background-color: #ffebee;\n  color: #c62828;\n}\n.status-partially-compliant[_ngcontent-%COMP%] {\n  background-color: #fff8e1;\n  color: #ff8f00;\n}\n.status-not-applicable[_ngcontent-%COMP%] {\n  background-color: #f5f5f5;\n  color: #757575;\n}\n/*# sourceMappingURL=gap-analysis.component.css.map */"] });
  }
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(GapAnalysisComponent, { className: "GapAnalysisComponent" });
})();

// src/app/features/compliance/compliance.module.ts
var routes = [
  {
    path: "",
    component: ComplianceComponent,
    children: [
      { path: "", redirectTo: "frameworks", pathMatch: "full" },
      { path: "frameworks", component: FrameworksComponent },
      { path: "frameworks/:id", component: FrameworkDetailComponent },
      {
        path: "frameworks/edit/:id",
        component: FrameworkEditComponent,
        canActivate: [AdminGuard]
      },
      { path: "requirements", component: RequirementsComponent },
      { path: "mappings", component: MappingsComponent },
      { path: "gap-analysis", component: GapAnalysisComponent }
    ]
  }
];
var ComplianceModule = class _ComplianceModule {
  static {
    this.\u0275fac = function ComplianceModule_Factory(t) {
      return new (t || _ComplianceModule)();
    };
  }
  static {
    this.\u0275mod = /* @__PURE__ */ \u0275\u0275defineNgModule({ type: _ComplianceModule });
  }
  static {
    this.\u0275inj = /* @__PURE__ */ \u0275\u0275defineInjector({ providers: [
      ComplianceFrameworkService,
      ComplianceRequirementService,
      RiskComplianceMappingService
    ], imports: [
      CommonModule,
      RouterModule.forChild(routes),
      FormsModule,
      ReactiveFormsModule,
      SharedModule,
      // Material Modules
      MatButtonModule,
      MatCardModule,
      MatCheckboxModule,
      MatDialogModule,
      MatDividerModule,
      MatFormFieldModule,
      MatIconModule,
      MatInputModule,
      MatListModule,
      MatPaginatorModule,
      MatProgressBarModule,
      MatProgressSpinnerModule,
      MatRadioModule,
      MatSelectModule,
      MatSortModule,
      MatTableModule,
      MatTabsModule,
      MatTooltipModule,
      MatChipsModule,
      MatExpansionModule,
      MatSlideToggleModule,
      MatAutocompleteModule,
      MatSnackBarModule
    ] });
  }
};
export {
  ComplianceModule
};
//# sourceMappingURL=chunk-DLIGXAFD.js.map
