import{e as Ri}from"./chunk-W3LB22DO.js";import{b as Vi}from"./chunk-T4AL6LGM.js";import{a as K,b as zi}from"./chunk-IAC3E23Z.js";import{b as Fi,c as Oi,g as Ai,h as ji}from"./chunk-NSJMPE4Z.js";import{d as Rt}from"./chunk-S43MKEJK.js";import{c as Bi,d as Gi,e as $i}from"./chunk-JHWDN3J2.js";import{c as Ni}from"./chunk-UMTAYGE7.js";import{a as j,b as Hi,c as A,d as be,e as Qi}from"./chunk-ZURVA6F6.js";import{a as Ze,b as Tt,c as Je,e as xi,f as Pt,h as Ci}from"./chunk-BX4D6EHV.js";import{B as z,C as Lt,E as H,F as Vt,G as ge,H as Nt,I as qe,a as ae,b as ce,c as se,d as le,e as me,f as de,g as pe,h as ue,i as he,j as _e,k as De,l as qi,m as fe,n as et,o as Li,p as tt,q as it,r as Re,s as rt,t as nt,u as ot,v as qt,w as N,x as Ae,z as at}from"./chunk-QKUORI4T.js";import{$ as Ie,A as $,B as Ei,M as Zt,P as Si,Q as Y,R as Ii,S as Ti,T as Me,U as Pi,V as I,X as Ee,Y as Se,ba as Fe,ca as Oe,fa as Te,ga as Pe,ha as Di,ia as At,u as wi,y as Mi}from"./chunk-GOTEOFKI.js";import{a as yi,b as Dt}from"./chunk-VAVW5DD7.js";import{a as V,b as W,c as Ot}from"./chunk-Y2CBE3S4.js";import{$ as ye,$a as T,$b as Xe,Aa as dt,Ab as U,Ba as d,Bb as gt,C as M,Ca as Be,Da as m,Fa as Ge,Fb as Ye,Ga as Kt,Gb as oe,Gc as ki,H as ci,Hb as R,Ma as o,Mb as _i,Na as n,Nb as St,Nc as ve,Oa as _,Ob as we,Pa as x,Qa as C,R as yt,S as re,Sa as F,T as Ce,Ta as di,U as ze,V as Z,Va as f,Vc as bt,W as si,Wc as vi,Xa as g,Ya as pt,Yb as It,Z as O,Za as ut,Zb as fi,_ as E,_b as Ke,_c as ie,a as xt,ab as P,ac as gi,ba as Wt,bb as D,bc as bi,bd as Xt,ca as b,cb as L,da as k,db as a,dd as Ft,ea as li,eb as y,fa as mi,fb as v,gb as Q,ha as wt,hb as pi,ib as J,jb as ee,ka as je,kb as te,la as We,lb as Et,mb as $e,na as Mt,nb as ne,ob as ht,pa as c,q as w,qa as p,qb as He,s as ai,sb as ui,tb as _t,ub as hi,w as Ct,xa as Yt,yb as ft}from"./chunk-VIZ3R537.js";var ur=["input"],hr=["label"],_r=["*"],fr=new ze("mat-checkbox-default-options",{providedIn:"root",factory:Yi});function Yi(){return{color:"accent",clickAction:"check-indeterminate"}}var B=function(t){return t[t.Init=0]="Init",t[t.Checked=1]="Checked",t[t.Unchecked=2]="Unchecked",t[t.Indeterminate=3]="Indeterminate",t}(B||{}),gr={provide:Ti,useExisting:yt(()=>Ki),multi:!0},Jt=class{},br=0,Ui=Yi(),Ki=(()=>{class t{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let i=new Jt;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,s,u,h){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._animationMode=u,this._options=h,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new We,this.indeterminateChange=new We,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=B.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Ui,this.color=this._options.color||Ui.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++br}`}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){let i=e!=this._indeterminate;this._indeterminate=e,i&&(this._indeterminate?this._transitionCheckState(B.Indeterminate):this._transitionCheckState(this.checked?B.Checked:B.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(!(i===e||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?B.Checked:B.Unchecked),this._emitChangeEvent()):!this.disabled&&e==="noop"&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if(this._animationMode==="NoopAnimations")return"";switch(e){case B.Init:if(i===B.Checked)return this._animationClasses.uncheckedToChecked;if(i==B.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case B.Unchecked:return i===B.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case B.Checked:return i===B.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case B.Indeterminate:return i===B.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static{this.\u0275fac=function(i){return new(i||t)(p(je),p(ft),p(Yt),wt("tabindex"),p(Mt,8),p(fr,8))}}static{this.\u0275cmp=E({type:t,selectors:[["mat-checkbox"]],viewQuery:function(i,r){if(i&1&&(T(ur,5),T(hr,5),T(bt,5)),i&2){let s;P(s=D())&&(r._inputElement=s.first),P(s=D())&&(r._labelElement=s.first),P(s=D())&&(r.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(i,r){i&2&&(di("id",r.id),Be("tabindex",null)("aria-label",null)("aria-labelledby",null),Kt(r.color?"mat-"+r.color:"mat-accent"),Ge("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{ariaLabel:[O.None,"aria-label","ariaLabel"],ariaLabelledby:[O.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[O.None,"aria-describedby","ariaDescribedby"],id:"id",required:[O.HasDecoratorInputTransform,"required","required",U],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[O.HasDecoratorInputTransform,"disableRipple","disableRipple",U],tabIndex:[O.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?void 0:gt(e)],color:"color",checked:[O.HasDecoratorInputTransform,"checked","checked",U],disabled:[O.HasDecoratorInputTransform,"disabled","disabled",U],indeterminate:[O.HasDecoratorInputTransform,"indeterminate","indeterminate",U]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[Et([gr,{provide:Pi,useExisting:t,multi:!0}]),dt,Wt,$e],ngContentSelectors:_r,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,r){if(i&1){let s=F();pt(),o(0,"div",3),f("click",function(h){return b(s),k(r._preventBubblingFromLabel(h))}),o(1,"div",4,0)(3,"div",5),f("click",function(){return b(s),k(r._onTouchTargetClick())}),n(),o(4,"input",6,1),f("blur",function(){return b(s),k(r._onBlur())})("click",function(){return b(s),k(r._onInputClick())})("change",function(h){return b(s),k(r._onInteractionEvent(h))}),n(),_(6,"div",7),o(7,"div",8),li(),o(8,"svg",9),_(9,"path",10),n(),mi(),_(10,"div",11),n(),_(11,"div",12),n(),o(12,"label",13,2),ut(14),n()()}if(i&2){let s=L(2);m("labelPosition",r.labelPosition),c(4),Ge("mdc-checkbox--selected",r.checked),m("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.disabled?-1:r.tabIndex),Be("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("name",r.name)("value",r.value),c(7),m("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),c(),m("for",r.inputId)}},dependencies:[bt,Ft],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return t})();var Xi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ye({type:t})}static{this.\u0275inj=Ce({imports:[Ki,ve,ve]})}}return t})();var vr=["input"],xr=["formField"],Cr=["*"],yr=0,ei=class{constructor(l,e){this.source=l,this.value=e}};var wr=new ze("MatRadioGroup"),Mr=new ze("mat-radio-default-options",{providedIn:"root",factory:Er});function Er(){return{color:"accent"}}var Sr=(()=>{class t{get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,s,u,h,X,xe){this._elementRef=i,this._changeDetector=r,this._focusMonitor=s,this._radioDispatcher=u,this._providerOverride=X,this._uniqueId=`mat-radio-${++yr}`,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new We,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations=h==="NoopAnimations",xe&&(this.tabIndex=gt(xe,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new ei(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){let i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){let e=this.radioGroup,i;if(!e||!e.selected||this.disabled?i=this.tabIndex:i=e.selected===this?this.tabIndex:-1,i!==this._previousTabIndex){let r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}static{this.\u0275fac=function(i){return new(i||t)(p(wr,8),p(je),p(ft),p(ki),p(wi),p(Mt,8),p(Mr,8),wt("tabindex"))}}static{this.\u0275cmp=E({type:t,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(i&1&&(T(vr,5),T(xr,7,je)),i&2){let s;P(s=D())&&(r._inputElement=s.first),P(s=D())&&(r._rippleTrigger=s.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,r){i&1&&f("focus",function(){return r._inputElement.nativeElement.focus()}),i&2&&(Be("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Ge("mat-primary",r.color==="primary")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[O.None,"aria-label","ariaLabel"],ariaLabelledby:[O.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[O.None,"aria-describedby","ariaDescribedby"],disableRipple:[O.HasDecoratorInputTransform,"disableRipple","disableRipple",U],tabIndex:[O.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?0:gt(e)],checked:[O.HasDecoratorInputTransform,"checked","checked",U],value:"value",labelPosition:"labelPosition",disabled:[O.HasDecoratorInputTransform,"disabled","disabled",U],required:[O.HasDecoratorInputTransform,"required","required",U],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[dt,$e],ngContentSelectors:Cr,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(i&1){let s=F();pt(),o(0,"div",2,0)(2,"div",3)(3,"div",4),f("click",function(h){return b(s),k(r._onTouchTargetClick(h))}),n(),o(4,"input",5,1),f("change",function(h){return b(s),k(r._onInputInteraction(h))}),n(),o(6,"div",6),_(7,"div",7)(8,"div",8),n(),o(9,"div",9),_(10,"div",10),n()(),o(11,"label",11),ut(12),n()()}i&2&&(m("labelPosition",r.labelPosition),c(2),Ge("mdc-radio--disabled",r.disabled),c(2),m("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),Be("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),c(5),m("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),c(2),m("for",r.inputId))},dependencies:[bt,Ft],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}}return t})(),Zi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ye({type:t})}static{this.\u0275inj=Ce({imports:[ve,we,vi,Sr,ve]})}}return t})();var Ir=new ze("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let t=si(Zt);return()=>t.scrollStrategies.reposition()}});function Fr(t){return()=>t.scrollStrategies.reposition()}var Or={provide:Ir,deps:[Zt],useFactory:Fr};var Ji=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ye({type:t})}static{this.\u0275inj=Ce({providers:[Or],imports:[Si,Xt,ve,we,Mi,Xt,ve]})}}return t})();var er=(()=>{class t{constructor(e,i){this.keycloakService=e,this.router=i}canActivate(e,i){return this.keycloakService.isLoggedIn()&&this.keycloakService.hasRole("admin")?(console.log("AdminGuard: Acc\xE8s autoris\xE9 - r\xF4le admin d\xE9tect\xE9"),!0):(console.log("AdminGuard: Acc\xE8s refus\xE9 - r\xF4le admin requis"),this.router.createUrlTree(["/compliance/frameworks"]))}static{this.\u0275fac=function(i){return new(i||t)(Z(Rt),Z(Ke))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var tr=(()=>{class t{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=E({type:t,selectors:[["app-compliance"]],decls:29,vars:4,consts:[["rlFrameworks","routerLinkActive"],["rlRequirements","routerLinkActive"],["rlMapping","routerLinkActive"],["rlGap","routerLinkActive"],[1,"compliance-container"],[1,"page-header"],[1,"subtitle"],["mat-tab-nav-bar","",1,"compliance-nav"],["mat-tab-link","","routerLink","frameworks","routerLinkActive","",3,"active"],["mat-tab-link","","routerLink","requirements","routerLinkActive","",3,"active"],["mat-tab-link","","routerLink","mappings","routerLinkActive","",3,"active"],["mat-tab-link","","routerLink","gap-analysis","routerLinkActive","",3,"active"],[1,"compliance-content"]],template:function(i,r){if(i&1&&(o(0,"div",4)(1,"div",5)(2,"h1"),a(3,"Gestion de la Conformit\xE9"),n(),o(4,"p",6),a(5,"G\xE9rez les r\xE9f\xE9rentiels normatifs et les mappings avec les risques"),n()(),o(6,"nav",7)(7,"a",8,0)(9,"mat-icon"),a(10,"library_books"),n(),a(11," R\xE9f\xE9rentiels Normatifs "),n(),o(12,"a",9,1)(14,"mat-icon"),a(15,"assignment"),n(),a(16," Exigences "),n(),o(17,"a",10,2)(19,"mat-icon"),a(20,"link"),n(),a(21," Mappings Risques-Conformit\xE9 "),n(),o(22,"a",11,3)(24,"mat-icon"),a(25,"analytics"),n(),a(26," Analyse d'\xC9carts "),n()(),o(27,"div",12),_(28,"router-outlet"),n()()),i&2){let s=L(8),u=L(13),h=L(18),X=L(23);c(7),m("active",s.isActive),c(5),m("active",u.isActive),c(5),m("active",h.isActive),c(5),m("active",X.isActive)}},dependencies:[fi,Xe,gi,$,Bi,Gi],styles:[".compliance-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding:20px}.page-header[_ngcontent-%COMP%]{margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:500;margin-bottom:8px;color:#333}.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.compliance-nav[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#f5f5f5;border-radius:4px}.compliance-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;color:#555;text-decoration:none}.compliance-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.compliance-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#3f51b5;font-weight:500}.compliance-content[_ngcontent-%COMP%]{flex:1;overflow:auto;background-color:#fff;border-radius:4px;box-shadow:0 2px 4px #0000001a;padding:20px}"]})}}return t})();function Pr(t,l){t&1&&(o(0,"mat-error"),a(1," Le nom est obligatoire "),n())}function Dr(t,l){t&1&&(o(0,"mat-error"),a(1," Le nom ne doit pas d\xE9passer 100 caract\xE8res "),n())}function Rr(t,l){t&1&&(o(0,"mat-error"),a(1," La version est obligatoire "),n())}function Ar(t,l){t&1&&(o(0,"mat-error"),a(1," La version ne doit pas d\xE9passer 20 caract\xE8res "),n())}function qr(t,l){t&1&&(o(0,"mat-error"),a(1," La description ne doit pas d\xE9passer 500 caract\xE8res "),n())}var jt=(()=>{class t{constructor(e,i,r){this.fb=e,this.dialogRef=i,this.data=r,this.isEditMode=!1,this.dialogTitle="Cr\xE9er un R\xE9f\xE9rentiel Normatif"}ngOnInit(){this.isEditMode=!!this.data.id,this.isEditMode&&(this.dialogTitle="Modifier le R\xE9f\xE9rentiel Normatif"),this.initForm()}initForm(){this.frameworkForm=this.fb.group({id:[this.data.id],name:[this.data.name||"",[I.required,I.maxLength(100)]],version:[this.data.version||"",[I.required,I.maxLength(20)]],description:[this.data.description||"",I.maxLength(500)]})}onSubmit(){this.frameworkForm.valid&&this.dialogRef.close(this.frameworkForm.value)}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(p(Pe),p(tt),p(it))}}static{this.\u0275cmp=E({type:t,selectors:[["app-framework-form-dialog"]],decls:28,vars:9,consts:[["mat-dialog-title",""],[3,"ngSubmit","formGroup"],[1,"form-fields"],["type","hidden","formControlName","id"],["appearance","outline",1,"full-width"],["matInput","","formControlName","name","placeholder","Ex. ISO 27001","required",""],[4,"ngIf"],["matInput","","formControlName","version","placeholder","Ex. 2022","required",""],["matInput","","formControlName","description","placeholder","Description du r\xE9f\xE9rentiel normatif","rows","4"],["align","end"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(i,r){if(i&1&&(o(0,"h2",0),a(1),n(),o(2,"form",1),f("ngSubmit",function(){return r.onSubmit()}),o(3,"mat-dialog-content")(4,"div",2),_(5,"input",3),o(6,"mat-form-field",4)(7,"mat-label"),a(8,"Nom"),n(),_(9,"input",5),d(10,Pr,2,0,"mat-error",6)(11,Dr,2,0,"mat-error",6),n(),o(12,"mat-form-field",4)(13,"mat-label"),a(14,"Version"),n(),_(15,"input",7),d(16,Rr,2,0,"mat-error",6)(17,Ar,2,0,"mat-error",6),n(),o(18,"mat-form-field",4)(19,"mat-label"),a(20,"Description"),n(),_(21,"textarea",8),d(22,qr,2,0,"mat-error",6),n()()(),o(23,"mat-dialog-actions",9)(24,"button",10),f("click",function(){return r.onCancel()}),a(25,"Annuler"),n(),o(26,"button",11),a(27),n()()()),i&2){let s,u,h,X,xe;c(),y(r.dialogTitle),c(),m("formGroup",r.frameworkForm),c(8),m("ngIf",(s=r.frameworkForm.get("name"))==null?null:s.hasError("required")),c(),m("ngIf",(u=r.frameworkForm.get("name"))==null?null:u.hasError("maxlength")),c(5),m("ngIf",(h=r.frameworkForm.get("version"))==null?null:h.hasError("required")),c(),m("ngIf",(X=r.frameworkForm.get("version"))==null?null:X.hasError("maxlength")),c(5),m("ngIf",(xe=r.frameworkForm.get("description"))==null?null:xe.hasError("maxlength")),c(4),m("disabled",r.frameworkForm.invalid),c(),v(" ",r.isEditMode?"Mettre \xE0 jour":"Cr\xE9er"," ")}},dependencies:[R,Ie,Me,Ee,Se,Te,Fe,Oe,V,rt,ot,nt,z,N,Ae,H],styles:[".form-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:8px 0}.full-width[_ngcontent-%COMP%]{width:100%}mat-dialog-content[_ngcontent-%COMP%]{min-width:400px}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 0 8px}"]})}}return t})();var G=(()=>{class t{constructor(e){this.apiService=e,this.basePath="/compliance-frameworks"}getFrameworks(){return this.apiService.get(this.basePath).pipe(M(e=>(console.error("Erreur lors de la r\xE9cup\xE9ration des frameworks de conformit\xE9",e),w(()=>new Error("Impossible de r\xE9cup\xE9rer la liste des frameworks de conformit\xE9. Veuillez r\xE9essayer.")))))}getFramework(e){return this.apiService.get(`${this.basePath}/${e}`).pipe(M(i=>(console.error(`Erreur lors de la r\xE9cup\xE9ration du framework ${e}`,i),w(()=>new Error("Impossible de r\xE9cup\xE9rer les d\xE9tails du framework. Veuillez r\xE9essayer.")))))}createFramework(e){return this.apiService.post(this.basePath,e).pipe(M(i=>{console.error("Erreur lors de la cr\xE9ation du framework",i);let r=this.getErrorMessage(i)||"Impossible de cr\xE9er le framework. Veuillez r\xE9essayer.";return w(()=>new Error(r))}))}updateFramework(e,i){return this.apiService.put(`${this.basePath}/${e}`,i).pipe(M(r=>{console.error(`Erreur lors de la mise \xE0 jour du framework ${e}`,r);let s=this.getErrorMessage(r)||"Impossible de mettre \xE0 jour le framework. Veuillez r\xE9essayer.";return w(()=>new Error(s))}))}deleteFramework(e){return this.apiService.delete(`${this.basePath}/${e}`).pipe(M(i=>(console.error(`Erreur lors de la suppression du framework ${e}`,i),w(()=>new Error("Impossible de supprimer le framework. Veuillez r\xE9essayer.")))))}getErrorMessage(e){if(e.error){if(typeof e.error=="string")return e.error;if(e.error.message)return e.error.message;if(typeof e.error=="object"){let i=Object.entries(e.error).map(([r,s])=>`${r}: ${s}`).join(", ");if(i)return`Erreurs de validation: ${i}`}}return e.statusText||"Une erreur est survenue"}static{this.\u0275fac=function(i){return new(i||t)(Z(qe))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Lr=()=>[5,10,25,100],Vr=t=>["/compliance/frameworks",t];function Nr(t,l){t&1&&_(0,"mat-progress-bar",24)}function zr(t,l){if(t&1&&(o(0,"div",25)(1,"mat-icon"),a(2,"error"),n(),o(3,"span"),a(4),n()()),t&2){let e=g(2);c(4),y(e.error)}}function jr(t,l){if(t&1&&(o(0,"div",21),d(1,Nr,1,0,"mat-progress-bar",22)(2,zr,5,1,"div",23),n()),t&2){let e=g();c(),m("ngIf",e.isLoading),c(),m("ngIf",e.error)}}function Br(t,l){t&1&&(o(0,"th",26),a(1," Nom "),n())}function Gr(t,l){if(t&1&&(o(0,"td",27),a(1),n()),t&2){let e=l.$implicit;c(),v(" ",e.name," ")}}function $r(t,l){t&1&&(o(0,"th",26),a(1," Version "),n())}function Hr(t,l){if(t&1&&(o(0,"td",27),a(1),n()),t&2){let e=l.$implicit;c(),v(" ",e.version," ")}}function Qr(t,l){t&1&&(o(0,"th",28),a(1," Description "),n())}function Ur(t,l){if(t&1&&(o(0,"td",27),a(1),n()),t&2){let e=l.$implicit;c(),v(" ",e.description," ")}}function Wr(t,l){t&1&&(o(0,"th",28),a(1," Actions "),n())}function Yr(t,l){if(t&1){let e=F();o(0,"td",27)(1,"button",29)(2,"mat-icon"),a(3,"visibility"),n()(),o(4,"button",30),f("click",function(){let r=b(e).$implicit,s=g();return k(s.openFrameworkDialog(r))}),o(5,"mat-icon"),a(6,"edit"),n()(),o(7,"button",31),f("click",function(){let r=b(e).$implicit,s=g();return k(s.deleteFramework(r.id))}),o(8,"mat-icon"),a(9,"delete"),n()()()}if(t&2){let e=l.$implicit;c(),m("routerLink",ht(1,Vr,e.id))}}function Kr(t,l){t&1&&_(0,"tr",32)}function Xr(t,l){t&1&&_(0,"tr",33)}function Zr(t,l){if(t&1&&(o(0,"span"),a(1),n()),t&2){g(2);let e=L(12);c(),v('Aucun r\xE9f\xE9rentiel trouv\xE9 pour "',e.value,'"')}}function Jr(t,l){t&1&&(o(0,"span"),a(1,"Aucun r\xE9f\xE9rentiel disponible"),n())}function en(t,l){if(t&1&&(o(0,"tr",34)(1,"td",35)(2,"div",36)(3,"mat-icon"),a(4,"info"),n(),d(5,Zr,2,1,"span",37)(6,Jr,2,0,"span",37),n()()()),t&2){let e=g(),i=L(12);c(5),m("ngIf",i.value),c(),m("ngIf",!i.value&&!e.isLoading&&!e.error)}}var ir=(()=>{class t{constructor(e,i){this.frameworkService=e,this.dialog=i,this.displayedColumns=["name","version","description","actions"],this.dataSource=new fe([]),this.isLoading=!0,this.error=null}ngOnInit(){this.loadFrameworks()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let i=e.target.value;this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}loadFrameworks(){this.isLoading=!0,this.error=null,this.frameworkService.getFrameworks().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1},error:e=>{console.error("Erreur lors du chargement des frameworks",e),this.error="Impossible de charger les frameworks. Veuillez r\xE9essayer.",this.isLoading=!1}})}openFrameworkDialog(e){this.dialog.open(jt,{width:"500px",data:e||{}}).afterClosed().subscribe(r=>{r&&(r.id?this.updateFramework(r):this.createFramework(r))})}createFramework(e){this.frameworkService.createFramework(e).subscribe({next:i=>{this.dataSource.data=[...this.dataSource.data,i]},error:i=>{console.error("Erreur lors de la cr\xE9ation du framework",i)}})}updateFramework(e){this.frameworkService.updateFramework(e.id,e).subscribe({next:i=>{let r=this.dataSource.data.findIndex(s=>s.id===i.id);if(r!==-1){let s=[...this.dataSource.data];s[r]=i,this.dataSource.data=s}},error:i=>{console.error("Erreur lors de la mise \xE0 jour du framework",i)}})}deleteFramework(e){confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce framework? Cette action est irr\xE9versible.")&&this.frameworkService.deleteFramework(e).subscribe({next:()=>{this.dataSource.data=this.dataSource.data.filter(i=>i.id!==e)},error:i=>{console.error("Erreur lors de la suppression du framework",i)}})}static{this.\u0275fac=function(i){return new(i||t)(p(G),p(Re))}}static{this.\u0275cmp=E({type:t,selectors:[["app-frameworks"]],viewQuery:function(i,r){if(i&1&&(T(j,5),T(A,5)),i&2){let s;P(s=D())&&(r.paginator=s.first),P(s=D())&&(r.sort=s.first)}},decls:34,vars:6,consts:[["input",""],[1,"frameworks-container"],[1,"frameworks-header"],["mat-raised-button","","color","primary",3,"click"],["appearance","outline",1,"filter-field"],["matInput","","placeholder","Ex. ISO 27001",3,"keyup"],["matSuffix",""],["class","loading-error-container",4,"ngIf"],[1,"mat-elevation-z2","data-table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","version"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],[1,"loading-error-container"],["mode","indeterminate",4,"ngIf"],["class","error-message",4,"ngIf"],["mode","indeterminate"],[1,"error-message"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Voir les d\xE9tails",3,"routerLink"],["mat-icon-button","","color","accent","matTooltip","Modifier",3,"click"],["mat-icon-button","","color","warn","matTooltip","Supprimer",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],[1,"no-data-message"],[4,"ngIf"]],template:function(i,r){if(i&1){let s=F();o(0,"div",1)(1,"div",2)(2,"h2"),a(3,"R\xE9f\xE9rentiels Normatifs"),n(),o(4,"button",3),f("click",function(){return b(s),k(r.openFrameworkDialog())}),o(5,"mat-icon"),a(6,"add"),n(),a(7," Nouveau R\xE9f\xE9rentiel "),n()(),o(8,"mat-form-field",4)(9,"mat-label"),a(10,"Rechercher"),n(),o(11,"input",5,0),f("keyup",function(h){return b(s),k(r.applyFilter(h))}),n(),o(13,"mat-icon",6),a(14,"search"),n()(),d(15,jr,3,2,"div",7),o(16,"div",8)(17,"table",9),x(18,10),d(19,Br,2,0,"th",11)(20,Gr,2,1,"td",12),C(),x(21,13),d(22,$r,2,0,"th",11)(23,Hr,2,1,"td",12),C(),x(24,14),d(25,Qr,2,0,"th",15)(26,Ur,2,1,"td",12),C(),x(27,16),d(28,Wr,2,0,"th",15)(29,Yr,10,3,"td",12),C(),d(30,Kr,1,0,"tr",17)(31,Xr,1,0,"tr",18)(32,en,7,2,"tr",19),n(),_(33,"mat-paginator",20),n()()}i&2&&(c(15),m("ngIf",r.isLoading||r.error),c(2),m("dataSource",r.dataSource),c(13),m("matHeaderRowDef",r.displayedColumns),c(),m("matRowDefColumns",r.displayedColumns),c(2),m("pageSizeOptions",ne(5,Lr)))},dependencies:[R,Xe,V,W,z,N,at,$,H,j,K,A,be,ae,se,pe,le,ce,ue,me,de,he,_e,De,Y],styles:[".frameworks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.frameworks-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.frameworks-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:500}.filter-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.loading-error-container[_ngcontent-%COMP%]{margin-bottom:16px}.loading-error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;color:#f44336;padding:8px;border-radius:4px;background-color:#f443361a}.loading-error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.data-table-container[_ngcontent-%COMP%]{flex:1;overflow:auto;position:relative;border-radius:4px}.data-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.data-table-container[_ngcontent-%COMP%]   .mat-column-name[_ngcontent-%COMP%]{min-width:150px;max-width:250px}.data-table-container[_ngcontent-%COMP%]   .mat-column-version[_ngcontent-%COMP%]{min-width:100px;max-width:150px}.data-table-container[_ngcontent-%COMP%]   .mat-column-description[_ngcontent-%COMP%]{min-width:200px}.data-table-container[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]{min-width:120px;max-width:120px;text-align:center}.data-table-container[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%], .data-table-container[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{padding:0 16px}.data-table-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:24px;color:#0000008a}.data-table-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}"]})}}return t})();var ke=function(t){return t.PREVENTIVE="PREVENTIVE",t.DETECTIVE="DETECTIVE",t.CORRECTIVE="CORRECTIVE",t}(ke||{}),S=function(t){return t.COMPLIANT="COMPLIANT",t.NON_COMPLIANT="NON_COMPLIANT",t.PARTIALLY_COMPLIANT="PARTIALLY_COMPLIANT",t.NOT_APPLICABLE="NOT_APPLICABLE",t}(S||{});function tn(t,l){if(t&1&&(o(0,"mat-option",17),a(1),n()),t&2){let e=l.$implicit;m("value",e.id),c(),Q(" ",e.name," (",e.version,") ")}}function rn(t,l){t&1&&(o(0,"mat-error"),a(1," Le r\xE9f\xE9rentiel est obligatoire "),n())}function nn(t,l){t&1&&(o(0,"mat-error"),a(1," Le code est obligatoire "),n())}function on(t,l){t&1&&(o(0,"mat-error"),a(1," Le code ne doit pas d\xE9passer 50 caract\xE8res "),n())}function an(t,l){t&1&&(o(0,"mat-error"),a(1," Le type est obligatoire "),n())}function cn(t,l){t&1&&(o(0,"mat-error"),a(1," La description est obligatoire "),n())}function sn(t,l){t&1&&(o(0,"mat-error"),a(1," La description ne doit pas d\xE9passer 500 caract\xE8res "),n())}var Qt=(()=>{class t{constructor(e,i,r){this.fb=e,this.dialogRef=i,this.data=r,this.isEditMode=!1,this.dialogTitle="Cr\xE9er une Exigence",this.frameworks=[],this.frameworks=r.frameworks||[]}ngOnInit(){this.isEditMode=!!this.data.requirement?.id,this.isEditMode&&(this.dialogTitle="Modifier l'Exigence"),this.initForm()}initForm(){let e=this.data.requirement||{};this.requirementForm=this.fb.group({id:[e.id],code:[e.code||"",[I.required,I.maxLength(50)]],description:[e.description||"",[I.required,I.maxLength(500)]],type:[e.type||ke.PREVENTIVE,I.required],frameworkId:[e.frameworkId||"",I.required]}),console.log("Framework de l'exigence en \xE9dition :",e.framework),this.isEditMode&&e.framework&&(this.requirementForm.patchValue({frameworkId:e.framework.id}),console.log("Framework ID pr\xE9-rempli :",e.framework.id))}onSubmit(){if(this.requirementForm.valid){let e=this.requirementForm.value,i=xt({},e);this.dialogRef.close(i)}}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(p(Pe),p(tt),p(it))}}static{this.\u0275cmp=E({type:t,selectors:[["app-requirement-form-dialog"]],decls:40,vars:11,consts:[["mat-dialog-title",""],[3,"ngSubmit","formGroup"],[1,"form-fields"],["type","hidden","formControlName","id"],["appearance","outline",1,"full-width"],["formControlName","frameworkId","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","code","placeholder","Ex. A.5.1","required",""],["formControlName","type","required",""],["value","PREVENTIVE"],["value","DETECTIVE"],["value","CORRECTIVE"],["matInput","","formControlName","description","placeholder","Description de l'exigence","rows","4","required",""],["align","end"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(i,r){if(i&1&&(o(0,"h2",0),a(1),n(),o(2,"form",1),f("ngSubmit",function(){return r.onSubmit()}),o(3,"mat-dialog-content")(4,"div",2),_(5,"input",3),o(6,"mat-form-field",4)(7,"mat-label"),a(8,"R\xE9f\xE9rentiel"),n(),o(9,"mat-select",5),d(10,tn,2,3,"mat-option",6),n(),d(11,rn,2,0,"mat-error",7),n(),o(12,"mat-form-field",4)(13,"mat-label"),a(14,"Code"),n(),_(15,"input",8),d(16,nn,2,0,"mat-error",7)(17,on,2,0,"mat-error",7),n(),o(18,"mat-form-field",4)(19,"mat-label"),a(20,"Type"),n(),o(21,"mat-select",9)(22,"mat-option",10),a(23,"Pr\xE9ventif"),n(),o(24,"mat-option",11),a(25,"D\xE9tectif"),n(),o(26,"mat-option",12),a(27,"Correctif"),n()(),d(28,an,2,0,"mat-error",7),n(),o(29,"mat-form-field",4)(30,"mat-label"),a(31,"Description"),n(),_(32,"textarea",13),d(33,cn,2,0,"mat-error",7)(34,sn,2,0,"mat-error",7),n()()(),o(35,"mat-dialog-actions",14)(36,"button",15),f("click",function(){return r.onCancel()}),a(37,"Annuler"),n(),o(38,"button",16),a(39),n()()()),i&2){let s,u,h,X,xe,oi;c(),y(r.dialogTitle),c(),m("formGroup",r.requirementForm),c(8),m("ngForOf",r.frameworks),c(),m("ngIf",(s=r.requirementForm.get("frameworkId"))==null?null:s.hasError("required")),c(5),m("ngIf",(u=r.requirementForm.get("code"))==null?null:u.hasError("required")),c(),m("ngIf",(h=r.requirementForm.get("code"))==null?null:h.hasError("maxlength")),c(11),m("ngIf",(X=r.requirementForm.get("type"))==null?null:X.hasError("required")),c(5),m("ngIf",(xe=r.requirementForm.get("description"))==null?null:xe.hasError("required")),c(),m("ngIf",(oi=r.requirementForm.get("description"))==null?null:oi.hasError("maxlength")),c(4),m("disabled",r.requirementForm.invalid),c(),v(" ",r.isEditMode?"Mettre \xE0 jour":"Cr\xE9er"," ")}},dependencies:[oe,R,Ie,Me,Ee,Se,Te,Fe,Oe,V,rt,ot,nt,z,N,Ae,H,ge,ie],styles:[".form-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:8px 0}.full-width[_ngcontent-%COMP%]{width:100%}mat-dialog-content[_ngcontent-%COMP%]{min-width:400px}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 0 8px}"]})}}return t})();var Ne=(()=>{class t{constructor(e){this.apiService=e,this.basePath="/compliance-requirements"}getRequirements(){return this.apiService.get(this.basePath).pipe(M(e=>(console.error("Erreur lors de la r\xE9cup\xE9ration des exigences de conformit\xE9",e),w(()=>new Error("Impossible de r\xE9cup\xE9rer la liste des exigences de conformit\xE9. Veuillez r\xE9essayer.")))))}getRequirementsByFramework(e){return this.apiService.get(`${this.basePath}?frameworkId=${e}`).pipe(M(i=>(console.error(`Erreur lors de la r\xE9cup\xE9ration des exigences du framework ${e}`,i),w(()=>new Error("Impossible de r\xE9cup\xE9rer les exigences de ce framework. Veuillez r\xE9essayer.")))))}getRequirementsByType(e){return this.apiService.get(`${this.basePath}?type=${e}`).pipe(M(i=>(console.error(`Erreur lors de la r\xE9cup\xE9ration des exigences de type ${e}`,i),w(()=>new Error(`Impossible de r\xE9cup\xE9rer les exigences de type ${e}. Veuillez r\xE9essayer.`)))))}getRequirement(e){return this.apiService.get(`${this.basePath}/${e}`).pipe(M(i=>(console.error(`Erreur lors de la r\xE9cup\xE9ration de l'exigence ${e}`,i),w(()=>new Error("Impossible de r\xE9cup\xE9rer les d\xE9tails de l'exigence. Veuillez r\xE9essayer.")))))}createRequirement(e){return this.apiService.post(this.basePath,e).pipe(M(i=>{console.error("Erreur lors de la cr\xE9ation de l'exigence",i);let r=this.getErrorMessage(i)||"Impossible de cr\xE9er l'exigence. Veuillez r\xE9essayer.";return w(()=>new Error(r))}))}updateRequirement(e,i){return this.apiService.put(`${this.basePath}/${e}`,i).pipe(M(r=>{console.error(`Erreur lors de la mise \xE0 jour de l'exigence ${e}`,r);let s=this.getErrorMessage(r)||"Impossible de mettre \xE0 jour l'exigence. Veuillez r\xE9essayer.";return w(()=>new Error(s))}))}deleteRequirement(e){return this.apiService.delete(`${this.basePath}/${e}`).pipe(M(i=>(console.error(`Erreur lors de la suppression de l'exigence ${e}`,i),w(()=>new Error("Impossible de supprimer l'exigence. Veuillez r\xE9essayer.")))))}getErrorMessage(e){if(e.error){if(typeof e.error=="string")return e.error;if(e.error.message)return e.error.message;if(typeof e.error=="object"){let i=Object.entries(e.error).map(([r,s])=>`${r}: ${s}`).join(", ");if(i)return`Erreurs de validation: ${i}`}}return e.statusText||"Une erreur est survenue"}static{this.\u0275fac=function(i){return new(i||t)(Z(qe))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ln=()=>["admin"],mn=t=>["/compliance/requirements",t],dn=t=>["/compliance/frameworks/edit",t];function pn(t,l){t&1&&_(0,"mat-progress-bar",8)}function un(t,l){if(t&1&&(o(0,"div",9)(1,"mat-icon"),a(2,"error"),n(),o(3,"span"),a(4),n()()),t&2){let e=g(2);c(4),y(e.error)}}function hn(t,l){if(t&1&&(o(0,"div",5),d(1,pn,1,0,"mat-progress-bar",6)(2,un,5,1,"div",7),n()),t&2){let e=g();c(),m("ngIf",e.isLoading),c(),m("ngIf",e.error)}}function _n(t,l){if(t&1&&(o(0,"p"),a(1),n()),t&2){let e=g(2);c(),y(e.framework.description)}}function fn(t,l){t&1&&(o(0,"p")(1,"em"),a(2,"Aucune description fournie"),n()())}function gn(t,l){t&1&&(o(0,"th",31),a(1," Code "),n())}function bn(t,l){if(t&1&&(o(0,"td",32),a(1),n()),t&2){let e=l.$implicit;c(),v(" ",e.code," ")}}function kn(t,l){t&1&&(o(0,"th",33),a(1," Description "),n())}function vn(t,l){if(t&1&&(o(0,"td",32),a(1),n()),t&2){let e=l.$implicit;c(),v(" ",e.description," ")}}function xn(t,l){t&1&&(o(0,"th",31),a(1," Type "),n())}function Cn(t,l){if(t&1&&(o(0,"td",32)(1,"span",34),a(2),n()()),t&2){let e=l.$implicit;c(),m("ngClass","type-badge "+e.type.toLowerCase()),c(),v(" ",e.type," ")}}function yn(t,l){t&1&&(o(0,"th",33),a(1," Actions "),n())}function wn(t,l){if(t&1){let e=F();o(0,"td",32)(1,"button",35)(2,"mat-icon"),a(3,"visibility"),n()(),o(4,"button",36),f("click",function(){let r=b(e).$implicit,s=g(2);return k(s.openRequirementDialog(r))}),o(5,"mat-icon"),a(6,"edit"),n()(),o(7,"button",37),f("click",function(){let r=b(e).$implicit,s=g(2);return k(s.deleteRequirement(r.id))}),o(8,"mat-icon"),a(9,"delete"),n()()()}if(t&2){let e=l.$implicit;c(),m("routerLink",ht(1,mn,e.id))}}function Mn(t,l){t&1&&_(0,"tr",38)}function En(t,l){t&1&&_(0,"tr",39)}function Sn(t,l){t&1&&(o(0,"tr",40)(1,"td",41)(2,"div",42)(3,"mat-icon"),a(4,"info"),n(),o(5,"span"),a(6,"Aucune exigence disponible pour ce r\xE9f\xE9rentiel"),n()()()())}function In(t,l){if(t&1&&(o(0,"button",43)(1,"mat-icon"),a(2,"edit"),n(),a(3," Modifier le r\xE9f\xE9rentiel "),n()),t&2){let e=g(2);m("routerLink",ht(1,dn,e.framework.id))}}function Fn(t,l){if(t&1){let e=F();o(0,"div",10)(1,"mat-card",11)(2,"mat-card-header")(3,"mat-card-title",12)(4,"span"),a(5),n(),o(6,"button",13),f("click",function(){b(e);let r=g();return k(r.openFrameworkDialog())}),o(7,"mat-icon"),a(8,"edit"),n()()()(),o(9,"mat-card-content"),d(10,_n,2,1,"p",14)(11,fn,3,0,"p",14),n()(),o(12,"div",15)(13,"div",16)(14,"h2"),a(15,"Exigences du r\xE9f\xE9rentiel"),n(),o(16,"button",17),f("click",function(){b(e);let r=g();return k(r.openRequirementDialog())}),o(17,"mat-icon"),a(18,"add"),n(),a(19," Nouvelle Exigence "),n()(),o(20,"div",18)(21,"table",19),x(22,20),d(23,gn,2,0,"th",21)(24,bn,2,1,"td",22),C(),x(25,23),d(26,kn,2,0,"th",24)(27,vn,2,1,"td",22),C(),x(28,25),d(29,xn,2,0,"th",21)(30,Cn,3,2,"td",22),C(),x(31,26),d(32,yn,2,0,"th",24)(33,wn,10,3,"td",22),C(),d(34,Mn,1,0,"tr",27)(35,En,1,0,"tr",28)(36,Sn,7,0,"tr",29),n()()(),d(37,In,4,3,"button",30),n()}if(t&2){let e=g();c(5),Q("",e.framework.name," ",e.framework.version,""),c(5),m("ngIf",e.framework.description),c(),m("ngIf",!e.framework.description),c(10),m("dataSource",e.requirementsDataSource),c(13),m("matHeaderRowDef",e.displayedColumns),c(),m("matRowDefColumns",e.displayedColumns),c(2),m("appHasRole",ne(8,ln))}}var nr=(()=>{class t{constructor(e,i,r,s,u){this.route=e,this.router=i,this.frameworkService=r,this.requirementService=s,this.dialog=u,this.framework=null,this.requirementsDataSource=new fe([]),this.displayedColumns=["code","description","type","actions"],this.isLoading=!0,this.error=null}ngOnInit(){this.route.paramMap.subscribe(e=>{let i=e.get("id");i?this.loadFramework(i):(this.error="Identifiant du framework manquant",this.isLoading=!1)})}loadFramework(e){this.isLoading=!0,this.error=null,this.frameworkService.getFramework(e).subscribe({next:i=>{this.framework=i,this.loadRequirements(e)},error:i=>{console.error(`Erreur lors du chargement du framework ${e}`,i),this.error="Impossible de charger les d\xE9tails du framework. Veuillez r\xE9essayer.",this.isLoading=!1}})}loadRequirements(e){this.requirementService.getRequirementsByFramework(e).subscribe({next:i=>{this.requirementsDataSource.data=i,this.isLoading=!1},error:i=>{console.error(`Erreur lors du chargement des exigences du framework ${e}`,i),this.error="Impossible de charger les exigences du framework. Veuillez r\xE9essayer.",this.isLoading=!1}})}openFrameworkDialog(){if(!this.framework)return;this.dialog.open(jt,{width:"500px",data:this.framework}).afterClosed().subscribe(i=>{i&&this.updateFramework(i)})}updateFramework(e){this.framework&&this.frameworkService.updateFramework(e.id,e).subscribe({next:i=>{this.framework=i},error:i=>{console.error(`Erreur lors de la mise \xE0 jour du framework ${e.id}`,i)}})}openRequirementDialog(e){if(!this.framework)return;let i=e?xt({},e):{framework:this.framework};this.dialog.open(Qt,{width:"500px",data:i}).afterClosed().subscribe(s=>{s&&(s.id?this.updateRequirement(s):this.createRequirement(s))})}createRequirement(e){this.requirementService.createRequirement(e).subscribe({next:i=>{this.requirementsDataSource.data=[...this.requirementsDataSource.data,i]},error:i=>{console.error("Erreur lors de la cr\xE9ation de l'exigence",i)}})}updateRequirement(e){this.requirementService.updateRequirement(e.id,e).subscribe({next:i=>{let r=this.requirementsDataSource.data.findIndex(s=>s.id===i.id);if(r!==-1){let s=[...this.requirementsDataSource.data];s[r]=i,this.requirementsDataSource.data=s}},error:i=>{console.error(`Erreur lors de la mise \xE0 jour de l'exigence ${e.id}`,i)}})}deleteRequirement(e){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cette exigence? Cette action est irr\xE9versible.")&&this.requirementService.deleteRequirement(e).subscribe({next:()=>{this.requirementsDataSource.data=this.requirementsDataSource.data.filter(i=>i.id!==e)},error:i=>{console.error(`Erreur lors de la suppression de l'exigence ${e}`,i)}})}goBack(){this.router.navigate(["/compliance/frameworks"])}static{this.\u0275fac=function(i){return new(i||t)(p(It),p(Ke),p(G),p(Ne),p(Re))}}static{this.\u0275cmp=E({type:t,selectors:[["app-framework-detail"]],decls:7,vars:2,consts:[[1,"framework-detail-container"],[1,"back-button"],["mat-icon-button","","color","primary","matTooltip","Retour \xE0 la liste",3,"click"],["class","loading-error-container",4,"ngIf"],["class","framework-detail-content",4,"ngIf"],[1,"loading-error-container"],["mode","indeterminate",4,"ngIf"],["class","error-message",4,"ngIf"],["mode","indeterminate"],[1,"error-message"],[1,"framework-detail-content"],[1,"framework-info-card"],[1,"card-title"],["mat-icon-button","","color","primary","matTooltip","Modifier",3,"click"],[4,"ngIf"],[1,"requirements-section"],[1,"section-header"],["mat-raised-button","","color","primary",3,"click"],[1,"mat-elevation-z2","data-table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","code"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","type"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-raised-button","","color","primary",3,"routerLink",4,"appHasRole"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[3,"ngClass"],["mat-icon-button","","color","primary","matTooltip","Voir les d\xE9tails",3,"routerLink"],["mat-icon-button","","color","accent","matTooltip","Modifier",3,"click"],["mat-icon-button","","color","warn","matTooltip","Supprimer",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],[1,"no-data-message"],["mat-raised-button","","color","primary",3,"routerLink"]],template:function(i,r){i&1&&(o(0,"div",0)(1,"div",1)(2,"button",2),f("click",function(){return r.goBack()}),o(3,"mat-icon"),a(4,"arrow_back"),n()()(),d(5,hn,3,2,"div",3)(6,Fn,38,9,"div",4),n()),i&2&&(c(5),m("ngIf",r.isLoading||r.error),c(),m("ngIf",r.framework&&!r.isLoading))},dependencies:[Ye,R,Xe,Fi,V,W,Ze,Je,Pt,Tt,$,K,A,be,ae,se,pe,le,ce,ue,me,de,he,_e,De,Y],styles:[".framework-detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.back-button[_ngcontent-%COMP%], .loading-error-container[_ngcontent-%COMP%]{margin-bottom:16px}.loading-error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;color:#f44336;padding:8px;border-radius:4px;background-color:#f443361a}.loading-error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.framework-detail-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.framework-info-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.framework-info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{margin-top:16px}.framework-info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.5}.requirements-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.requirements-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:500}.data-table-container[_ngcontent-%COMP%]{overflow:auto;border-radius:4px}.data-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.data-table-container[_ngcontent-%COMP%]   .mat-column-code[_ngcontent-%COMP%]{min-width:120px;max-width:120px}.data-table-container[_ngcontent-%COMP%]   .mat-column-description[_ngcontent-%COMP%]{min-width:200px}.data-table-container[_ngcontent-%COMP%]   .mat-column-type[_ngcontent-%COMP%]{min-width:120px;max-width:150px}.data-table-container[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]{min-width:120px;max-width:120px;text-align:center}.data-table-container[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%], .data-table-container[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{padding:0 16px}.data-table-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:24px;color:#0000008a}.data-table-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.type-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500;text-transform:uppercase}.type-badge.preventive[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.type-badge.detective[_ngcontent-%COMP%]{background-color:#fff8e1;color:#ff8f00}.type-badge.corrective[_ngcontent-%COMP%]{background-color:#ffebee;color:#d32f2f}"]})}}return t})();function On(t,l){t&1&&_(0,"mat-progress-bar",9)}function Tn(t,l){if(t&1&&(o(0,"div",10)(1,"mat-icon"),a(2,"error"),n(),o(3,"span"),a(4),n()()),t&2){let e=g(2);c(4),y(e.error)}}function Pn(t,l){if(t&1&&(o(0,"div",6),d(1,On,1,0,"mat-progress-bar",7)(2,Tn,5,1,"div",8),n()),t&2){let e=g();c(),m("ngIf",e.isLoading),c(),m("ngIf",e.error)}}function Dn(t,l){t&1&&(o(0,"mat-error"),a(1," Le nom est obligatoire "),n())}function Rn(t,l){t&1&&(o(0,"mat-error"),a(1," Le nom ne doit pas d\xE9passer 100 caract\xE8res "),n())}function An(t,l){t&1&&(o(0,"mat-error"),a(1," La version est obligatoire "),n())}function qn(t,l){t&1&&(o(0,"mat-error"),a(1," La version ne doit pas d\xE9passer 20 caract\xE8res "),n())}function Ln(t,l){t&1&&(o(0,"mat-error"),a(1," La description ne doit pas d\xE9passer 500 caract\xE8res "),n())}function Vn(t,l){if(t&1){let e=F();o(0,"div",11)(1,"form",12),f("ngSubmit",function(){b(e);let r=g();return k(r.onSubmit())}),o(2,"mat-card")(3,"mat-card-content")(4,"mat-form-field",13)(5,"mat-label"),a(6,"Nom"),n(),_(7,"input",14),d(8,Dn,2,0,"mat-error",15)(9,Rn,2,0,"mat-error",15),n(),o(10,"mat-form-field",13)(11,"mat-label"),a(12,"Version"),n(),_(13,"input",16),d(14,An,2,0,"mat-error",15)(15,qn,2,0,"mat-error",15),n(),o(16,"mat-form-field",13)(17,"mat-label"),a(18,"Description"),n(),_(19,"textarea",17),d(20,Ln,2,0,"mat-error",15),n()(),o(21,"mat-card-actions",18)(22,"button",19),f("click",function(){b(e);let r=g();return k(r.goBack())}),a(23,"Annuler"),n(),o(24,"button",20),a(25," Enregistrer "),n()()()()()}if(t&2){let e,i,r,s,u,h=g();c(),m("formGroup",h.frameworkForm),c(7),m("ngIf",(e=h.frameworkForm.get("name"))==null?null:e.hasError("required")),c(),m("ngIf",(i=h.frameworkForm.get("name"))==null?null:i.hasError("maxlength")),c(5),m("ngIf",(r=h.frameworkForm.get("version"))==null?null:r.hasError("required")),c(),m("ngIf",(s=h.frameworkForm.get("version"))==null?null:s.hasError("maxlength")),c(5),m("ngIf",(u=h.frameworkForm.get("description"))==null?null:u.hasError("maxlength")),c(4),m("disabled",h.frameworkForm.invalid)}}function Nn(t,l){if(t&1){let e=F();o(0,"div",21)(1,"mat-icon",22),a(2,"block"),n(),o(3,"h3"),a(4,"Acc\xE8s non autoris\xE9"),n(),o(5,"p"),a(6,"Vous n'avez pas les droits n\xE9cessaires pour modifier un r\xE9f\xE9rentiel normatif."),n(),o(7,"button",23),f("click",function(){b(e);let r=g();return k(r.goBack())}),a(8,"Retour aux r\xE9f\xE9rentiels"),n()()}}var or=(()=>{class t{constructor(e,i,r,s,u){this.fb=e,this.route=i,this.router=r,this.frameworkService=s,this.keycloakService=u,this.isLoading=!0,this.error=null,this.isAdmin=!1}ngOnInit(){if(this.isAdmin=this.keycloakService.hasRole("admin"),!this.isAdmin){console.warn("Utilisateur non autoris\xE9 \xE0 \xE9diter les frameworks"),this.router.navigate(["/compliance/frameworks"]);return}this.initForm(),this.route.paramMap.subscribe(e=>{let i=e.get("id");i?(this.frameworkId=i,this.loadFramework(i)):(this.error="Identifiant du framework manquant",this.isLoading=!1)})}initForm(){this.frameworkForm=this.fb.group({id:[""],name:["",[I.required,I.maxLength(100)]],version:["",[I.required,I.maxLength(20)]],description:["",I.maxLength(500)]})}loadFramework(e){this.isLoading=!0,this.error=null,this.frameworkService.getFramework(e).subscribe({next:i=>{this.framework=i,this.frameworkForm.patchValue({id:i.id,name:i.name,version:i.version,description:i.description||""}),this.isLoading=!1},error:i=>{console.error(`Erreur lors du chargement du framework ${e}`,i),this.error="Impossible de charger les d\xE9tails du framework. Veuillez r\xE9essayer.",this.isLoading=!1}})}onSubmit(){if(this.frameworkForm.invalid)return;let e=this.frameworkForm.value;this.isLoading=!0,this.frameworkService.updateFramework(this.frameworkId,e).subscribe({next:()=>{this.isLoading=!1,this.router.navigate(["/compliance/frameworks",this.frameworkId])},error:i=>{console.error(`Erreur lors de la mise \xE0 jour du framework ${this.frameworkId}`,i),this.error="Impossible de mettre \xE0 jour le framework. Veuillez r\xE9essayer.",this.isLoading=!1}})}goBack(){this.router.navigate(["/compliance/frameworks",this.frameworkId])}static{this.\u0275fac=function(i){return new(i||t)(p(Pe),p(It),p(Ke),p(G),p(Rt))}}static{this.\u0275cmp=E({type:t,selectors:[["app-framework-edit"]],decls:10,vars:3,consts:[[1,"framework-edit-container"],[1,"back-button"],["mat-icon-button","","color","primary","matTooltip","Retour au framework",3,"click"],["class","loading-error-container",4,"ngIf"],["class","form-container",4,"ngIf"],["class","not-authorized",4,"ngIf"],[1,"loading-error-container"],["mode","indeterminate",4,"ngIf"],["class","error-message",4,"ngIf"],["mode","indeterminate"],[1,"error-message"],[1,"form-container"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"form-field"],["matInput","","formControlName","name","placeholder","Ex: ISO 27001","required",""],[4,"ngIf"],["matInput","","formControlName","version","placeholder","Ex: 2022","required",""],["matInput","","formControlName","description","placeholder","Description du r\xE9f\xE9rentiel normatif","rows","4"],["align","end"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"not-authorized"],["color","warn"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,r){i&1&&(o(0,"div",0)(1,"div",1)(2,"button",2),f("click",function(){return r.goBack()}),o(3,"mat-icon"),a(4,"arrow_back"),n()()(),o(5,"h2"),a(6,"Modifier le R\xE9f\xE9rentiel Normatif"),n(),d(7,Pn,3,2,"div",3)(8,Vn,26,7,"div",4)(9,Nn,9,0,"div",5),n()),i&2&&(c(7),m("ngIf",r.isLoading||r.error),c(),m("ngIf",!r.isLoading&&!r.error&&r.isAdmin),c(),m("ngIf",!r.isLoading&&!r.error&&!r.isAdmin))},dependencies:[R,Ie,Me,Ee,Se,Te,Fe,Oe,V,W,Ze,xi,Je,z,N,Ae,$,H,K,Y],styles:[".framework-edit-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.back-button[_ngcontent-%COMP%]{margin-bottom:16px}h2[_ngcontent-%COMP%]{margin-bottom:24px;color:#3f51b5}.loading-error-container[_ngcontent-%COMP%]{margin-bottom:16px}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#ffebee;color:#d32f2f;padding:8px 16px;border-radius:4px;margin-top:8px}.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.form-container[_ngcontent-%COMP%]{margin-top:16px}.form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}mat-card[_ngcontent-%COMP%]{margin-bottom:24px}mat-card-content[_ngcontent-%COMP%]{padding:16px}.not-authorized[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 16px;text-align:center;background-color:#f5f5f5;border-radius:8px;margin-top:24px}.not-authorized[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;margin-bottom:16px}.not-authorized[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:16px;color:#d32f2f}.not-authorized[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:16px}"]})}}return t})();var zn=()=>[5,10,25,100];function jn(t,l){if(t&1&&(o(0,"mat-option",11),a(1),n()),t&2){let e=l.$implicit;m("value",e.id),c(),Q(" ",e.name," (",e.version,") ")}}function Bn(t,l){t&1&&_(0,"mat-progress-bar",34)}function Gn(t,l){if(t&1&&(o(0,"div",35)(1,"mat-icon"),a(2,"error"),n(),o(3,"span"),a(4),n()()),t&2){let e=g(2);c(4),y(e.error)}}function $n(t,l){if(t&1&&(o(0,"div",31),d(1,Bn,1,0,"mat-progress-bar",32)(2,Gn,5,1,"div",33),n()),t&2){let e=g();c(),m("ngIf",e.isLoading),c(),m("ngIf",e.error)}}function Hn(t,l){t&1&&(o(0,"th",36),a(1," Code "),n())}function Qn(t,l){if(t&1&&(o(0,"td",37),a(1),n()),t&2){let e=l.$implicit;c(),v(" ",e.code," ")}}function Un(t,l){t&1&&(o(0,"th",36),a(1," R\xE9f\xE9rentiel "),n())}function Wn(t,l){if(t&1&&(o(0,"span",42),a(1),n()),t&2){let e=g(2).$implicit;c(),v("(",e.framework==null?null:e.framework.version,")")}}function Yn(t,l){if(t&1&&(o(0,"div",39)(1,"span",40),a(2),n(),d(3,Wn,2,1,"span",41),n()),t&2){let e=g().$implicit;c(2),y(e.framework==null?null:e.framework.name),c(),m("ngIf",e.framework==null?null:e.framework.version)}}function Kn(t,l){t&1&&a(0,"-")}function Xn(t,l){if(t&1&&(o(0,"td",37),d(1,Yn,4,2,"div",38)(2,Kn,1,0,"ng-template",null,1,hi),n()),t&2){let e=l.$implicit,i=L(3);c(),m("ngIf",e.framework)("ngIfElse",i)}}function Zn(t,l){t&1&&(o(0,"th",43),a(1," Description "),n())}function Jn(t,l){if(t&1&&(o(0,"td",37),a(1),n()),t&2){let e=l.$implicit;c(),v(" ",e.description," ")}}function eo(t,l){t&1&&(o(0,"th",36),a(1," Type "),n())}function to(t,l){if(t&1&&(o(0,"td",37)(1,"span",44),a(2),n()()),t&2){let e=l.$implicit,i=g();c(),m("ngClass",i.getTypeClass(e.type)),c(),v(" ",i.getTypeLabel(e.type)," ")}}function io(t,l){t&1&&(o(0,"th",43),a(1," Actions "),n())}function ro(t,l){if(t&1){let e=F();o(0,"td",37)(1,"button",45)(2,"mat-icon"),a(3,"visibility"),n()(),o(4,"button",46),f("click",function(){let r=b(e).$implicit,s=g();return k(s.openRequirementDialog(r))}),o(5,"mat-icon"),a(6,"edit"),n()(),o(7,"button",47),f("click",function(){let r=b(e).$implicit,s=g();return k(s.deleteRequirement(r.id))}),o(8,"mat-icon"),a(9,"delete"),n()()()}}function no(t,l){t&1&&_(0,"tr",48)}function oo(t,l){t&1&&_(0,"tr",49)}function ao(t,l){if(t&1&&(o(0,"span"),a(1),n()),t&2){g(2);let e=L(12);c(),v('Aucune exigence trouv\xE9e pour "',e.value,'"')}}function co(t,l){t&1&&(o(0,"span"),a(1,"Aucune exigence disponible"),n())}function so(t,l){if(t&1&&(o(0,"tr",50)(1,"td",51)(2,"div",52)(3,"mat-icon"),a(4,"info"),n(),d(5,ao,2,1,"span",53)(6,co,2,0,"span",53),n()()()),t&2){let e=g(),i=L(12);c(5),m("ngIf",i.value),c(),m("ngIf",!i.value&&!e.isLoading&&!e.error)}}var ar=(()=>{class t{constructor(e,i,r){this.requirementService=e,this.frameworkService=i,this.dialog=r,this.displayedColumns=["code","framework","description","type","actions"],this.dataSource=new fe([]),this.frameworks=[],this.selectedFramework="",this.selectedType="",this.isLoading=!0,this.error=null,this.originalData=[]}ngOnInit(){this.loadFrameworks(),this.loadRequirements()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let i=e.target.value;this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}loadFrameworks(){this.frameworkService.getFrameworks().subscribe({next:e=>{console.log("Frameworks charg\xE9s :",e),this.frameworks=e},error:e=>{console.error("Erreur lors du chargement des frameworks",e)}})}loadRequirements(e){this.isLoading=!0,this.error=null,e?this.requirementService.getRequirementsByFramework(e).subscribe({next:i=>{this.originalData=i,this.dataSource.data=i,this.selectedType&&this.filterByType(),this.isLoading=!1},error:i=>{console.error(`Erreur lors du chargement des exigences pour le framework ${e}`,i),this.error="Impossible de charger les exigences. Veuillez r\xE9essayer.",this.isLoading=!1}}):this.requirementService.getRequirements().subscribe({next:i=>{this.originalData=i,this.dataSource.data=i,this.selectedType&&this.filterByType(),this.isLoading=!1},error:i=>{console.error("Erreur lors du chargement des exigences",i),this.error="Impossible de charger les exigences. Veuillez r\xE9essayer.",this.isLoading=!1}})}filterByFramework(){this.selectedFramework?this.loadRequirements(this.selectedFramework):this.loadRequirements()}filterByType(){if(this.selectedType){let e=this.originalData.filter(i=>i.type===this.selectedType);this.dataSource.data=e}else this.dataSource.data=this.originalData;this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getTypeLabel(e){switch(e){case ke.PREVENTIVE:return"Pr\xE9ventif";case ke.DETECTIVE:return"D\xE9tectif";case ke.CORRECTIVE:return"Correctif";default:return e}}getTypeClass(e){switch(e){case ke.PREVENTIVE:return"preventive-type";case ke.DETECTIVE:return"detective-type";case ke.CORRECTIVE:return"corrective-type";default:return""}}openRequirementDialog(e){this.dialog.open(Qt,{width:"600px",data:{requirement:e||{},frameworks:this.frameworks}}).afterClosed().subscribe(r=>{r&&(r.id?this.updateRequirement(r):this.createRequirement(r))})}createRequirement(e){this.requirementService.createRequirement(e).subscribe({next:i=>{this.originalData=[...this.originalData,i],this.filterByFramework(),this.filterByType()},error:i=>{console.error("Erreur lors de la cr\xE9ation de l'exigence",i)}})}updateRequirement(e){this.requirementService.updateRequirement(e.id,e).subscribe({next:i=>{let r=this.originalData.findIndex(s=>s.id===i.id);if(r!==-1){let s=[...this.originalData];s[r]=i,this.originalData=s,this.filterByFramework(),this.filterByType()}},error:i=>{console.error("Erreur lors de la mise \xE0 jour de l'exigence",i)}})}deleteRequirement(e){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cette exigence? Cette action est irr\xE9versible.")&&this.requirementService.deleteRequirement(e).subscribe({next:()=>{this.originalData=this.originalData.filter(i=>i.id!==e),this.filterByFramework(),this.filterByType()},error:i=>{console.error("Erreur lors de la suppression de l'exigence",i)}})}static{this.\u0275fac=function(i){return new(i||t)(p(Ne),p(G),p(Re))}}static{this.\u0275cmp=E({type:t,selectors:[["app-requirements"]],viewQuery:function(i,r){if(i&1&&(T(j,5),T(A,5)),i&2){let s;P(s=D())&&(r.paginator=s.first),P(s=D())&&(r.sort=s.first)}},decls:57,vars:11,consts:[["input",""],["noFramework",""],[1,"requirements-container"],[1,"requirements-header"],["mat-raised-button","","color","primary",3,"click"],["appearance","outline",1,"filter-field"],["matInput","","placeholder","Ex. SEC-01",3,"keyup"],["matSuffix",""],[1,"filters-container"],["appearance","outline"],[3,"valueChange","selectionChange","value"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["value","PREVENTIVE"],["value","DETECTIVE"],["value","CORRECTIVE"],["class","loading-error-container",4,"ngIf"],[1,"mat-elevation-z2","data-table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","code"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","framework"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","type"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],[1,"loading-error-container"],["mode","indeterminate",4,"ngIf"],["class","error-message",4,"ngIf"],["mode","indeterminate"],[1,"error-message"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","framework-info",4,"ngIf","ngIfElse"],[1,"framework-info"],[1,"framework-name"],["class","framework-version",4,"ngIf"],[1,"framework-version"],["mat-header-cell",""],[3,"ngClass"],["mat-icon-button","","color","primary","matTooltip","Voir les d\xE9tails"],["mat-icon-button","","color","accent","matTooltip","Modifier",3,"click"],["mat-icon-button","","color","warn","matTooltip","Supprimer",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","5",1,"mat-cell"],[1,"no-data-message"],[4,"ngIf"]],template:function(i,r){if(i&1){let s=F();o(0,"div",2)(1,"div",3)(2,"h2"),a(3,"Exigences de Conformit\xE9"),n(),o(4,"button",4),f("click",function(){return b(s),k(r.openRequirementDialog())}),o(5,"mat-icon"),a(6,"add"),n(),a(7," Nouvelle Exigence "),n()(),o(8,"mat-form-field",5)(9,"mat-label"),a(10,"Rechercher"),n(),o(11,"input",6,0),f("keyup",function(h){return b(s),k(r.applyFilter(h))}),n(),o(13,"mat-icon",7),a(14,"search"),n()(),o(15,"div",8)(16,"mat-form-field",9)(17,"mat-label"),a(18,"R\xE9f\xE9rentiel"),n(),o(19,"mat-select",10),te("valueChange",function(h){return b(s),ee(r.selectedFramework,h)||(r.selectedFramework=h),k(h)}),f("selectionChange",function(){return b(s),k(r.filterByFramework())}),o(20,"mat-option",11),a(21,"Tous les r\xE9f\xE9rentiels"),n(),d(22,jn,2,3,"mat-option",12),n()(),o(23,"mat-form-field",9)(24,"mat-label"),a(25,"Type"),n(),o(26,"mat-select",10),te("valueChange",function(h){return b(s),ee(r.selectedType,h)||(r.selectedType=h),k(h)}),f("selectionChange",function(){return b(s),k(r.filterByType())}),o(27,"mat-option",11),a(28,"Tous les types"),n(),o(29,"mat-option",13),a(30,"Pr\xE9ventif"),n(),o(31,"mat-option",14),a(32,"D\xE9tectif"),n(),o(33,"mat-option",15),a(34,"Correctif"),n()()()(),d(35,$n,3,2,"div",16),o(36,"div",17)(37,"table",18),x(38,19),d(39,Hn,2,0,"th",20)(40,Qn,2,1,"td",21),C(),x(41,22),d(42,Un,2,0,"th",20)(43,Xn,4,2,"td",21),C(),x(44,23),d(45,Zn,2,0,"th",24)(46,Jn,2,1,"td",21),C(),x(47,25),d(48,eo,2,0,"th",20)(49,to,3,2,"td",21),C(),x(50,26),d(51,io,2,0,"th",24)(52,ro,10,0,"td",21),C(),d(53,no,1,0,"tr",27)(54,oo,1,0,"tr",28)(55,so,7,2,"tr",29),n(),_(56,"mat-paginator",30),n()()}i&2&&(c(19),J("value",r.selectedFramework),c(),m("value",""),c(2),m("ngForOf",r.frameworks),c(4),J("value",r.selectedType),c(),m("value",""),c(8),m("ngIf",r.isLoading||r.error),c(2),m("dataSource",r.dataSource),c(16),m("matHeaderRowDef",r.displayedColumns),c(),m("matRowDefColumns",r.displayedColumns),c(2),m("pageSizeOptions",ne(10,zn)))},dependencies:[Ye,oe,R,V,W,z,N,at,$,H,j,K,ge,ie,A,be,ae,se,pe,le,ce,ue,me,de,he,_e,De,Y],styles:[".requirements-container[_ngcontent-%COMP%]{padding:20px}.requirements-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.requirements-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:500;color:#333}.filter-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.filters-container[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:20px}.filters-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.loading-error-container[_ngcontent-%COMP%]{margin-bottom:15px}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;color:#f44336;padding:10px;border-radius:4px;background-color:#f443361a}.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}.data-table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:4px}table[_ngcontent-%COMP%]{width:100%}.mat-column-code[_ngcontent-%COMP%]{width:120px}.mat-column-framework[_ngcontent-%COMP%]{width:200px}.mat-column-description[_ngcontent-%COMP%]{min-width:300px}.mat-column-type[_ngcontent-%COMP%]{width:120px}.mat-column-actions[_ngcontent-%COMP%]{width:150px;text-align:center}.no-data-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:20px;color:#666}.no-data-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px;color:#999}.preventive-type[_ngcontent-%COMP%], .detective-type[_ngcontent-%COMP%], .corrective-type[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:12px;display:inline-block}.preventive-type[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.detective-type[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0}.corrective-type[_ngcontent-%COMP%]{background-color:#fff8e1;color:#ff8f00}.framework-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.framework-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.framework-version[_ngcontent-%COMP%]{font-size:.8em;color:#777;margin-top:2px}"]})}}return t})();var Ut=(()=>{class t{constructor(e){this.apiService=e,this.basePath="/risks"}getRisks(){return this.apiService.get(this.basePath).pipe(M(e=>(console.error("Erreur lors de la r\xE9cup\xE9ration des risques",e),w(()=>new Error("Impossible de r\xE9cup\xE9rer la liste des risques. Veuillez r\xE9essayer.")))))}getRisk(e){return this.apiService.get(`${this.basePath}/${e}`).pipe(M(i=>(console.error(`Erreur lors de la r\xE9cup\xE9ration du risque ${e}`,i),w(()=>new Error("Impossible de r\xE9cup\xE9rer les d\xE9tails du risque. Veuillez r\xE9essayer.")))))}static{this.\u0275fac=function(i){return new(i||t)(Z(qe))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function lo(t,l){if(t&1&&(o(0,"mat-option",9),a(1),n()),t&2){let e=l.$implicit;m("value",e.id),c(),v(" ",e.name," ")}}function mo(t,l){t&1&&(o(0,"mat-error"),a(1," Le risque est obligatoire "),n())}function po(t,l){if(t&1&&(o(0,"mat-option",9),a(1),n()),t&2){let e=l.$implicit;m("value",e.id),c(),Q(" ",e.name," (",e.version,") ")}}function uo(t,l){if(t&1&&(o(0,"mat-option",9),a(1),He(2,"slice"),n()),t&2){let e=l.$implicit;m("value",e.id),c(),pi(" ",e.code," - ",_t(2,4,e.description,0,50),"",e.description.length>50?"...":""," ")}}function ho(t,l){t&1&&(o(0,"mat-error"),a(1," L'exigence est obligatoire "),n())}function _o(t,l){t&1&&(o(0,"mat-error"),a(1," Le statut est obligatoire "),n())}function fo(t,l){t&1&&_(0,"mat-spinner",22)}function go(t,l){if(t&1&&(o(0,"span"),a(1),n()),t&2){let e=g();c(),y(e.isEditMode?"Mettre \xE0 jour":"Cr\xE9er")}}var lr=(()=>{class t{constructor(e,i,r,s,u,h,X){this.fb=e,this.dialogRef=i,this.data=r,this.riskService=s,this.frameworkService=u,this.requirementService=h,this.snackBar=X,this.isEditMode=!1,this.dialogTitle="Cr\xE9er un Mapping Risque-Conformit\xE9",this.isSubmitting=!1,this.risks=[],this.frameworks=[],this.requirements=[],this.filteredRequirements=[],this.selectedFramework=""}ngOnInit(){this.isEditMode=!!this.data?.mapping?.id,this.isEditMode&&(this.dialogTitle="Modifier le Mapping Risque-Conformit\xE9"),this.initForm(),this.loadData()}initForm(){let e=this.data?.mapping||{};this.mappingForm=this.fb.group({id:[e.id],riskId:[e.riskId||"",I.required],requirementId:[e.requirementId||"",I.required],status:[e.status||S.NON_COMPLIANT,I.required],comment:[e.comment||""],evidence:[e.evidence||""]}),this.isEditMode&&e.requirement?.framework&&(this.selectedFramework=e.requirement.framework.id)}loadData(){this.isSubmitting=!0,Ct({risks:this.riskService.getRisks(),frameworks:this.frameworkService.getFrameworks()}).subscribe({next:e=>{if(this.risks=e.risks,this.frameworks=e.frameworks,this.isEditMode&&this.data?.mapping){let i=this.data.mapping;i.requirement?.framework?(this.selectedFramework=i.requirement.framework.id,this.loadRequirementsByFramework(this.selectedFramework)):this.loadAllRequirements(),this.mappingForm.patchValue({riskId:i.riskId,requirementId:i.requirementId,status:i.status})}else this.loadAllRequirements()},error:e=>{console.error("Erreur lors du chargement des donn\xE9es",e),this.snackBar.open("Erreur lors du chargement des donn\xE9es. Veuillez r\xE9essayer.","Fermer",{duration:5e3,panelClass:["error-snackbar"]}),this.isSubmitting=!1}})}loadAllRequirements(){this.requirementService.getRequirements().subscribe({next:e=>{this.requirements=e,this.filteredRequirements=e,this.isSubmitting=!1},error:e=>{console.error("Erreur lors du chargement des exigences",e),this.snackBar.open("Erreur lors du chargement des exigences. Veuillez r\xE9essayer.","Fermer",{duration:5e3,panelClass:["error-snackbar"]}),this.isSubmitting=!1}})}loadRequirementsByFramework(e){if(!e){this.loadAllRequirements();return}this.isSubmitting=!0,this.requirementService.getRequirementsByFramework(e).pipe(ci(()=>this.isSubmitting=!1)).subscribe({next:i=>{this.requirements=i,this.filteredRequirements=i,this.validateRequirementSelection()},error:i=>{console.error(`Erreur lors du chargement des exigences du framework ${e}`,i),this.snackBar.open("Erreur lors du chargement des exigences. Veuillez r\xE9essayer.","Fermer",{duration:5e3,panelClass:["error-snackbar"]})}})}filterRequirements(){this.selectedFramework?this.loadRequirementsByFramework(this.selectedFramework):this.loadAllRequirements()}validateRequirementSelection(){let e=this.mappingForm.get("requirementId")?.value;e&&(this.filteredRequirements.some(r=>r.id===e)||this.mappingForm.patchValue({requirementId:""}))}onFrameworkChange(){this.filterRequirements()}onSubmit(){if(this.mappingForm.valid){this.isSubmitting=!0;let e=this.mappingForm.value;this.dialogRef.close(e)}}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(p(Pe),p(tt),p(it),p(Ut),p(G),p(Ne),p(et))}}static{this.\u0275cmp=E({type:t,selectors:[["app-mapping-form-dialog"]],standalone:!0,features:[$e],decls:52,vars:14,consts:[["mat-dialog-title",""],[3,"ngSubmit","formGroup"],[1,"form-fields"],["type","hidden","formControlName","id"],["appearance","outline",1,"full-width"],["formControlName","riskId","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"valueChange","selectionChange","value"],[3,"value"],["formControlName","requirementId","required",""],["formControlName","status","required",""],["value","COMPLIANT"],["value","NON_COMPLIANT"],["value","PARTIALLY_COMPLIANT"],["value","NOT_APPLICABLE"],["matInput","","formControlName","comment","placeholder","Commentaire sur le mapping","rows","2"],["matInput","","formControlName","evidence","placeholder","Justificatifs, preuves ou documents associ\xE9s","rows","3"],["align","end"],["mat-button","","type","button",3,"click","disabled"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["diameter","20","class","spinner-button",4,"ngIf"],["diameter","20",1,"spinner-button"]],template:function(i,r){if(i&1&&(o(0,"h2",0),a(1),n(),o(2,"form",1),f("ngSubmit",function(){return r.onSubmit()}),o(3,"mat-dialog-content")(4,"div",2),_(5,"input",3),o(6,"mat-form-field",4)(7,"mat-label"),a(8,"Risque"),n(),o(9,"mat-select",5),d(10,lo,2,2,"mat-option",6),n(),d(11,mo,2,0,"mat-error",7),n(),o(12,"mat-form-field",4)(13,"mat-label"),a(14,"R\xE9f\xE9rentiel"),n(),o(15,"mat-select",8),te("valueChange",function(u){return ee(r.selectedFramework,u)||(r.selectedFramework=u),u}),f("selectionChange",function(){return r.onFrameworkChange()}),o(16,"mat-option",9),a(17,"Tous les r\xE9f\xE9rentiels"),n(),d(18,po,2,3,"mat-option",6),n()(),o(19,"mat-form-field",4)(20,"mat-label"),a(21,"Exigence"),n(),o(22,"mat-select",10),d(23,uo,3,8,"mat-option",6),n(),d(24,ho,2,0,"mat-error",7),n(),o(25,"mat-form-field",4)(26,"mat-label"),a(27,"Statut de conformit\xE9"),n(),o(28,"mat-select",11)(29,"mat-option",12),a(30,"Conforme"),n(),o(31,"mat-option",13),a(32,"Non conforme"),n(),o(33,"mat-option",14),a(34,"Partiellement conforme"),n(),o(35,"mat-option",15),a(36,"Non applicable"),n()(),d(37,_o,2,0,"mat-error",7),n(),o(38,"mat-form-field",4)(39,"mat-label"),a(40,"Commentaire"),n(),_(41,"textarea",16),n(),o(42,"mat-form-field",4)(43,"mat-label"),a(44,"Preuves/Evidences"),n(),_(45,"textarea",17),n()()(),o(46,"mat-dialog-actions",18)(47,"button",19),f("click",function(){return r.onCancel()}),a(48,"Annuler"),n(),o(49,"button",20),d(50,fo,1,0,"mat-spinner",21)(51,go,2,1,"span",7),n()()()),i&2){let s,u,h;c(),y(r.dialogTitle),c(),m("formGroup",r.mappingForm),c(8),m("ngForOf",r.risks),c(),m("ngIf",(s=r.mappingForm.get("riskId"))==null?null:s.hasError("required")),c(4),J("value",r.selectedFramework),c(),m("value",""),c(2),m("ngForOf",r.frameworks),c(5),m("ngForOf",r.filteredRequirements),c(),m("ngIf",(u=r.mappingForm.get("requirementId"))==null?null:u.hasError("required")),c(13),m("ngIf",(h=r.mappingForm.get("status"))==null?null:h.hasError("required")),c(10),m("disabled",r.isSubmitting),c(2),m("disabled",r.mappingForm.invalid||r.isSubmitting),c(),m("ngIf",r.isSubmitting),c(),m("ngIf",!r.isSubmitting)}},dependencies:[we,oe,R,St,At,Ie,Me,Ee,Se,Te,Fe,Oe,qt,rt,ot,nt,Lt,z,N,Ae,Nt,ge,ie,Vt,H,Ot,V,Dt,yi],styles:[".form-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;min-width:500px}.full-width[_ngcontent-%COMP%]{width:100%}.spinner-button[_ngcontent-%COMP%]{display:inline-block;margin-right:8px;vertical-align:middle}  .mat-mdc-progress-spinner circle{stroke:#fff!important}mat-dialog-content[_ngcontent-%COMP%]{max-height:70vh;min-height:300px}mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}"]})}}return t})();var mt=(()=>{class t{constructor(e){this.apiService=e,this.basePath="/risk-compliance-mappings",this.gapAnalysisPath="/risk-compliance-mappings/gap-analysis"}getMappings(){return this.apiService.get(this.basePath).pipe(M(e=>(console.error("Erreur lors de la r\xE9cup\xE9ration des mappings",e),w(()=>new Error("Impossible de r\xE9cup\xE9rer la liste des mappings. Veuillez r\xE9essayer.")))))}getMappingsByRisk(e){return this.apiService.get(`${this.basePath}?riskId=${e}`).pipe(M(i=>(console.error(`Erreur lors de la r\xE9cup\xE9ration des mappings du risque ${e}`,i),w(()=>new Error("Impossible de r\xE9cup\xE9rer les mappings de ce risque. Veuillez r\xE9essayer.")))))}getMappingsByFramework(e){return this.apiService.get(`${this.basePath}?frameworkId=${e}`).pipe(M(i=>(console.error(`Erreur lors de la r\xE9cup\xE9ration des mappings du framework ${e}`,i),w(()=>new Error("Impossible de r\xE9cup\xE9rer les mappings de ce framework. Veuillez r\xE9essayer.")))))}getMapping(e){return this.apiService.get(`${this.basePath}/${e}`).pipe(M(i=>(console.error(`Erreur lors de la r\xE9cup\xE9ration du mapping ${e}`,i),w(()=>new Error("Impossible de r\xE9cup\xE9rer les d\xE9tails du mapping. Veuillez r\xE9essayer.")))))}createMapping(e){return this.apiService.post(this.basePath,e).pipe(M(i=>(console.error("Erreur lors de la cr\xE9ation du mapping",i),w(()=>new Error("Impossible de cr\xE9er le mapping. Veuillez r\xE9essayer.")))))}updateMapping(e,i){return this.apiService.put(`${this.basePath}/${e}`,i).pipe(M(r=>(console.error(`Erreur lors de la mise \xE0 jour du mapping ${e}`,r),w(()=>new Error("Impossible de mettre \xE0 jour le mapping. Veuillez r\xE9essayer.")))))}deleteMapping(e){return this.apiService.delete(`${this.basePath}/${e}`).pipe(M(i=>(console.error(`Erreur lors de la suppression du mapping ${e}`,i),w(()=>new Error("Impossible de supprimer le mapping. Veuillez r\xE9essayer.")))))}getGapAnalysis(e,i){let r=`${this.gapAnalysisPath}?frameworkId=${e}`;return i&&(r+=`&riskId=${i}`),this.apiService.get(r).pipe(M(s=>(console.error(`Erreur lors de la r\xE9cup\xE9ration de l'analyse d'\xE9carts. Framework: ${e}, Risque: ${i||"non sp\xE9cifi\xE9"}`,s),w(()=>new Error("Impossible de r\xE9cup\xE9rer l'analyse d'\xE9carts. Veuillez r\xE9essayer.")))))}getCompliancePercentage(e,i){return this.apiService.get(`${this.basePath}/compliance-percentage?riskId=${e}&frameworkId=${i}`).pipe(ai(r=>r.percentage),M(r=>(console.error(`Erreur lors du calcul du pourcentage de conformit\xE9 pour le risque ${e} et le framework ${i}`,r),w(()=>new Error("Impossible de calculer le pourcentage de conformit\xE9. Veuillez r\xE9essayer.")))))}getErrorMessage(e){if(e.error){if(typeof e.error=="string")return e.error;if(e.error.message)return e.error.message;if(typeof e.error=="object"){let i=Object.entries(e.error).map(([r,s])=>`${r}: ${s}`).join(", ");if(i)return`Erreurs de validation: ${i}`}}return e.statusText||"Une erreur est survenue"}static{this.\u0275fac=function(i){return new(i||t)(Z(qe))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var bo=()=>[5,10,25,100];function ko(t,l){if(t&1&&(o(0,"mat-option",11),a(1),n()),t&2){let e=l.$implicit;m("value",e.id),c(),v(" ",e.name," ")}}function vo(t,l){t&1&&_(0,"mat-progress-bar",35)}function xo(t,l){if(t&1&&(o(0,"div",36)(1,"mat-icon"),a(2,"error"),n(),o(3,"span"),a(4),n()()),t&2){let e=g(2);c(4),y(e.error)}}function Co(t,l){if(t&1&&(o(0,"div",32),d(1,vo,1,0,"mat-progress-bar",33)(2,xo,5,1,"div",34),n()),t&2){let e=g();c(),m("ngIf",e.isLoading),c(),m("ngIf",e.error)}}function yo(t,l){t&1&&(o(0,"th",37),a(1," Exigence "),n())}function wo(t,l){if(t&1&&(o(0,"td",38)(1,"div",39)(2,"span",40),a(3),n(),o(4,"span",41),a(5),He(6,"slice"),n(),o(7,"span",42),a(8),n()()()),t&2){let e=l.$implicit;c(3),y((e.requirement==null?null:e.requirement.code)||"N/A"),c(2),Q("",_t(6,4,e.requirement==null?null:e.requirement.description,0,50),"",(e.requirement==null?null:e.requirement.description.length)>50?"...":"",""),c(3),y((e.requirement==null||e.requirement.framework==null?null:e.requirement.framework.name)||"")}}function Mo(t,l){t&1&&(o(0,"th",37),a(1," Risque "),n())}function Eo(t,l){if(t&1&&(o(0,"span",46),a(1),He(2,"slice"),n()),t&2){let e=g().$implicit;c(),Q("",_t(2,2,e.risk==null?null:e.risk.description,0,50),"",(e.risk==null?null:e.risk.description.length)>50?"...":"","")}}function So(t,l){if(t&1&&(o(0,"td",38)(1,"div",43)(2,"span",44),a(3),n(),d(4,Eo,3,6,"span",45),n()()),t&2){let e=l.$implicit;c(3),y((e.risk==null?null:e.risk.name)||"N/A"),c(),m("ngIf",e.risk==null?null:e.risk.description)}}function Io(t,l){t&1&&(o(0,"th",37),a(1," Statut "),n())}function Fo(t,l){if(t&1&&(o(0,"td",38)(1,"span",47),a(2),n()()),t&2){let e=l.$implicit,i=g();c(),m("ngClass",i.getStatusClass(e.status)),c(),v(" ",i.getStatusLabel(e.status)," ")}}function Oo(t,l){t&1&&(o(0,"th",48),a(1," Commentaire "),n())}function To(t,l){if(t&1&&(o(0,"td",38),a(1),n()),t&2){let e=l.$implicit;c(),v(" ",e.comment||"-"," ")}}function Po(t,l){t&1&&(o(0,"th",48),a(1," Actions "),n())}function Do(t,l){if(t&1){let e=F();o(0,"td",38)(1,"button",49),f("click",function(){let r=b(e).$implicit,s=g();return k(s.openMappingDialog(r))}),o(2,"mat-icon"),a(3,"edit"),n()(),o(4,"button",50),f("click",function(){let r=b(e).$implicit,s=g();return k(s.deleteMapping(r.id))}),o(5,"mat-icon"),a(6,"delete"),n()()()}}function Ro(t,l){t&1&&_(0,"tr",51)}function Ao(t,l){t&1&&_(0,"tr",52)}function qo(t,l){if(t&1&&(o(0,"span"),a(1),n()),t&2){g(2);let e=L(13);c(),v('Aucun mapping trouv\xE9 pour "',e.value,'"')}}function Lo(t,l){t&1&&(o(0,"span"),a(1,"Aucun mapping disponible"),n())}function Vo(t,l){if(t&1&&(o(0,"tr",53)(1,"td",54)(2,"div",55)(3,"mat-icon"),a(4,"info"),n(),d(5,qo,2,1,"span",56)(6,Lo,2,0,"span",56),n()()()),t&2){let e=g(),i=L(13);c(5),m("ngIf",i.value),c(),m("ngIf",!i.value&&!e.isLoading&&!e.error)}}var dr=(()=>{class t{constructor(e,i,r,s){this.mappingService=e,this.frameworkService=i,this.dialog=r,this.snackBar=s,this.displayedColumns=["requirement","risk","status","comment","actions"],this.dataSource=new fe([]),this.frameworks=[],this.selectedFramework="",this.selectedStatus="",this.isLoading=!0,this.error=null,this.originalData=[]}ngOnInit(){this.loadFrameworks(),this.loadMappings()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let i=e.target.value;this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}loadFrameworks(){this.frameworkService.getFrameworks().subscribe({next:e=>{this.frameworks=e},error:e=>{console.error("Erreur lors du chargement des frameworks",e),this.showErrorSnackbar("Impossible de charger les r\xE9f\xE9rentiels")}})}loadMappings(){this.isLoading=!0,this.error=null,this.mappingService.getMappings().subscribe({next:e=>{console.log("Mappings re\xE7us du backend :",e),this.originalData=e,this.dataSource.data=e,this.isLoading=!1},error:e=>{console.error("Erreur lors du chargement des mappings",e),this.error="Impossible de charger les mappings. Veuillez r\xE9essayer.",this.isLoading=!1}})}filterData(){if(this.isLoading=!0,this.error=null,this.selectedFramework)this.mappingService.getMappingsByFramework(this.selectedFramework).subscribe({next:e=>{this.originalData=e;let i=[...e];this.selectedStatus&&(i=i.filter(r=>r.status===this.selectedStatus)),this.dataSource.data=i,this.isLoading=!1},error:e=>{console.error(`Erreur lors du filtrage par framework (${this.selectedFramework})`,e),this.error="Impossible de filtrer les mappings. Veuillez r\xE9essayer.",this.isLoading=!1}});else{if(this.selectedStatus){let e=this.originalData.filter(i=>i.status===this.selectedStatus);this.dataSource.data=e}else this.dataSource.data=this.originalData;this.isLoading=!1}this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getStatusLabel(e){switch(e){case S.COMPLIANT:return"Conforme";case S.NON_COMPLIANT:return"Non conforme";case S.PARTIALLY_COMPLIANT:return"Partiellement conforme";case S.NOT_APPLICABLE:return"Non applicable";default:return e}}getStatusClass(e){switch(e){case S.COMPLIANT:return"status-compliant";case S.NON_COMPLIANT:return"status-non-compliant";case S.PARTIALLY_COMPLIANT:return"status-partially-compliant";case S.NOT_APPLICABLE:return"status-not-applicable";default:return""}}openMappingDialog(e){this.dialog.open(lr,{width:"600px",data:{mapping:e||{}}}).afterClosed().subscribe(r=>{r&&(r.id?this.updateMapping(r):this.createMapping(r))})}createMapping(e){this.isLoading=!0,this.mappingService.createMapping(e).subscribe({next:i=>{this.originalData=[...this.originalData,i],this.filterData(),this.isLoading=!1,this.showSuccessSnackbar("Mapping cr\xE9\xE9 avec succ\xE8s")},error:i=>{console.error("Erreur lors de la cr\xE9ation du mapping",i),this.isLoading=!1,this.showErrorSnackbar("Impossible de cr\xE9er le mapping")}})}updateMapping(e){this.isLoading=!0,this.mappingService.updateMapping(e.id,e).subscribe({next:i=>{let r=this.originalData.findIndex(s=>s.id===i.id);if(r!==-1){let s=[...this.originalData];s[r]=i,this.originalData=s,this.filterData()}this.isLoading=!1,this.showSuccessSnackbar("Mapping mis \xE0 jour avec succ\xE8s")},error:i=>{console.error("Erreur lors de la mise \xE0 jour du mapping",i),this.isLoading=!1,this.showErrorSnackbar("Impossible de mettre \xE0 jour le mapping")}})}deleteMapping(e){confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce mapping? Cette action est irr\xE9versible.")&&(this.isLoading=!0,this.mappingService.deleteMapping(e).subscribe({next:()=>{this.originalData=this.originalData.filter(i=>i.id!==e),this.filterData(),this.isLoading=!1,this.showSuccessSnackbar("Mapping supprim\xE9 avec succ\xE8s")},error:i=>{console.error("Erreur lors de la suppression du mapping",i),this.isLoading=!1,this.showErrorSnackbar("Impossible de supprimer le mapping")}}))}showSuccessSnackbar(e){this.snackBar.open(e,"Fermer",{duration:3e3,panelClass:["success-snackbar"]})}showErrorSnackbar(e){this.snackBar.open(e,"Fermer",{duration:5e3,panelClass:["error-snackbar"]})}static{this.\u0275fac=function(i){return new(i||t)(p(mt),p(G),p(Re),p(et))}}static{this.\u0275cmp=E({type:t,selectors:[["app-mappings"]],viewQuery:function(i,r){if(i&1&&(T(j,5),T(A,5)),i&2){let s;P(s=D())&&(r.paginator=s.first),P(s=D())&&(r.sort=s.first)}},decls:60,vars:11,consts:[["input",""],[1,"mappings-container"],[1,"mappings-header"],["mat-raised-button","","color","primary",3,"click"],[1,"filter-container"],["appearance","outline",1,"filter-field"],["matInput","","placeholder","Ex. ISO 27001",3,"keyup"],["matSuffix",""],[1,"filter-buttons"],["appearance","outline"],[3,"valueChange","selectionChange","value"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["value","COMPLIANT"],["value","NON_COMPLIANT"],["value","PARTIALLY_COMPLIANT"],["value","NOT_APPLICABLE"],["class","loading-error-container",4,"ngIf"],[1,"mat-elevation-z2","data-table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","requirement"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","risk"],["matColumnDef","status"],["matColumnDef","comment"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],[1,"loading-error-container"],["mode","indeterminate",4,"ngIf"],["class","error-message",4,"ngIf"],["mode","indeterminate"],[1,"error-message"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"requirement-info"],[1,"requirement-code"],[1,"requirement-description"],[1,"framework-name"],[1,"risk-info"],[1,"risk-name"],["class","risk-description",4,"ngIf"],[1,"risk-description"],[3,"ngClass"],["mat-header-cell",""],["mat-icon-button","","color","accent","matTooltip","Modifier",3,"click"],["mat-icon-button","","color","warn","matTooltip","Supprimer",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","5",1,"mat-cell"],[1,"no-data-message"],[4,"ngIf"]],template:function(i,r){if(i&1){let s=F();o(0,"div",1)(1,"div",2)(2,"h2"),a(3,"Mappings Risques-Conformit\xE9"),n(),o(4,"button",3),f("click",function(){return b(s),k(r.openMappingDialog())}),o(5,"mat-icon"),a(6,"add"),n(),a(7," Nouveau Mapping "),n()(),o(8,"div",4)(9,"mat-form-field",5)(10,"mat-label"),a(11,"Rechercher"),n(),o(12,"input",6,0),f("keyup",function(h){return b(s),k(r.applyFilter(h))}),n(),o(14,"mat-icon",7),a(15,"search"),n()(),o(16,"div",8)(17,"mat-form-field",9)(18,"mat-label"),a(19,"R\xE9f\xE9rentiel"),n(),o(20,"mat-select",10),te("valueChange",function(h){return b(s),ee(r.selectedFramework,h)||(r.selectedFramework=h),k(h)}),f("selectionChange",function(){return b(s),k(r.filterData())}),o(21,"mat-option",11),a(22,"Tous"),n(),d(23,ko,2,2,"mat-option",12),n()(),o(24,"mat-form-field",9)(25,"mat-label"),a(26,"Statut"),n(),o(27,"mat-select",10),te("valueChange",function(h){return b(s),ee(r.selectedStatus,h)||(r.selectedStatus=h),k(h)}),f("selectionChange",function(){return b(s),k(r.filterData())}),o(28,"mat-option",11),a(29,"Tous"),n(),o(30,"mat-option",13),a(31,"Conforme"),n(),o(32,"mat-option",14),a(33,"Non conforme"),n(),o(34,"mat-option",15),a(35,"Partiellement conforme"),n(),o(36,"mat-option",16),a(37,"Non applicable"),n()()()()(),d(38,Co,3,2,"div",17),o(39,"div",18)(40,"table",19),x(41,20),d(42,yo,2,0,"th",21)(43,wo,9,8,"td",22),C(),x(44,23),d(45,Mo,2,0,"th",21)(46,So,5,2,"td",22),C(),x(47,24),d(48,Io,2,0,"th",21)(49,Fo,3,2,"td",22),C(),x(50,25),d(51,Oo,2,0,"th",26)(52,To,2,1,"td",22),C(),x(53,27),d(54,Po,2,0,"th",26)(55,Do,7,0,"td",22),C(),d(56,Ro,1,0,"tr",28)(57,Ao,1,0,"tr",29)(58,Vo,7,2,"tr",30),n(),_(59,"mat-paginator",31),n()()}i&2&&(c(20),J("value",r.selectedFramework),c(),m("value",""),c(2),m("ngForOf",r.frameworks),c(4),J("value",r.selectedStatus),c(),m("value",""),c(10),m("ngIf",r.isLoading||r.error),c(2),m("dataSource",r.dataSource),c(16),m("matHeaderRowDef",r.displayedColumns),c(),m("matRowDefColumns",r.displayedColumns),c(2),m("pageSizeOptions",ne(10,bo)))},dependencies:[Ye,oe,R,V,W,z,N,at,$,H,j,K,ge,ie,A,be,ae,se,pe,le,ce,ue,me,de,he,_e,De,Y,St],styles:[".mappings-container[_ngcontent-%COMP%]{padding:20px}.mappings-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.mappings-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:500;color:#333}.filter-container[_ngcontent-%COMP%]{margin-bottom:20px}.filter-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.filter-buttons[_ngcontent-%COMP%]{display:flex;gap:15px}.filter-buttons[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.loading-error-container[_ngcontent-%COMP%]{margin-bottom:15px}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;color:#f44336;padding:10px;border-radius:4px;background-color:#f443361a}.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}.data-table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:4px}table[_ngcontent-%COMP%]{width:100%}.mat-column-requirement[_ngcontent-%COMP%], .mat-column-risk[_ngcontent-%COMP%]{min-width:200px}.mat-column-status[_ngcontent-%COMP%]{width:150px}.mat-column-comment[_ngcontent-%COMP%]{min-width:200px}.mat-column-actions[_ngcontent-%COMP%]{width:120px;text-align:center}.requirement-info[_ngcontent-%COMP%], .risk-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.requirement-code[_ngcontent-%COMP%]{font-weight:700;color:#333}.requirement-description[_ngcontent-%COMP%]{font-size:.85em;color:#666;margin-top:2px}.framework-name[_ngcontent-%COMP%]{font-size:.8em;color:#888;font-style:italic;margin-top:2px}.risk-name[_ngcontent-%COMP%]{font-weight:700;color:#333}.risk-description[_ngcontent-%COMP%]{font-size:.85em;color:#666;margin-top:2px}.no-data-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:20px;color:#666}.no-data-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px;color:#999}.status-compliant[_ngcontent-%COMP%], .status-non-compliant[_ngcontent-%COMP%], .status-partially-compliant[_ngcontent-%COMP%], .status-not-applicable[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:12px;display:inline-block}.status-compliant[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.status-non-compliant[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.status-partially-compliant[_ngcontent-%COMP%]{background-color:#fff8e1;color:#ff8f00}.status-not-applicable[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#757575}"]})}}return t})();var No=()=>[10,25,50,100];function zo(t,l){if(t&1&&(o(0,"mat-option",7),a(1),n()),t&2){let e=l.$implicit;m("value",e.id),c(),Q(" ",e.name," (",e.version,") ")}}function jo(t,l){if(t&1&&(o(0,"mat-option",7),a(1),n()),t&2){let e=l.$implicit;m("value",e.id),c(),v(" ",e.name," ")}}function Bo(t,l){t&1&&_(0,"mat-progress-bar",13)}function Go(t,l){if(t&1&&(o(0,"div",14)(1,"mat-icon"),a(2,"error"),n(),o(3,"span"),a(4),n()()),t&2){let e=g(2);c(4),y(e.error)}}function $o(t,l){if(t&1&&(o(0,"div",10),d(1,Bo,1,0,"mat-progress-bar",11)(2,Go,5,1,"div",12),n()),t&2){let e=g();c(),m("ngIf",e.isLoading),c(),m("ngIf",e.error)}}function Ho(t,l){t&1&&(o(0,"div",16)(1,"mat-icon"),a(2,"info"),n(),o(3,"p"),a(4,"Veuillez s\xE9lectionner un r\xE9f\xE9rentiel pour afficher l'analyse d'\xE9carts."),n()())}function Qo(t,l){t&1&&(o(0,"th",43),a(1," Code "),n())}function Uo(t,l){if(t&1&&(o(0,"td",44),a(1),n()),t&2){let e=l.$implicit;c(),v(" ",e.code," ")}}function Wo(t,l){t&1&&(o(0,"th",45),a(1," Description "),n())}function Yo(t,l){if(t&1&&(o(0,"td",44),a(1),n()),t&2){let e=l.$implicit;c(),v(" ",e.description," ")}}function Ko(t,l){t&1&&(o(0,"th",45),a(1," Actions "),n())}function Xo(t,l){if(t&1){let e=F();o(0,"td",44)(1,"button",46),f("click",function(){let r=b(e).$implicit,s=g(3);return k(s.createActionPlan(r))}),o(2,"mat-icon"),a(3,"assignment"),n()()()}t&2&&(c(),m("matTooltip","Cr\xE9er un plan d'action"))}function Zo(t,l){t&1&&_(0,"tr",47)}function Jo(t,l){t&1&&_(0,"tr",48)}function ea(t,l){if(t&1&&(x(0),o(1,"div",17)(2,"mat-card",18)(3,"div",19)(4,"div",20)(5,"mat-icon"),a(6,"check_circle"),n()(),o(7,"div",21)(8,"span",22),a(9),n(),o(10,"span",23),a(11,"Conforme"),n()()()(),o(12,"mat-card",18)(13,"div",19)(14,"div",24)(15,"mat-icon"),a(16,"cancel"),n()(),o(17,"div",21)(18,"span",22),a(19),n(),o(20,"span",23),a(21,"Non conforme"),n()()()(),o(22,"mat-card",18)(23,"div",19)(24,"div",25)(25,"mat-icon"),a(26,"remove_circle"),n()(),o(27,"div",21)(28,"span",22),a(29),n(),o(30,"span",23),a(31,"Partiellement conforme"),n()()()(),o(32,"mat-card",18)(33,"div",19)(34,"div",26)(35,"mat-icon"),a(36,"not_interested"),n()(),o(37,"div",21)(38,"span",22),a(39),n(),o(40,"span",23),a(41,"Non applicable"),n()()()()(),o(42,"mat-card",27)(43,"mat-card-header")(44,"mat-card-title"),a(45,"Progression de la conformit\xE9"),n()(),o(46,"mat-card-content")(47,"div",28)(48,"div",29)(49,"span"),a(50),He(51,"number"),n()(),_(52,"mat-progress-bar",30),n()()(),o(53,"mat-card",31)(54,"mat-card-header")(55,"mat-card-title"),a(56),n()(),o(57,"mat-card-content")(58,"div",32)(59,"table",33),x(60,34),d(61,Qo,2,0,"th",35)(62,Uo,2,1,"td",36),C(),x(63,37),d(64,Wo,2,0,"th",38)(65,Yo,2,1,"td",36),C(),x(66,39),d(67,Ko,2,0,"th",38)(68,Xo,4,1,"td",36),C(),d(69,Zo,1,0,"tr",40)(70,Jo,1,0,"tr",41),n(),_(71,"mat-paginator",42),n()()(),C()),t&2){let e=g(2);c(9),y(e.compliantCount),c(10),y(e.nonCompliantCount),c(10),y(e.partiallyCompliantCount),c(10),y(e.notApplicableCount),c(11),v("",ui(51,11,e.compliancePercentage,"1.0-1"),"%"),c(2),m("value",e.compliancePercentage),c(4),v("Exigences non couvertes (",e.dataSource.data.length,")"),c(3),m("dataSource",e.dataSource),c(10),m("matHeaderRowDef",e.displayedColumns),c(),m("matRowDefColumns",e.displayedColumns),c(),m("pageSizeOptions",ne(14,No))}}function ta(t,l){if(t&1&&(x(0),d(1,Ho,5,0,"div",15)(2,ea,72,15,"ng-container",9),C()),t&2){let e=g();c(),m("ngIf",!e.selectedFramework),c(),m("ngIf",e.selectedFramework&&e.gapAnalysisResult)}}var pr=(()=>{class t{constructor(e,i,r,s){this.frameworkService=e,this.mappingService=i,this.riskService=r,this.snackBar=s,this.displayedColumns=["code","description","actions"],this.dataSource=new fe([]),this.frameworks=[],this.risks=[],this.selectedFramework="",this.selectedRisk="",this.isLoading=!1,this.error=null,this.gapAnalysisResult=null,this.compliantCount=0,this.nonCompliantCount=0,this.partiallyCompliantCount=0,this.notApplicableCount=0,this.compliancePercentage=0}ngOnInit(){this.loadInitialData()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}loadInitialData(){this.isLoading=!0,this.error=null,Ct({frameworks:this.frameworkService.getFrameworks(),risks:this.riskService.getRisks()}).subscribe({next:e=>{this.frameworks=e.frameworks,this.risks=e.risks,this.isLoading=!1},error:e=>{console.error("Erreur lors du chargement des donn\xE9es initiales",e),this.error="Impossible de charger les donn\xE9es. Veuillez r\xE9essayer.",this.isLoading=!1,this.showErrorSnackbar("Impossible de charger les donn\xE9es")}})}loadGapAnalysis(){if(!this.selectedFramework){this.resetGapAnalysis();return}this.isLoading=!0,this.error=null,this.mappingService.getGapAnalysis(this.selectedFramework,this.selectedRisk||void 0).subscribe({next:e=>{this.gapAnalysisResult=e,this.compliantCount=e.counts[S.COMPLIANT]||0,this.nonCompliantCount=e.counts[S.NON_COMPLIANT]||0,this.partiallyCompliantCount=e.counts[S.PARTIALLY_COMPLIANT]||0,this.notApplicableCount=e.counts[S.NOT_APPLICABLE]||0,this.compliancePercentage=e.compliancePercentage||0,this.dataSource.data=e.gaps||[],this.isLoading=!1;let i=this.selectedRisk?"Analyse d'\xE9carts charg\xE9e pour le r\xE9f\xE9rentiel et le risque s\xE9lectionn\xE9s":"Analyse d'\xE9carts charg\xE9e pour le r\xE9f\xE9rentiel";this.showSuccessSnackbar(i)},error:e=>{console.error("Erreur lors du chargement de l'analyse d'\xE9carts",e),this.error="Impossible de charger l'analyse d'\xE9carts. Veuillez r\xE9essayer.",this.isLoading=!1,this.showErrorSnackbar("Impossible de charger l'analyse d'\xE9carts")}})}resetGapAnalysis(){this.gapAnalysisResult=null,this.dataSource.data=[],this.compliantCount=0,this.nonCompliantCount=0,this.partiallyCompliantCount=0,this.notApplicableCount=0,this.compliancePercentage=0}getStatusLabel(e){switch(e){case S.COMPLIANT:return"Conforme";case S.NON_COMPLIANT:return"Non conforme";case S.PARTIALLY_COMPLIANT:return"Partiellement conforme";case S.NOT_APPLICABLE:return"Non applicable";default:return e}}getStatusClass(e){switch(e){case S.COMPLIANT:return"status-compliant";case S.NON_COMPLIANT:return"status-non-compliant";case S.PARTIALLY_COMPLIANT:return"status-partially-compliant";case S.NOT_APPLICABLE:return"status-not-applicable";default:return""}}createActionPlan(e){this.showInfoSnackbar("La cr\xE9ation de plans d'action sera bient\xF4t disponible")}showSuccessSnackbar(e){this.snackBar.open(e,"Fermer",{duration:3e3,panelClass:["success-snackbar"]})}showErrorSnackbar(e){this.snackBar.open(e,"Fermer",{duration:5e3,panelClass:["error-snackbar"]})}showInfoSnackbar(e){this.snackBar.open(e,"Fermer",{duration:4e3,panelClass:["info-snackbar"]})}static{this.\u0275fac=function(i){return new(i||t)(p(G),p(mt),p(Ut),p(et))}}static{this.\u0275cmp=E({type:t,selectors:[["app-gap-analysis"]],viewQuery:function(i,r){if(i&1&&(T(j,5),T(A,5)),i&2){let s;P(s=D())&&(r.paginator=s.first),P(s=D())&&(r.sort=s.first)}},decls:20,vars:7,consts:[[1,"gap-analysis-container"],[1,"gap-analysis-header"],[1,"filter-container"],[1,"filter-row"],["appearance","outline",1,"filter-field"],[3,"valueChange","selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","loading-error-container",4,"ngIf"],[4,"ngIf"],[1,"loading-error-container"],["mode","indeterminate",4,"ngIf"],["class","error-message",4,"ngIf"],["mode","indeterminate"],[1,"error-message"],["class","no-framework-selected",4,"ngIf"],[1,"no-framework-selected"],[1,"dashboard-cards"],[1,"dashboard-card"],[1,"card-content"],[1,"card-icon","compliant"],[1,"card-stats"],[1,"stat-value"],[1,"stat-label"],[1,"card-icon","non-compliant"],[1,"card-icon","partially-compliant"],[1,"card-icon","not-applicable"],[1,"progress-card"],[1,"progress-bar-container"],[1,"progress-label"],["mode","determinate",3,"value"],[1,"gap-table-card"],[1,"gap-table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","code"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary",3,"click","matTooltip"],["mat-header-row",""],["mat-row",""]],template:function(i,r){i&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),a(3,"Analyse d'\xC9carts de Conformit\xE9"),n()(),o(4,"div",2)(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),a(8,"S\xE9lectionner un r\xE9f\xE9rentiel"),n(),o(9,"mat-select",5),te("valueChange",function(u){return ee(r.selectedFramework,u)||(r.selectedFramework=u),u}),f("selectionChange",function(){return r.loadGapAnalysis()}),d(10,zo,2,3,"mat-option",6),n()(),o(11,"mat-form-field",4)(12,"mat-label"),a(13,"S\xE9lectionner un risque (optionnel)"),n(),o(14,"mat-select",5),te("valueChange",function(u){return ee(r.selectedRisk,u)||(r.selectedRisk=u),u}),f("selectionChange",function(){return r.loadGapAnalysis()}),o(15,"mat-option",7),a(16,"Tous les risques"),n(),d(17,jo,2,2,"mat-option",6),n()()()(),d(18,$o,3,2,"div",8)(19,ta,3,2,"ng-container",9),n()),i&2&&(c(9),J("value",r.selectedFramework),c(),m("ngForOf",r.frameworks),c(4),J("value",r.selectedRisk),c(),m("value",""),c(2),m("ngForOf",r.risks),c(),m("ngIf",r.isLoading||r.error),c(),m("ngIf",!r.isLoading&&!r.error))},dependencies:[oe,R,W,Ze,Je,Pt,Tt,z,N,$,j,K,ge,ie,A,be,ae,se,pe,le,ce,ue,me,de,he,_e,Y,_i],styles:[".gap-analysis-container[_ngcontent-%COMP%]{padding:20px}.gap-analysis-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.gap-analysis-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:500;color:#333}.filter-container[_ngcontent-%COMP%]{margin-bottom:20px}.filter-row[_ngcontent-%COMP%]{display:flex;gap:16px}.filter-row[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{flex:1}.filter-field[_ngcontent-%COMP%]{width:100%}.loading-error-container[_ngcontent-%COMP%]{margin-bottom:15px}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;color:#f44336;padding:10px;border-radius:4px;background-color:#f443361a}.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}.no-framework-selected[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:40px;background-color:#f5f5f5;border-radius:4px;margin-bottom:20px}.no-framework-selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;margin-right:15px;color:#757575}.no-framework-selected[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#757575}.dashboard-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px;margin-bottom:20px}.dashboard-card[_ngcontent-%COMP%]{padding:0}.card-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px}.card-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:48px;height:48px;border-radius:50%;margin-right:15px}.card-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.card-icon.compliant[_ngcontent-%COMP%]{background-color:#e8f5e9}.card-icon.compliant[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2e7d32}.card-icon.non-compliant[_ngcontent-%COMP%]{background-color:#ffebee}.card-icon.non-compliant[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#c62828}.card-icon.partially-compliant[_ngcontent-%COMP%]{background-color:#fff8e1}.card-icon.partially-compliant[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff8f00}.card-icon.not-applicable[_ngcontent-%COMP%]{background-color:#f5f5f5}.card-icon.not-applicable[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#757575}.card-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:500;margin-bottom:5px}.stat-label[_ngcontent-%COMP%]{font-size:14px;color:#0009}.progress-card[_ngcontent-%COMP%]{margin-bottom:20px}.progress-bar-container[_ngcontent-%COMP%]{padding:15px 0}.progress-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:10px;font-weight:500}.gap-table-card[_ngcontent-%COMP%]{margin-bottom:20px}.gap-table-container[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%}.mat-column-code[_ngcontent-%COMP%]{width:120px}.mat-column-description[_ngcontent-%COMP%]{min-width:300px}.mat-column-status[_ngcontent-%COMP%]{width:150px}.mat-column-gaps[_ngcontent-%COMP%]{min-width:200px}.mat-column-actions[_ngcontent-%COMP%]{width:100px;text-align:center}.status-compliant[_ngcontent-%COMP%], .status-non-compliant[_ngcontent-%COMP%], .status-partially-compliant[_ngcontent-%COMP%], .status-not-applicable[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:12px;display:inline-block}.status-compliant[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.status-non-compliant[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.status-partially-compliant[_ngcontent-%COMP%]{background-color:#fff8e1;color:#ff8f00}.status-not-applicable[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#757575}"]})}}return t})();var ia=[{path:"",component:tr,children:[{path:"",redirectTo:"frameworks",pathMatch:"full"},{path:"frameworks",component:ir},{path:"frameworks/:id",component:nr},{path:"frameworks/edit/:id",component:or,canActivate:[er]},{path:"requirements",component:ar},{path:"mappings",component:dr},{path:"gap-analysis",component:pr}]}],ll=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ye({type:t})}static{this.\u0275inj=Ce({providers:[G,Ne,mt],imports:[we,bi.forChild(ia),Di,At,ji,Ot,Ci,Xi,qt,Oi,Lt,Ei,Vt,Ri,Hi,zi,Dt,Zi,Nt,Qi,qi,$i,Ii,Ni,Ai,Vi,Ji,Li]})}}return t})();export{ll as ComplianceModule};
